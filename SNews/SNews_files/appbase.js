window.define=function(a){try{delete window.define}catch(b){window.define=void 0}window.when=a()};window.define.amd={};(function(b,a){b(function(g){K.promise=L;K.resolve=u;K.reject=y;K.defer=j;K.join=m;K.all=s;K.map=B;K.reduce=p;K.settle=D;K.any=E;K.some=M;K.isPromise=d;K.isPromiseLike=d;function K(Z,ac,aa,ab){return J(Z).then(ac,aa,ab)}function J(Z){return Z instanceof I?Z:u(Z)}function I(Z,aa){this._message=Z;this.inspect=aa}I.prototype={then:function(ad,aa,ac){var Z,ab;Z=arguments;ab=this._message;return k(function(ag,af,ae){ab("when",Z,ag,ae)},this._status&&this._status.observed())},otherwise:function(Z){return this.then(z,Z)},ensure:function(aa){return typeof aa==="function"?this.then(Z,Z)["yield"](this):this;function Z(){return u(aa())}},done:function(Z,aa){this.then(Z,aa).otherwise(R)},yield:function(Z){return this.then(function(){return Z})},tap:function(Z){return this.then(Z)["yield"](this)},spread:function(Z){return this.then(function(aa){return s(aa,function(ab){return Z.apply(z,ab)})})},always:function(Z,aa){return this.then(Z,Z,aa)}};function u(Z){return L(function(aa){aa(Z)})}function y(Z){return K(Z,t)}function j(){var ab,ac,aa;ab={promise:z,resolve:z,reject:z,notify:z,resolver:{resolve:z,reject:z,notify:z}};ab.promise=ac=L(Z);return ab;function Z(ad,ae,af){ab.resolve=ab.resolver.resolve=function(ag){if(aa){return u(ag)}aa=true;ad(ag);return ac};ab.reject=ab.resolver.reject=function(ag){if(aa){return u(t(ag))}aa=true;ae(ag);return ac};ab.notify=ab.resolver.notify=function(ag){af(ag);return ag}}}function L(Z){return k(Z,U.PromiseStatus&&U.PromiseStatus())}function k(Z,ab){var aj,ae,ac=[];aj=new I(ah,ag);aj._status=ab;try{Z(aa,ai,af)}catch(ad){ai(ad)}return aj;function ah(am,ak,an,al){ac?ac.push(ao):l(function(){ao(ae)});function ao(ap){ap._message(am,ak,an,al)}}function ag(){return ae?ae.inspect():x()}function aa(al){if(!ac){return}var ak=ac;ac=z;l(function(){ae=G(aj,al);if(ab){v(ae,ab)}w(ak,ae)})}function ai(ak){aa(t(ak))}function af(al){if(ac){var ak=ac;l(function(){w(ak,S(al))})}}}function w(Z,ab){for(var aa=0;aa<Z.length;aa++){Z[aa](ab)}}function H(Z){return F(new n(Z),function(){return f(Z)})}function t(Z){return F(new V(Z),function(){return X(Z)})}function F(Z,aa){return new I(function(ac,ab,ad){try{ad(Z[ac].apply(Z,ab))}catch(ae){ad(t(ae))}},aa)}function S(Z){return new I(function(ad,ab,aa,ac){var af=ab[2];try{ac(typeof af==="function"?af(Z):Z)}catch(ae){ac(ae)}})}function G(ab,aa){if(aa===ab){return t(new TypeError())}if(aa instanceof I){return aa}try{var Z=aa===Object(aa)&&aa.then;return typeof Z==="function"?h(Z,aa):H(aa)}catch(ac){return t(ac)}}function h(aa,Z){return L(function(ac,ab){i(aa,Z,ac,ab)})}function n(Z){this.value=Z}n.prototype.when=function(Z){return typeof Z==="function"?Z(this.value):this.value};function V(Z){this.reason=Z}V.prototype.when=function(Z,aa){if(typeof aa==="function"){return aa(this.reason)}else{throw this.reason}};function v(ab,aa){ab.then(Z,ac);function Z(){aa.fulfilled()}function ac(ad){aa.rejected(ad)}}function d(Z){return Z&&typeof Z.then==="function"}function M(ab,aa,ad,Z,ac){return K(ab,function(ae){return L(af).then(ad,Z,ac);function af(aq,at,ar){var ao,an,ap,ah,am,aj,al,ak;al=ae.length>>>0;ao=Math.max(0,Math.min(aa,al));ap=[];an=(al-ao)+1;ah=[];if(!ao){aq(ap)}else{aj=function(au){ah.push(au);if(!--an){am=aj=Q;at(ah)}};am=function(au){ap.push(au);if(!--ao){am=aj=Q;aq(ap)}};for(ak=0;ak<al;++ak){if(ak in ae){K(ae[ak],ag,ai,ar)}}}function ai(au){aj(au)}function ag(au){am(au)}}})}function E(aa,ad,Z,ab){function ac(ae){return ad?ad(ae[0]):ae[0]}return M(aa,1,ac,Z,ab)}function s(aa,ac,Z,ab){return C(aa,Q).then(ac,Z,ab)}function m(){return C(arguments,Q)}function D(Z){return C(Z,f,X)}function B(aa,Z){return C(aa,Z)}function C(ab,Z,aa){return K(ab,function(ad){return k(ac);function ac(al,ak,aj){var ai,af,ah,ag;ah=af=ad.length>>>0;ai=[];if(!ah){al(ai);return}for(ag=0;ag<af;ag++){if(ag in ad){ae(ad[ag],ag)}else{--ah}}function ae(an,am){K(an,Z,aa).then(function(ao){ai[am]=ao;if(!--ah){al(ai)}},ak,aj)}}})}function p(ab,aa){var Z=i(q,arguments,1);return K(ab,function(ad){var ac;ac=ad.length;Z[0]=function(af,ag,ae){return K(af,function(ah){return K(ag,function(ai){return aa(ah,ai,ae,ac)})})};return P.apply(ad,Z)})}function f(Z){return{state:"fulfilled",value:Z}}function X(Z){return{state:"rejected",reason:Z}}function x(){return{state:"pending"}}var P,q,i,W,o,O,Y,c,r,U,N,A,z;N=g;o=[];function l(Z){if(o.push(Z)===1){W(T)}}function T(){w(o);o=[]}O=a.setTimeout;U=typeof console!=="undefined"?console:K;if(typeof process==="object"&&process.nextTick){W=process.nextTick}else{if(A=a.MutationObserver||a.WebKitMutationObserver){W=(function(Z,ab,ac){var aa=Z.createElement("div");new ab(ac).observe(aa,{attributes:true});return function(){aa.setAttribute("x","x")}}(document,A,T))}else{try{W=N("vertx").runOnLoop||N("vertx").runOnContext}catch(e){W=function(Z){O(Z,0)}}}}Y=Function.prototype;c=Y.call;i=Y.bind?c.bind(c):function(aa,Z){return aa.apply(Z,q.call(arguments,2))};r=[];q=r.slice;P=r.reduce||function(ae){var aa,ac,ab,Z,ad;ad=0;aa=Object(this);Z=aa.length>>>0;ac=arguments;if(ac.length<=1){for(;;){if(ad in aa){ab=aa[ad++];break}if(++ad>=Z){throw new TypeError()}}}else{ab=ac[1]}for(;ad<Z;++ad){if(ad in aa){ab=ae(ab,aa[ad],ad,aa)}}return ab};function Q(Z){return Z}function R(Z){if(typeof U.reportUnhandled==="function"){U.reportUnhandled()}else{l(function(){throw Z})}throw Z}return K})})(typeof define==="function"&&define.amd?define:function(a){module.exports=a(require)},this); var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}()); (function(){var x=this;var t=x._;var b={};var j=Array.prototype,D=Object.prototype,G=Function.prototype;var v=j.slice,z=j.unshift,y=D.toString,p=D.hasOwnProperty;var n=j.forEach,i=j.map,B=j.reduce,e=j.reduceRight,m=j.filter,a=j.every,A=j.some,w=j.indexOf,f=j.lastIndexOf,c=Array.isArray,C=Object.keys,k=G.bind;var F=function(I){return new g(I)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=F}exports._=F}else{x._=F}F.VERSION="1.3.1";var d=F.each=F.forEach=function(N,M,L){if(N==null){return}if(n&&N.forEach===n){N.forEach(M,L)}else{if(N.length===+N.length){for(var K=0,I=N.length;K<I;K++){if(K in N&&M.call(L,N[K],K,N)===b){return}}}else{for(var J in N){if(F.has(N,J)){if(M.call(L,N[J],J,N)===b){return}}}}}};F.map=F.collect=function(L,K,J){var I=[];if(L==null){return I}if(i&&L.map===i){return L.map(K,J)}d(L,function(O,M,N){I[I.length]=K.call(J,O,M,N)});if(L.length===+L.length){I.length=L.length}return I};F.reduce=F.foldl=F.inject=function(M,L,I,K){var J=arguments.length>2;if(M==null){M=[]}if(B&&M.reduce===B){if(K){L=F.bind(L,K)}return J?M.reduce(L,I):M.reduce(L)}d(M,function(P,N,O){if(!J){I=P;J=true}else{I=L.call(K,I,P,N,O)}});if(!J){throw new TypeError("Reduce of empty array with no initial value")}return I};F.reduceRight=F.foldr=function(M,L,I,K){var J=arguments.length>2;if(M==null){M=[]}if(e&&M.reduceRight===e){if(K){L=F.bind(L,K)}return J?M.reduceRight(L,I):M.reduceRight(L)}var N=F.toArray(M).reverse();if(K&&!J){L=F.bind(L,K)}return J?F.reduce(N,L,I,K):F.reduce(N,L)};F.find=F.detect=function(L,K,J){var I;r(L,function(O,M,N){if(K.call(J,O,M,N)){I=O;return true}});return I};F.filter=F.select=function(L,K,J){var I=[];if(L==null){return I}if(m&&L.filter===m){return L.filter(K,J)}d(L,function(O,M,N){if(K.call(J,O,M,N)){I[I.length]=O}});return I};F.reject=function(L,K,J){var I=[];if(L==null){return I}d(L,function(O,M,N){if(!K.call(J,O,M,N)){I[I.length]=O}});return I};F.every=F.all=function(L,K,J){var I=true;if(L==null){return I}if(a&&L.every===a){return L.every(K,J)}d(L,function(O,M,N){if(!(I=I&&K.call(J,O,M,N))){return b}});return I};var r=F.some=F.any=function(L,K,J){K||(K=F.identity);var I=false;if(L==null){return I}if(A&&L.some===A){return L.some(K,J)}d(L,function(O,M,N){if(I||(I=K.call(J,O,M,N))){return b}});return !!I};F.include=F.contains=function(K,J){var I=false;if(K==null){return I}if(w&&K.indexOf===w){return K.indexOf(J)!=-1}I=r(K,function(L){return L===J});return I};F.invoke=function(J,K){var I=v.call(arguments,2);return F.map(J,function(L){return(F.isFunction(K)?K||L:L[K]).apply(L,I)})};F.pluck=function(J,I){return F.map(J,function(K){return K[I]})};F.max=function(L,K,J){if(!K&&F.isArray(L)){return Math.max.apply(Math,L)}if(!K&&F.isEmpty(L)){return -Infinity}var I={computed:-Infinity};d(L,function(P,M,O){var N=K?K.call(J,P,M,O):P;N>=I.computed&&(I={value:P,computed:N})});return I.value};F.min=function(L,K,J){if(!K&&F.isArray(L)){return Math.min.apply(Math,L)}if(!K&&F.isEmpty(L)){return Infinity}var I={computed:Infinity};d(L,function(P,M,O){var N=K?K.call(J,P,M,O):P;N<I.computed&&(I={value:P,computed:N})});return I.value};F.shuffle=function(K){var I=[],J;d(K,function(N,L,M){if(L==0){I[0]=N}else{J=Math.floor(Math.random()*(L+1));I[L]=I[J];I[J]=N}});return I};F.sortBy=function(K,J,I){return F.pluck(F.map(K,function(N,L,M){return{value:N,criteria:J.call(I,N,L,M)}}).sort(function(O,N){var M=O.criteria,L=N.criteria;return M<L?-1:M>L?1:0}),"value")};F.groupBy=function(K,L){var I={};var J=F.isFunction(L)?L:function(M){return M[L]};d(K,function(O,M){var N=J(O,M);(I[N]||(I[N]=[])).push(O)});return I};F.sortedIndex=function(N,M,K){K||(K=F.identity);var I=0,L=N.length;while(I<L){var J=(I+L)>>1;K(N[J])<K(M)?I=J+1:L=J}return I};F.toArray=function(I){if(!I){return[]}if(I.toArray){return I.toArray()}if(F.isArray(I)){return v.call(I)}if(F.isArguments(I)){return v.call(I)}return F.values(I)};F.size=function(I){return F.toArray(I).length};F.first=F.head=function(K,J,I){return(J!=null)&&!I?v.call(K,0,J):K[0]};F.initial=function(K,J,I){return v.call(K,0,K.length-((J==null)||I?1:J))};F.last=function(K,J,I){if((J!=null)&&!I){return v.call(K,Math.max(K.length-J,0))}else{return K[K.length-1]}};F.rest=F.tail=function(K,I,J){return v.call(K,(I==null)||J?1:I)};F.compact=function(I){return F.filter(I,function(J){return !!J})};F.flatten=function(J,I){return F.reduce(J,function(K,L){if(F.isArray(L)){return K.concat(I?L:F.flatten(L))}K[K.length]=L;return K},[])};F.without=function(I){return F.difference(I,v.call(arguments,1))};F.uniq=F.unique=function(M,L,K){var J=K?F.map(M,K):M;var I=[];F.reduce(J,function(N,P,O){if(0==O||(L===true?F.last(N)!=P:!F.include(N,P))){N[N.length]=P;I[I.length]=M[O]}return N},[]);return I};F.union=function(){return F.uniq(F.flatten(arguments,true))};F.intersection=F.intersect=function(J){var I=v.call(arguments,1);return F.filter(F.uniq(J),function(K){return F.every(I,function(L){return F.indexOf(L,K)>=0})})};F.difference=function(J){var I=F.flatten(v.call(arguments,1));return F.filter(J,function(K){return !F.include(I,K)})};F.zip=function(){var I=v.call(arguments);var L=F.max(F.pluck(I,"length"));var K=new Array(L);for(var J=0;J<L;J++){K[J]=F.pluck(I,""+J)}return K};F.indexOf=function(M,K,L){if(M==null){return -1}var J,I;if(L){J=F.sortedIndex(M,K);return M[J]===K?J:-1}if(w&&M.indexOf===w){return M.indexOf(K)}for(J=0,I=M.length;J<I;J++){if(J in M&&M[J]===K){return J}}return -1};F.lastIndexOf=function(K,J){if(K==null){return -1}if(f&&K.lastIndexOf===f){return K.lastIndexOf(J)}var I=K.length;while(I--){if(I in K&&K[I]===J){return I}}return -1};F.range=function(N,L,M){if(arguments.length<=1){L=N||0;N=0}M=arguments[2]||1;var J=Math.max(Math.ceil((L-N)/M),0);var I=0;var K=new Array(J);while(I<J){K[I++]=N;N+=M}return K};var h=function(){};F.bind=function H(L,J){var K,I;if(L.bind===k&&k){return k.apply(L,v.call(arguments,1))}if(!F.isFunction(L)){throw new TypeError}I=v.call(arguments,2);return K=function(){if(!(this instanceof K)){return L.apply(J,I.concat(v.call(arguments)))}h.prototype=L.prototype;var N=new h;var M=L.apply(N,I.concat(v.call(arguments)));if(Object(M)===M){return M}return N}};F.bindAll=function(J){var I=v.call(arguments,1);if(I.length==0){I=F.functions(J)}d(I,function(K){J[K]=F.bind(J[K],J)});return J};F.memoize=function(K,J){var I={};J||(J=F.identity);return function(){var L=J.apply(this,arguments);return F.has(I,L)?I[L]:(I[L]=K.apply(this,arguments))}};F.delay=function(J,K){var I=v.call(arguments,2);return setTimeout(function(){return J.apply(J,I)},K)};F.defer=function(I){return F.delay.apply(F,[I,1].concat(v.call(arguments,1)))};F.throttle=function(N,P){var L,I,O,M,K;var J=F.debounce(function(){K=M=false},P);return function(){L=this;I=arguments;var Q=function(){O=null;if(K){N.apply(L,I)}J()};if(!O){O=setTimeout(Q,P)}if(M){K=true}else{N.apply(L,I)}J();M=true}};F.debounce=function(I,K){var J;return function(){var N=this,M=arguments;var L=function(){J=null;I.apply(N,M)};clearTimeout(J);J=setTimeout(L,K)}};F.once=function(K){var I=false,J;return function(){if(I){return J}I=true;return J=K.apply(this,arguments)}};F.wrap=function(I,J){return function(){var K=[I].concat(v.call(arguments,0));return J.apply(this,K)}};F.compose=function(){var I=arguments;return function(){var J=arguments;for(var K=I.length-1;K>=0;K--){J=[I[K].apply(this,J)]}return J[0]}};F.after=function(J,I){if(J<=0){return I()}return function(){if(--J<1){return I.apply(this,arguments)}}};F.keys=C||function(K){if(K!==Object(K)){throw new TypeError("Invalid object")}var J=[];for(var I in K){if(F.has(K,I)){J[J.length]=I}}return J};F.values=function(I){return F.map(I,F.identity)};F.functions=F.methods=function(K){var J=[];for(var I in K){if(F.isFunction(K[I])){J.push(I)}}return J.sort()};F.extend=function(I){d(v.call(arguments,1),function(J){for(var K in J){I[K]=J[K]}});return I};F.defaults=function(I){d(v.call(arguments,1),function(J){for(var K in J){if(I[K]==null){I[K]=J[K]}}});return I};F.clone=function(I){if(!F.isObject(I)){return I}return F.isArray(I)?I.slice():F.extend({},I)};F.tap=function(J,I){I(J);return J};function E(L,K,J){if(L===K){return L!==0||1/L==1/K}if(L==null||K==null){return L===K}if(L._chain){L=L._wrapped}if(K._chain){K=K._wrapped}if(L.isEqual&&F.isFunction(L.isEqual)){return L.isEqual(K)}if(K.isEqual&&F.isFunction(K.isEqual)){return K.isEqual(L)}var O=y.call(L);if(O!=y.call(K)){return false}switch(O){case"[object String]":return L==String(K);case"[object Number]":return L!=+L?K!=+K:(L==0?1/L==1/K:L==+K);case"[object Date]":case"[object Boolean]":return +L==+K;case"[object RegExp]":return L.source==K.source&&L.global==K.global&&L.multiline==K.multiline&&L.ignoreCase==K.ignoreCase}if(typeof L!="object"||typeof K!="object"){return false}var P=J.length;while(P--){if(J[P]==L){return true}}J.push(L);var N=0,I=true;if(O=="[object Array]"){N=L.length;I=N==K.length;if(I){while(N--){if(!(I=N in L==N in K&&E(L[N],K[N],J))){break}}}}else{if("constructor" in L!="constructor" in K||L.constructor!=K.constructor){return false}for(var M in L){if(F.has(L,M)){N++;if(!(I=F.has(K,M)&&E(L[M],K[M],J))){break}}}if(I){for(M in K){if(F.has(K,M)&&!(N--)){break}}I=!N}}J.pop();return I}F.isEqual=function(J,I){return E(J,I,[])};F.isEmpty=function(J){if(F.isArray(J)||F.isString(J)){return J.length===0}for(var I in J){if(F.has(J,I)){return false}}return true};F.isElement=function(I){return !!(I&&I.nodeType==1)};F.isArray=c||function(I){return y.call(I)=="[object Array]"};F.isObject=function(I){return I===Object(I)};F.isArguments=function(I){return y.call(I)=="[object Arguments]"};if(!F.isArguments(arguments)){F.isArguments=function(I){return !!(I&&F.has(I,"callee"))}}F.isFunction=function(I){return y.call(I)=="[object Function]"};F.isString=function(I){return y.call(I)=="[object String]"};F.isNumber=function(I){return y.call(I)=="[object Number]"};F.isNaN=function(I){return I!==I};F.isFinite=function(I){return isFinite(I)&&!isNaN(parseFloat(I))};F.isBoolean=function(I){return I===true||I===false||y.call(I)=="[object Boolean]"};F.isDate=function(I){return y.call(I)=="[object Date]"};F.isRegExp=function(I){return y.call(I)=="[object RegExp]"};F.isNull=function(I){return I===null};F.isUndefined=function(I){return I===void 0};F.has=function(J,I){return p.call(J,I)};F.noConflict=function(){x._=t;return this};F.identity=function(I){return I};F.times=function(L,K,J){for(var I=0;I<L;I++){K.call(J,I)}};F.escape=function(I){return(""+I).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};F.mixin=function(I){d(F.functions(I),function(J){s(J,F[J]=I[J])})};var l=0;F.uniqueId=function(I){var J=l++;return I?I+J:J};F.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var u=/.^/;var q=function(I){return I.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};F.template=function(L,K){var M=F.templateSettings;var I="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+L.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(M.escape||u,function(N,O){return"',_.escape("+q(O)+"),'"}).replace(M.interpolate||u,function(N,O){return"',"+q(O)+",'"}).replace(M.evaluate||u,function(N,O){return"');"+q(O).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var J=new Function("obj","_",I);if(K){return J(K,F)}return function(N){return J.call(this,N,F)}};F.chain=function(I){return F(I).chain()};var g=function(I){this._wrapped=I};F.prototype=g.prototype;var o=function(J,I){return I?F(J).chain():J};var s=function(I,J){g.prototype[I]=function(){var K=v.call(arguments);z.call(K,this._wrapped);return o(J.apply(F,K),this._chain)}};F.mixin(F);d(["pop","push","reverse","shift","sort","splice","unshift"],function(I){var J=j[I];g.prototype[I]=function(){var K=this._wrapped;J.apply(K,arguments);var L=K.length;if((I=="shift"||I=="splice")&&L===0){delete K[0]}return o(K,this._chain)}});d(["concat","join","slice"],function(I){var J=j[I];g.prototype[I]=function(){return o(J.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped}}).call(this); (function(){var n=this;var l=n.Backbone;var m=Array.prototype.slice;var u=Array.prototype.splice;var b;if(typeof exports!=="undefined"){b=exports}else{b=n.Backbone={}}b.VERSION="0.9.0";var v=n._;if(!v&&(typeof require!=="undefined")){v=require("underscore")}var e=n.jQuery||n.Zepto||n.ender;b.noConflict=function(){n.Backbone=l;return this};b.emulateHTTP=false;b.emulateJSON=false;b.Events={on:function(z,C,y){var A;z=z.split(/\s+/);var x=this._callbacks||(this._callbacks={});while(A=z.shift()){var B=x[A]||(x[A]={});var w=B.tail||(B.tail=B.next={});w.callback=C;w.context=y;B.tail=w.next={}}return this},off:function(y,B,x){var A,w,z;if(!y){delete this._callbacks}else{if(w=this._callbacks){y=y.split(/\s+/);while(A=y.shift()){z=w[A];delete w[A];if(!z){continue}while((z=z.next)&&z.next){if((!B||z.callback===B)&&(!x||z.context===x)){continue}this.on(A,z.callback,z.context)}}}}return this},trigger:function(z){var D,C,y,x,w,B,A;if(!(y=this._callbacks)){return this}B=y.all;(z=z.split(/\s+/)).push(null);while(D=z.shift()){if(B){z.push({next:B.next,tail:B.tail,event:D})}if(!(C=y[D])){continue}z.push({next:C.next,tail:C.tail})}A=m.call(arguments,1);while(C=z.pop()){x=C.tail;w=C.event?[C.event].concat(A):A;while((C=C.next)!==x){C.callback.apply(C.context||this,w)}}return this}};b.Events.bind=b.Events.on;b.Events.unbind=b.Events.off;b.Model=function(w,x){var y;w||(w={});if(x&&x.parse){w=this.parse(w)}if(y=c(this,"defaults")){w=v.extend({},y,w)}if(x&&x.collection){this.collection=x.collection}this.attributes={};this._escapedAttributes={};this.cid=v.uniqueId("c");this._changed={};if(!this.set(w,{silent:true})){throw new Error("Can't create an invalid model")}this._changed={};this._previousAttributes=v.clone(this.attributes);this.initialize.apply(this,arguments)};v.extend(b.Model.prototype,b.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return v.clone(this.attributes)},get:function(w){return this.attributes[w]},escape:function(w){var x;if(x=this._escapedAttributes[w]){return x}var y=this.attributes[w];return this._escapedAttributes[w]=v.escape(y==null?"":""+y)},has:function(w){return this.attributes[w]!=null},set:function(D,C,F){var E,B,z;if(v.isObject(D)||D==null){E=D;F=C}else{E={};E[D]=C}F||(F={});if(!E){return this}if(E instanceof b.Model){E=E.attributes}if(F.unset){for(var B in E){E[B]=void 0}}if(this.validate&&!this._performValidation(E,F)){return false}if(this.idAttribute in E){this.id=E[this.idAttribute]}var x=this.attributes;var w=this._escapedAttributes;var A=this._previousAttributes||{};var y=this._changing;this._changing=true;for(B in E){z=E[B];if(!v.isEqual(x[B],z)){delete w[B]}F.unset?delete x[B]:x[B]=z;delete this._changed[B];if(!v.isEqual(A[B],z)||(v.has(x,B)!=v.has(A,B))){this._changed[B]=z}}if(!y){if(!F.silent&&this.hasChanged()){this.change(F)}this._changing=false}return this},unset:function(w,x){(x||(x={})).unset=true;return this.set(w,null,x)},clear:function(w){(w||(w={})).unset=true;return this.set(v.clone(this.attributes),w)},fetch:function(x){x=x?v.clone(x):{};var w=this;var y=x.success;x.success=function(B,z,A){if(!w.set(w.parse(B,A),x)){return false}if(y){y(w,B)}};x.error=b.wrapError(x.error,w,x);return(this.sync||b.sync).call(this,"read",this,x)},save:function(z,A,y){var x;if(v.isObject(z)||z==null){x=z;y=A}else{x={};x[z]=A}y=y?v.clone(y):{};if(x&&!this[y.wait?"_performValidation":"set"](x,y)){return false}var w=this;var B=y.success;y.success=function(G,D,F){var E=w.parse(G,F);if(y.wait){E=v.extend(x||{},E)}if(!w.set(E,y)){return false}if(B){B(w,G)}else{w.trigger("sync",w,G,y)}};y.error=b.wrapError(y.error,w,y);var C=this.isNew()?"create":"update";return(this.sync||b.sync).call(this,C,this,y)},destroy:function(x){x=x?v.clone(x):{};var w=this;var A=x.success;var z=function(){w.trigger("destroy",w,w.collection,x)};if(this.isNew()){return z()}x.success=function(B){if(x.wait){z()}if(A){A(w,B)}else{w.trigger("sync",w,B,x)}};x.error=b.wrapError(x.error,w,x);var y=(this.sync||b.sync).call(this,"delete",this,x);if(!x.wait){z()}return y},url:function(){var w=c(this.collection,"url")||c(this,"urlRoot")||p();if(this.isNew()){return w}return w+(w.charAt(w.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(x,w){return x},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(x){for(var w in this._changed){this.trigger("change:"+w,this,this._changed[w],x)}this.trigger("change",this,x);this._previousAttributes=v.clone(this.attributes);this._changed={}},hasChanged:function(w){if(w){return v.has(this._changed,w)}return !v.isEmpty(this._changed)},changedAttributes:function(y){if(!y){return this.hasChanged()?v.clone(this._changed):false}var A,z=false,x=this._previousAttributes;for(var w in y){if(v.isEqual(x[w],(A=y[w]))){continue}(z||(z={}))[w]=A}return z},previous:function(w){if(!w||!this._previousAttributes){return null}return this._previousAttributes[w]},previousAttributes:function(){return v.clone(this._previousAttributes)},_performValidation:function(y,x){var z=v.extend({},this.attributes,y);var w=this.validate(z,x);if(w){if(x.error){x.error(this,w,x)}else{this.trigger("error",this,w,x)}return false}return true}});b.Collection=function(x,w){w||(w={});if(w.comparator){this.comparator=w.comparator}this._reset();this.initialize.apply(this,arguments);if(x){this.reset(x,{silent:true,parse:w.parse})}};v.extend(b.Collection.prototype,b.Events,{model:b.Model,initialize:function(){},toJSON:function(){return this.map(function(w){return w.toJSON()})},add:function(x,F){var B,D,z,C,E,y,A={},w={};F||(F={});x=v.isArray(x)?x.slice():[x];for(B=0,z=x.length;B<z;B++){if(!(C=x[B]=this._prepareModel(x[B],F))){throw new Error("Can't add an invalid model to a collection")}if(A[E=C.cid]||this._byCid[E]||(((y=C.id)!=null)&&(w[y]||this._byId[y]))){throw new Error("Can't add the same model to a collection twice")}A[E]=w[y]=C}for(B=0;B<z;B++){(C=x[B]).on("all",this._onModelEvent,this);this._byCid[C.cid]=C;if(C.id!=null){this._byId[C.id]=C}}this.length+=z;D=F.at!=null?F.at:this.models.length;u.apply(this.models,[D,0].concat(x));if(this.comparator){this.sort({silent:true})}if(F.silent){return this}for(B=0,z=this.models.length;B<z;B++){if(!A[(C=this.models[B]).cid]){continue}F.index=B;C.trigger("add",C,this,F)}return this},remove:function(B,z){var A,w,y,x;z||(z={});B=v.isArray(B)?B.slice():[B];for(A=0,w=B.length;A<w;A++){x=this.getByCid(B[A])||this.get(B[A]);if(!x){continue}delete this._byId[x.id];delete this._byCid[x.cid];y=this.indexOf(x);this.models.splice(y,1);this.length--;if(!z.silent){z.index=y;x.trigger("remove",x,this,z)}this._removeReference(x)}return this},get:function(w){if(w==null){return null}return this._byId[w.id!=null?w.id:w]},getByCid:function(w){return w&&this._byCid[w.cid||w]},at:function(w){return this.models[w]},sort:function(x){x||(x={});if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}var w=v.bind(this.comparator,this);if(this.comparator.length==1){this.models=this.sortBy(w)}else{this.models.sort(w)}if(!x.silent){this.trigger("reset",this,x)}return this},pluck:function(w){return v.map(this.models,function(x){return x.get(w)})},reset:function(z,x){z||(z=[]);x||(x={});for(var y=0,w=this.models.length;y<w;y++){this._removeReference(this.models[y])}this._reset();this.add(z,{silent:true,parse:x.parse});if(!x.silent){this.trigger("reset",this,x)}return this},fetch:function(w){w=w?v.clone(w):{};if(w.parse===undefined){w.parse=true}var y=this;var x=w.success;w.success=function(B,z,A){y[w.add?"add":"reset"](y.parse(B,A),w);if(x){x(y,B)}};w.error=b.wrapError(w.error,y,w);return(this.sync||b.sync).call(this,"read",this,w)},create:function(x,w){var y=this;w=w?v.clone(w):{};x=this._prepareModel(x,w);if(!x){return false}if(!w.wait){y.add(x,w)}var z=w.success;w.success=function(A,C,B){if(w.wait){y.add(A,w)}if(z){z(A,C)}else{A.trigger("sync",x,C,w)}};x.save(null,w);return x},parse:function(x,w){return x},chain:function(){return v(this.models).chain()},_reset:function(w){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(y,x){if(!(y instanceof b.Model)){var w=y;x.collection=this;y=new this.model(w,x);if(y.validate&&!y._performValidation(y.attributes,x)){y=false}}else{if(!y.collection){y.collection=this}}return y},_removeReference:function(w){if(this==w.collection){delete w.collection}w.off("all",this._onModelEvent,this)},_onModelEvent:function(y,x,z,w){if((y=="add"||y=="remove")&&z!=this){return}if(y=="destroy"){this.remove(x,w)}if(x&&y==="change:"+x.idAttribute){delete this._byId[x.previous(x.idAttribute)];this._byId[x.id]=x}this.trigger.apply(this,arguments)}});var s=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];v.each(s,function(w){b.Collection.prototype[w]=function(){return v[w].apply(v,[this.models].concat(v.toArray(arguments)))}});b.Router=function(w){w||(w={});if(w.routes){this.routes=w.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var g=/:\w+/g;var t=/\*\w+/g;var d=/[-[\]{}()+?.,\\^$|#\s]/g;v.extend(b.Router.prototype,b.Events,{initialize:function(){},route:function(w,x,y){b.history||(b.history=new b.History);if(!v.isRegExp(w)){w=this._routeToRegExp(w)}if(!y){y=this[x]}b.history.route(w,v.bind(function(A){var z=this._extractParameters(w,A);y&&y.apply(this,z);this.trigger.apply(this,["route:"+x].concat(z));b.history.trigger("route",this,x,z)},this));return this},navigate:function(x,w){b.history.navigate(x,w)},_bindRoutes:function(){if(!this.routes){return}var x=[];for(var y in this.routes){x.unshift([y,this.routes[y]])}for(var z=0,w=x.length;z<w;z++){this.route(x[z][0],x[z][1],this[x[z][1]])}},_routeToRegExp:function(w){w=w.replace(d,"\\$&").replace(g,"([^/]+)").replace(t,"(.*?)");return new RegExp("^"+w+"$")},_extractParameters:function(w,x){return w.exec(x).slice(1)}});b.History=function(){this.handlers=[];v.bindAll(this,"checkUrl")};var k=/^[#\/]/;var h=/msie [\w.]+/;var j=false;v.extend(b.History.prototype,b.Events,{interval:50,getFragment:function(x,w){if(x==null){if(this._hasPushState||w){x=window.location.pathname;var y=window.location.search;if(y){x+=y}}else{x=window.location.hash}}x=decodeURIComponent(x.replace(k,""));if(!x.indexOf(this.options.root)){x=x.substr(this.options.root.length)}return x},start:function(y){if(j){throw new Error("Backbone.history has already been started")}this.options=v.extend({},{root:"/"},this.options,y);this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var x=this.getFragment();var w=document.documentMode;var A=(h.exec(navigator.userAgent.toLowerCase())&&(!w||w<=7));if(A){this.iframe=e('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(x)}if(this._hasPushState){e(window).bind("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!A){e(window).bind("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=x;j=true;var B=window.location;var z=B.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!z){this.fragment=this.getFragment(null,true);window.location.replace(this.options.root+"#"+this.fragment);return true}else{if(this._wantsPushState&&this._hasPushState&&z&&B.hash){this.fragment=B.hash.replace(k,"");window.history.replaceState({},document.title,B.protocol+"//"+B.host+this.options.root+this.fragment)}}if(!this.options.silent){return this.loadUrl()}},stop:function(){e(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);j=false},route:function(w,x){this.handlers.unshift({route:w,callback:x})},checkUrl:function(x){var w=this.getFragment();if(w==this.fragment&&this.iframe){w=this.getFragment(this.iframe.location.hash)}if(w==this.fragment||w==decodeURIComponent(this.fragment)){return false}if(this.iframe){this.navigate(w)}this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(y){var x=this.fragment=this.getFragment(y);var w=v.any(this.handlers,function(z){if(z.route.test(x)){z.callback(x);return true}});return w},navigate:function(x,w){if(!j){return false}if(!w||w===true){w={trigger:w}}var y=(x||"").replace(k,"");if(this.fragment==y||this.fragment==decodeURIComponent(y)){return}if(this._hasPushState){if(y.indexOf(this.options.root)!=0){y=this.options.root+y}this.fragment=y;window.history[w.replace?"replaceState":"pushState"]({},document.title,y)}else{if(this._wantsHashChange){this.fragment=y;this._updateHash(window.location,y,w.replace);if(this.iframe&&(y!=this.getFragment(this.iframe.location.hash))){if(!w.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,y,w.replace)}}else{window.location.assign(this.options.root+x)}}if(w.trigger){this.loadUrl(x)}},_updateHash:function(w,x,y){if(y){w.replace(w.toString().replace(/(javascript:|#).*$/,"")+"#"+x)}else{w.hash=x}}});b.View=function(w){this.cid=v.uniqueId("view");this._configure(w||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var a=/^(\S+)\s*(.*)$/;var q=["model","collection","el","id","attributes","className","tagName"];v.extend(b.View.prototype,b.Events,{tagName:"div",$:function(w){return this.$el.find(w)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(x,w,z){var y=document.createElement(x);if(w){e(y).attr(w)}if(z){e(y).html(z)}return y},setElement:function(w,x){this.$el=e(w);this.el=this.$el[0];if(x!==false){this.delegateEvents()}},delegateEvents:function(A){if(!(A||(A=c(this,"events")))){return}this.undelegateEvents();for(var z in A){var B=A[z];if(!v.isFunction(B)){B=this[A[z]]}if(!B){throw new Error('Event "'+A[z]+'" does not exist')}var y=z.match(a);var x=y[1],w=y[2];B=v.bind(B,this);x+=".delegateEvents"+this.cid;if(w===""){this.$el.bind(x,B)}else{this.$el.delegate(w,x,B)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(y){if(this.options){y=v.extend({},this.options,y)}for(var z=0,x=q.length;z<x;z++){var w=q[z];if(y[w]){this[w]=y[w]}}this.options=y},_ensureElement:function(){if(!this.el){var w=c(this,"attributes")||{};if(this.id){w.id=this.id}if(this.className){w["class"]=this.className}this.setElement(this.make(this.tagName,w),false)}else{this.setElement(this.el,false)}}});var r=function(w,x){var y=i(this,w,x);y.extend=this.extend;return y};b.Model.extend=b.Collection.extend=b.Router.extend=b.View.extend=r;var o={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};b.sync=function(A,x,w){var y=o[A];var z={type:y,dataType:"json"};if(!w.url){z.url=c(x,"url")||p()}if(!w.data&&x&&(A=="create"||A=="update")){z.contentType="application/json";z.data=JSON.stringify(x.toJSON())}if(b.emulateJSON){z.contentType="application/x-www-form-urlencoded";z.data=z.data?{model:z.data}:{}}if(b.emulateHTTP){if(y==="PUT"||y==="DELETE"){if(b.emulateJSON){z.data._method=y}z.type="POST";z.beforeSend=function(B){B.setRequestHeader("X-HTTP-Method-Override",y)}}}if(z.type!=="GET"&&!b.emulateJSON){z.processData=false}return e.ajax(v.extend(z,w))};b.wrapError=function(x,y,w){return function(z,A){var A=z===y?A:z;if(x){x(z,A,w)}else{y.trigger("error",z,A,w)}}};var f=function(){};var i=function(x,w,y){var z;if(w&&w.hasOwnProperty("constructor")){z=w.constructor}else{z=function(){x.apply(this,arguments)}}v.extend(z,x);f.prototype=x.prototype;z.prototype=new f();if(w){v.extend(z.prototype,w)}if(y){v.extend(z,y)}z.prototype.constructor=z;z.__super__=x.prototype;return z};var c=function(w,x){if(!(w&&w[x])){return null}return v.isFunction(w[x])?w[x]():w[x]};var p=function(){throw new Error('A "url" property or function must be specified')}}).call(this); Backbone.Model.prototype.toJSON=function(a){var b=_.clone(this.attributes);a&&_.each(b,function(e,c){e&&_.isFunction(e.toJSON)&&(b[c]=e.toJSON());if(_.isArray(e)){var d=[];_.each(e,function(g,f){_.isFunction(g.toJSON)&&(g=g.toJSON());d[f]=g});b[c]=d}});return b}; var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(i,v,q){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(i)=="[object String]"&&!/\d/.test(i)){v=i;i=undefined}i=i?new Date(i):new Date;if(isNaN(i)){throw SyntaxError("invalid date")}v=String(g.masks[v]||v||g.masks["default"]);if(v.slice(0,4)=="UTC:"){v=v.slice(4);q=true}var t=q?"getUTC":"get",l=i[t+"Date"](),e=i[t+"Day"](),j=i[t+"Month"](),p=i[t+"FullYear"](),r=i[t+"Hours"](),k=i[t+"Minutes"](),u=i[t+"Seconds"](),n=i[t+"Milliseconds"](),f=q?0:i.getTimezoneOffset(),h={d:l,dd:c(l),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:j+1,mm:c(j+1),mmm:g.i18n.monthNames[j],mmmm:g.i18n.monthNames[j+12],yy:String(p).slice(2),yyyy:p,h:r%12||12,hh:c(r%12||12),H:r,HH:c(r),M:k,MM:c(k),s:u,ss:c(u),l:c(n,3),L:c(n>99?Math.round(n/10):n),t:r<12?"a":"p",tt:r<12?"am":"pm",T:r<12?"A":"P",TT:r<12?"AM":"PM",Z:q?"UTC":(String(i).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return v.replace(a,function(m){return m in h?h[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)}; if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(a){return this.slice(-a.length)==a}}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(a){return this.slice(0,a.length)==a}}; Utils=window.Utils||{};Utils.Colors={hexToColor:function(d){if(!d){return null}if(d.substring(0,1)=="#"){d=d.substring(1)}var b=null;if(d.length===6||d.length===8){var e=(d.length===8);var a=(e)?2:0;b={r:Utils.Numbers.hexToDecimal(d.substring(a,a+2)),g:Utils.Numbers.hexToDecimal(d.substring(a+2,a+4)),b:Utils.Numbers.hexToDecimal(d.substring(a+4,a+6))};if(e){var c=Utils.Numbers.hexToDecimal(d.substring(0,2));b.a=Utils.Numbers.minMax(c/255,0,1);b.a=b.a.toFixed(2)}}return b},colorToHex:function(b,g){var f=Utils.Numbers.decimalToHex(b.r);var d=Utils.Numbers.decimalToHex(b.g);var a=Utils.Numbers.decimalToHex(b.b);var e="";if(b.a&&g){var c=parseInt(Utils.Numbers.minMax(b.a*255,0,255));e=Utils.Numbers.decimalToHex(c);Utils.String.addLeadingZeros(e,2)}f=Utils.String.addLeadingZeros(f,2);d=Utils.String.addLeadingZeros(d,2);a=Utils.String.addLeadingZeros(a,2);var b=e+f+d+a;return b},modifyColor:function(b,c){c=1+c;var a={r:parseInt(Utils.Numbers.minMax(b.r*c,0,255)),g:parseInt(Utils.Numbers.minMax(b.g*c,0,255)),b:parseInt(Utils.Numbers.minMax(b.b*c,0,255)),a:b.a};return a}}; Utils=window.Utils||{};Utils.Helpers=(function(){var a={};a.generateGUID=function(){var c=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};var b=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c();return b};a.isValidEmail=function(b){var c=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/);return c.test(b)};a.funcWrapper=function(b){if(typeof(b)!=="function"){b=function(){}}return b};a.compareVersions=function(g,e){if(!g&&!e){return 0}if(!g){return 1}if(!e){return -1}var c=g.split(".");var b=e.split(".");var j=Math.max(c.length,c.length);for(var d=0;d<j;d++){var h=parseInt(c[d]||0,10);var f=parseInt(b[d]||0,10);if(h>f){return -1}else{if(h<f){return 1}}}return 0};a.isPlainObject=function(d){var b=Object.prototype.hasOwnProperty;if(!d||typeof d!=="object"||d.nodeType){return false}if(d.constructor&&!b.call(d,"constructor")&&!b.call(d.constructor.prototype,"isPrototypeOf")){return false}var c;for(c in d){}return c===undefined||b.call(d,c)};a.deepClone=function(){var l,d,b,c,h,j,g=arguments[0]||{},f=1,e=arguments.length,k=false;if(typeof g==="boolean"){k=g;g=arguments[1]||{};f=2}if(typeof g!=="object"&&!_.isFunction(g)){g={}}if(e===f){g=this;--f}for(;f<e;f++){if((l=arguments[f])!==null){for(d in l){b=g[d];c=l[d];if(g===c){continue}if(k&&c&&(Utils.Helpers.isPlainObject(c)||(h=_.isArray(c)))){if(h){h=false;j=b&&_.isArray(b)?b:[]}else{j=b&&Utils.Helpers.isPlainObject(b)?b:{}}g[d]=Utils.Helpers.deepClone(k,j,c)}else{if(c!==undefined){g[d]=c}}}}}return g};a.cbWrapper=function(b){if(typeof(b)==="function"){b()}};a.inverseDict=function(d){var c={};for(var b in d){if(d.hasOwnProperty(b)){c[d[b]]=b}}return c};a.getPath=function(d,g){if(typeof(g)!=="string"||typeof(d)!=="object"){return null}var f=g.split("."),b=f.length,c=d;for(var e=0;e<b;e++){c=c[f[e]];if(typeof(c)==="undefined"||c===null){return null}}return c};a.getStoreName=function(){if(DEVICE&deviceTypeEnum.android){var b=Utils.Helpers.inverseDict(deviceVariantEnum)[DEVICE_VARIANT];return{"default":storesEnum.googlePlay,amazon:storesEnum.amazon}[b]}if(DEVICE&deviceTypeEnum.iphone){return storesEnum.appStore}};a.animate=function(b,d,e,c){if(jQuery.browser.webkit){b.css({"-webkit-transition-property":"all","-webkit-transition-duration":(e/1000)+"s","-webkit-transition-timing-function":"ease-out","-webkit-transform":"translate3d("+d+", 0, 0)","-webkit-perspective":1000,"-webkit-backface-visibility":"hidden"});setTimeout(c,e)}else{b.css({left:d});c()}};a.getStoreLink=function(){if(typeof(STORE_LINKS)==="undefined"||!STORE_LINKS){return null}var b=a.getStoreName();if(!b){return null}return STORE_LINKS[b]};a.getIeVersion=function(){try{var d,c,b;b=new Function("/*@cc_on return @_jscript_version; @*/")();if(b!==undefined){b=window.parseFloat(b);if(b){return b}}return null}catch(e){console.log("failed detecting IE... error was : "+e);return false}};return a}()); Utils=window.Utils||{};Utils.Numbers={decimalToHex:function(a){return a.toString(16)},hexToDecimal:function(a){return parseInt(a,16)},minMax:function(c,b,a){if(c<b){c=b}if(c>a){c=a}return c},formatNumber:function(c,a){if(typeof(c)==="undefined"||c===null){return}c+="";x=c.split(".");x1=x[0];x2=x.length>1?a.decimalSymbol+x[1]:"";var b=/(\d+)(\d{3})/;while(b.test(x1)){x1=x1.replace(b,"$1"+a.digitGroupingSymbol+"$2")}return x1+x2}}; Utils=window.Utils||{};Utils.String={translateIfNeed:function(a){if(a&&a.substring(0,2)=="{$"&&a.substring(a.length-1)=="}"){return _T(a.substring(2,a.length-1))}else{return a}},addLeadingZeros:function(c,d){var e=c.toString();var a=e.length;for(var b=a;b<d;b++){e="0"+e}return e},trailString:function(f,e,c){f=f||"";if(f.length>e){f=f.substring(0,e-4);if(c&&c.charStop){for(var d=0;d<c.charStop.length;d++){var g=c.charStop[d].charStop;var b=c.charStop[d].threshold;var a=f.lastIndexOf(g);if(a>(e-b)){f=f.substring(0,a);break}}}f=f+"..."}return f},desanitize:function(a){a=a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'");a=a.replace(/&amp;/g,"&").replace(/&nbsp;/g," ");return a},sanitizeText:function(a,f,h){var c,m,b,k,n,l,d,j,g,e;if(!a||typeof(a)!="string"){return""}d=function(){k=a.charAt(c);c+=1};j=function(){n=n.join("");if(f){n=n.replace(/(^ )|( $)/g,"&nbsp;")}l.push(n);n=[]};g=function(){if(b<" "||b>"~"){n.push("&#"+b.charCodeAt(0)+";")}else{n.push(b)}};h=(h>=0)?Math.floor(h):4;l=[];n=[];c=0;d();while(c<=a.length){b=k;d();switch(b){case"<":n.push("&lt;");break;case">":n.push("&gt;");break;case"&":n.push("&amp;");break;case'"':n.push("&quot;");break;case"'":n.push("&#39;");break;default:if(f){switch(b){case"\r":if(k==="\n"){d()}j();break;case"\n":j();break;case"\t":e=h-(n.length%h);for(m=0;m<e;m+=1){n.push(" ")}break;default:g()}}else{g()}}}j();l=l.join("<br />");if(f){l=l.replace(/ {2}/g," &nbsp;")}return l},breakLongText:function(g,e){var d="";var c;var a=g.length;var b=0;var f=30;if(e){f=e}for(c=0;c<a;c++){if(g[c]===" "){b=0}else{if(++b>f){d+=" ";b=0}}d+=g[c]}return d},removeHTMLTags:function(a){var b="";if(a){b=a.replace(/(<([^>]+)>)/ig,"")}return b},normalizeWhiteSpace:function(a){var b="";if(a){b=a.replace(/^\s*|\s(?=\s)|\s*$/g," ")}return b},removeHTMLAndWhitespace:function(a){a=this.removeHTMLTags(a);a=this.normalizeWhiteSpace(a);return a},stripTags:function(a){if(!a||a===""){return""}a=a.replace(/<br>/g,"\n");a=a.replace(/<br\/>/g,"\n");a=Utils.String.removeHTMLTags(a);var b=a.substring(0,1);while(b==="\n"||b==="\t"||b===" "){a=a.substring(1,a.length);b=a.substring(0,1)}return a},trim:function(a){if(!a){return""}return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},trimAll:function(a){return _.map(a,this.trim,this)}}; Utils=window.Utils||{};Utils.TimeDate={timeAsText:function(f){if(f===null||f===""||f<=0){return""}var h=new Date();var b=parseInt(h.getTime()/1000);var g=(b-f);var a="";if(g<=0){if(g>=-120){a=_T("SSecondsAgo")}else{return""}}else{if(g<60){if(g<2){a=_T("SSecondAgo")}else{a=_T("SNumberSecondsAgo",{number:g})}}else{if(g<3600){var c=parseInt(g/60);if(c<2){a=_T("SMinuteAgo")}else{a=_T("SNumberMinutesAgo",{number:c})}}else{if(g<3600*24){var j=parseInt(g/3600);if(j<2){a=_T("SHourAgo")}else{a=_T("SNumberHoursAgo",{number:j})}}else{if(g<3600*24*7){var i=parseInt(g/(3600*24));if(i<2){a=_T("SDayAgo")}else{a=_T("SNumberDaysAgo",{number:i})}}else{if(g<(3600*24*7*4.2)){var e=parseInt(g/(3600*24*7));if(e<2){a=_T("SWeekAgo")}else{a=_T("SNumberWeeksAgo",{number:e})}}else{if(g<(3600*24*7*52)){var k=parseInt(g/(3600*24*7*4.2));if(k<2){a=_T("SMonthAgo")}else{a=_T("SNumberMonthsAgo",{number:k})}}else{var d=parseInt(g/(3600*24*7*52));if(d<2){a=_T("SYearAgo")}else{a=_T("SNumberYearsAgo",{number:d})}}}}}}}}return a},durationDisplayTime:function(d){var a=parseInt(d/3600);var b=parseInt((d/60)%60);d=parseInt(d%60);if(d<10){d="0"+d}if(a>0){if(b<10){b="0"+b}var c=a+":"+b+":"+d}else{var c=b+":"+d}return c},daysInMonth:function(b,a){return 32-new Date(a,b,32).getDate()},toLocalTime:function(a){return a-((new Date(a)).getTimezoneOffset()*60*1000)},toUTCTime:function(a){a*=1000;return a+((new Date(a)).getTimezoneOffset()*60*1000)},secondsToTime:function(c){var b=Math.floor(c/60);var a=Math.floor(b/60);b=b%60;return Utils.String.addLeadingZeros(a,2)+":"+Utils.String.addLeadingZeros(b,2)},timeToSeconds:function(d){var a=d.split(":");if(a.length<2){return 0}var c=parseInt(a[1]);var b=parseInt(a[0]);return(b*60+c)*60},gmtOffsetText:function(a){var b="(GMT";if(a){b+=(a>0?"+":"")+a}b+=")";return b},areSameDay:function(a,b){if(a==null||b==null){return true}return(a.getMonth()==b.getMonth()&&a.getFullYear()==b.getFullYear()&&a.getDay()==b.getDay())}}; Utils=window.Utils||{};Utils.Url={_getObject:function(e){var g={};var c=e.indexOf("?");if(c>=0){e=e.substring(c+1)}var f=e.split("&");for(var d=0;d<f.length;d++){var b=f[d].indexOf("=");var a=f[d].substring(0,b);var h=f[d].substring(b+1);g[decodeURIComponent(a)]=decodeURIComponent(h)}return g},getQueryObject:function(a){var b=window.location.search.substring(1);if(a){b=a}return this._getObject(b)},getHashObject:function(a){var b=window.location.hash.substring(1);if(a){b=a}return this._getObject(b)},getHashValue:function(b,a){return this.getHashObject(a)[b]},clearHash:function(){window.location.hash=""},getQueryValue:function(b,a){return this.getQueryObject(a)[b]},addQueryParamToUrl:function(b,c,d){if(b){var a="?";if(b.indexOf("?")>0){a="&"}var e=encodeURIComponent(c)+"="+encodeURIComponent(d);b+=a+e}return b}}; var _childItem={Super:function(){var c;if(this.Super.caller.constructor===this.Super.caller){c=this.Super.caller.prototype}c=c||this.Super.caller.__base;if(!c){return}var d=this.Super.caller.__baseMethod;if(!d){if(this.Super.caller.constructor===this.Super.caller){d=this.Super.caller.__baseMethod=this.__base}else{var b=this.Super.caller.__methodName;if(!b){for(var a in this){if(this[a]==this.Super.caller){b=a;break}}}if(b!=null&&typeof c[b]=="function"){d=this.Super.caller.__baseMethod=c[b];d.__methodName=b}}}if(d){return d.apply(this,arguments)}}};Function.prototype.extend=function(){var k=this;var h=[new k()];for(var g=0;g<arguments.length;g++){h.push(arguments[g])}h.push(_childItem);var f=h[0];var c,d,a,e=h.length;for(var g=0;g<e;g++){a=h[g];for(d in a){c=a[d];if(f===c){continue}else{if(c!==undefined){f[d]=c}}}}for(var j in f){if(typeof f[j]==="function"&&!f[j].__base){f[j].__base=k.prototype}}this.prototype.__base=k;return f};Function.prototype.hitch=function(a){var b=this;return !a?b:function(){return b.apply(a,arguments||[])}}; function string_to_array(d){var a=d.length;var c=new Array(a);for(var b=0;b<a;b++){c[b]=d.charCodeAt(b)}return c}function array_to_hex_string(c){var b="";for(var a=0;a<c.length;a++){b+=SHA256_hexchars[c[a]>>4]+SHA256_hexchars[c[a]&15]}return b}function SHA256_init(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225);SHA256_buf=new Array();SHA256_len=0}function SHA256_write(b){if(typeof(b)=="string"){SHA256_buf=SHA256_buf.concat(string_to_array(b))}else{SHA256_buf=SHA256_buf.concat(b)}for(var a=0;a+64<=SHA256_buf.length;a+=64){SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf.slice(a,a+64))}SHA256_buf=SHA256_buf.slice(a);SHA256_len+=b.length}function SHA256_finalize(){SHA256_buf[SHA256_buf.length]=128;if(SHA256_buf.length>64-8){for(var b=SHA256_buf.length;b<64;b++){SHA256_buf[b]=0}SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf);SHA256_buf.length=0}for(var b=SHA256_buf.length;b<64-5;b++){SHA256_buf[b]=0}SHA256_buf[59]=(SHA256_len>>>29)&255;SHA256_buf[60]=(SHA256_len>>>21)&255;SHA256_buf[61]=(SHA256_len>>>13)&255;SHA256_buf[62]=(SHA256_len>>>5)&255;SHA256_buf[63]=(SHA256_len<<3)&255;SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf);var a=new Array(32);for(var b=0;b<8;b++){a[4*b+0]=SHA256_H[b]>>>24;a[4*b+1]=(SHA256_H[b]>>16)&255;a[4*b+2]=(SHA256_H[b]>>8)&255;a[4*b+3]=SHA256_H[b]&255}delete SHA256_H;delete SHA256_buf;delete SHA256_len;return a}function SHA256_hash(b){var a;SHA256_init();SHA256_write(b);a=SHA256_finalize();return array_to_hex_string(a)}function HMAC_SHA256_init(b){if(typeof(b)=="string"){HMAC_SHA256_key=string_to_array(b)}else{HMAC_SHA256_key=new Array().concat(b)}if(HMAC_SHA256_key.length>64){SHA256_init();SHA256_write(HMAC_SHA256_key);HMAC_SHA256_key=SHA256_finalize()}for(var a=HMAC_SHA256_key.length;a<64;a++){HMAC_SHA256_key[a]=0}for(var a=0;a<64;a++){HMAC_SHA256_key[a]^=54}SHA256_init();SHA256_write(HMAC_SHA256_key)}function HMAC_SHA256_write(a){SHA256_write(a)}function HMAC_SHA256_finalize(){var b=SHA256_finalize();for(var a=0;a<64;a++){HMAC_SHA256_key[a]^=54^92}SHA256_init();SHA256_write(HMAC_SHA256_key);SHA256_write(b);for(var a=0;a<64;a++){HMAC_SHA256_key[a]=0}delete HMAC_SHA256_key;return SHA256_finalize()}function HMAC_SHA256_MAC(b,c){var a;HMAC_SHA256_init(b);HMAC_SHA256_write(c);a=HMAC_SHA256_finalize();return array_to_hex_string(a)}SHA256_hexchars=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");SHA256_K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);function SHA256_sigma0(a){return((a>>>7)|(a<<25))^((a>>>18)|(a<<14))^(a>>>3)}function SHA256_sigma1(a){return((a>>>17)|(a<<15))^((a>>>19)|(a<<13))^(a>>>10)}function SHA256_Sigma0(a){return((a>>>2)|(a<<30))^((a>>>13)|(a<<19))^((a>>>22)|(a<<10))}function SHA256_Sigma1(a){return((a>>>6)|(a<<26))^((a>>>11)|(a<<21))^((a>>>25)|(a<<7))}function SHA256_Ch(a,c,b){return b^(a&(c^b))}function SHA256_Maj(a,c,b){return(a&c)^(b&(a^c))}function SHA256_Hash_Word_Block(c,a){for(var b=16;b<64;b++){a[b]=(SHA256_sigma1(a[b-2])+a[b-7]+SHA256_sigma0(a[b-15])+a[b-16])&4294967295}var e=new Array().concat(c);for(var b=0;b<64;b++){var f=e[7]+SHA256_Sigma1(e[4])+SHA256_Ch(e[4],e[5],e[6])+SHA256_K[b]+a[b];var d=SHA256_Sigma0(e[0])+SHA256_Maj(e[0],e[1],e[2]);e.pop();e.unshift((f+d)&4294967295);e[4]=(e[4]+f)&4294967295}for(var b=0;b<8;b++){c[b]=(c[b]+e[b])&4294967295}}function SHA256_Hash_Byte_Block(d,b){var a=new Array(16);for(var c=0;c<16;c++){a[c]=b[4*c+0]<<24|b[4*c+1]<<16|b[4*c+2]<<8|b[4*c+3]}SHA256_Hash_Word_Block(d,a)}; Utils=window.Utils||{};Utils.ShareInfo={getEMailBody:function(e){var h=AppManager.app().get("appLink");var f=Utils.String.stripTags(e.emailDesc||e.shortDesc||"");var d=AppSettingsManager.getSettings();var a=d.get("brand");var g=a.link;var i=a.name;if(PLATFORM===platformEnum.nativeApp&&DEVICE===deviceTypeEnum.iphone){f=f.replace(/\n/g,"<br/>");if(e.imageUrl){f+='<br/><img src="'+e.imageUrl+'">'}if(e.url){f+='<br/><br/><a href="'+e.url+'">'+_T("SShareEmailLink")+"</a>"}var b="";var c="";if(h){c='<a href="'+h+'">'+_T("SShareMobileApp")+"</a>";b="<br/><br/>"+_T("SShareMailApplinkHtml",{htmlLink:c})}f+=b;if(i){if(g){c='<a href="'+g+'">'+i+"</a>"}else{c=i}f+="<br/><br/>"+_T("SShareMailPowerByBrand",{brand:c})}}else{var b="";if(h){b+="\n\n"+_T("SShareMailApplinkSimple",{appLink:h})}if(e.url){f+="\n\n"+e.url}f+=b;if(i){f+="\n\n"+_T("SShareMailPowerByBrand",{brand:i});if(g){f+=": "+g}}}f=encodeURIComponent(f);return f},shareAppInfo:function(){var b={};if(typeof(AppManager.app().get("appLink"))!="undefined"){b.url=AppManager.app().get("appLink")}var a=AppManager.app().get("appLabel");b.title=_T("SShareAppMailSubject");b.shortDesc=_T("SShareAppMailBody",{appName:a});b.twitterTitle=_T("SShareApp",{appName:a});return b}}; var AppInitView=(function(){var a=_.extend({},Backbone.Events);a.retry=function(){a.trigger("retry")};a.showApp=function(d){var b=$("body");b.removeClass();Config.applyBodyStyles();window.Scrolling=ScrollingFactory.createScroller();var c=AppViewFactory.getAppView(d);NavigationManager.init();document.title=d.get("appLabel");a.showStartupDialog();when(AdsManager.showFullScreenAd(c)).then(function(){Scrolling.triggerWrapperResize();var e=when.defer();if(window.WebAppPreloader){WebAppPreloader.onAppReady(function(){e.resolve()})}else{e.resolve()}return e.promise}).then(function(){b.addClass("ui-mobile-viewport");if(window.SmartBanner){SmartBanner.show()}if(navigator.appManager&&navigator.appManager.hideSplashScreen){navigator.appManager.hideSplashScreen()}if(unlock&&navigator.appManager&&navigator.appManager.unlockScreen){navigator.appManager.unlockScreen()}})};a.showFailureDialog=function(e){if(PLATFORM===platformEnum.simulator&&e==="AMS_LOAD_ERR"){return}var d={APP_DISABLED:_T("DialogMessageFailGetAppDisabled"),AMS_LOAD_ERR:_T("DialogMessageFailGetAppNormal"),SVCMAP_LOAD_ERR:_T("DialogMessageFailGetServiceMap")};var c=d[e];var b=[{text:_T("ButtonRetry"),cb:a.retry},{text:_T("ButtonClose"),cb:function(){appDriver.closeApp()}}];uiDriver.showDialogBox(null,null,{title:_T("DialogCaptionError"),message:c,buttons:b})};a.showStartupDialog=function(){var h=AppSettingsManager.getSettings().get("startupDialog");if(!h){return false}var i="startupDialog_start_"+h.id;var c="startupDialog_end_"+h.id;var b=new Date().getTime();var e=storageDriver.getItem(null,null,c);if(e&&(e<b)){return false}var d=storageDriver.getItem(null,null,i);if(d&&(d>b)){return false}if(!d&&(typeof(h.startDueDate)==="number")&&h.startDueDate){d=b+(h.startDueDate*1000);storageDriver.setItem(null,null,i,d);return false}if(typeof(h.interval)==="number"){d=b+(h.interval*1000);storageDriver.setItem(null,null,i,d)}else{storageDriver.setItem(null,null,c,b)}var g=Utils.String.translateIfNeed(h.title);var j=Utils.String.translateIfNeed(h.message);var f=$.map(h.buttons,function(k){k.text=Utils.String.translateIfNeed(k.title);k.cb=function(){if(k.url){appDriver.openLink(null,null,{url:k.url,title:k.url,useExternalBrowser:true})}if(k.stop){storageDriver.setItem(null,null,c,b)}};return k});uiDriver.showDialogBox(null,null,{title:g,message:j,buttons:f})};return a}()); window.DeviceToken=(function(){var a={};a.getDeviceToken=function(){var b=0;if(window.LAYOUT===layoutFormat.wide){b=b|(1<<7)}if(window.PLATFORM===platformEnum.gadget){b=b|(1<<8)}else{b=b|window.DEVICE;if(window.PLATFORM===platformEnum.webApp){b=b|(1<<6)}}return b};a.parseDeviceToken=function(b){var e={layout:window.LAYOUT,device:deviceTypeEnum.unknown,platform:window.PLATFORM},c=null;for(c in deviceTypeEnum){if(!deviceTypeEnum.hasOwnProperty(c)){continue}var d=deviceTypeEnum[c];if(b&d){e.device=d;break}}if(b&(1<<6)){e.platform=platformEnum.webApp}if(b&(1<<8)){e.platform=platformEnum.gadget}if(b&(1<<7)){e.layout=layoutFormat.wide}else{e.layout=layoutFormat.narrow}return e};a.setupEnvironment=function(){if(window.DEVICE_TOKEN){var b=a.parseDeviceToken(window.DEVICE_TOKEN);window.DEVICE=b.device;window.PLATFORM=b.platform;window.LAYOUT=b.layout}if(typeof(window.PLATFORM)!=="undefined"&&typeof(window.DEVICE!=="undefined")){if(window.PLATFORM===platformEnum.nativeApp&&window.DEVICE===deviceTypeEnum.iphone){if(window.navigator.userAgent.indexOf("iPad")>0){window.LAYOUT=layoutFormat.wide}}}};a.setupEnvironment();return a}()); window.DeviceInfo=(function(){var b={};function a(){var d=null,c=null;var e=navigator.userAgent;if(e){if(DEVICE===deviceTypeEnum.iphone){c=e.match(/iPhone OS (\d)/);if(c&&c.length===2){d=parseInt(c[1],10)+""}else{c=e.match(/OS (\d)/);if(c&&c.length===2){d=parseInt(c[1],10)+""}}}else{if(DEVICE===deviceTypeEnum.android){c=e.match(/\bAndroid (\d+(?:\.\d+){1,2});/);if(c&&c.length===2){d=c[1]}}}}return d}b.init=function(){b.osVersion=a()};return b}()); var DeviceSupport=(function(){var e={};function d(){var h=true;if(DEVICE===deviceTypeEnum.android&&PLATFORM!==platformEnum.simulator){var i=DeviceInfo.osVersion;h=false}return h}function c(){return !!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function f(){if(DEVICE===deviceTypeEnum.android){if(PLATFORM!==platformEnum.webApp){return true}if(Utils.Helpers.compareVersions("2.3.6",DeviceInfo.osVersion)>=0){return true}}else{if(DEVICE==deviceTypeEnum.iphone){if(Utils.Helpers.compareVersions("5.0",DeviceInfo.osVersion)>=0){return true}}}return false}function g(){return((DEVICE!==deviceTypeEnum.android)&&jQuery.browser.webkit)}function b(){return(!!jQuery.browser.webkit)}function a(){var j=true;var k=document.createElement("div");var i=document.createElement("style");i.innerHTML=" #css3-calc { width: 10px; width: calc(10px + 10px);  width: -webkit-calc(10px + 10px); display: none; } ";k.id="css3-calc";document.head.appendChild(i);document.body.appendChild(k);var h=parseInt($(k).width());if(h===10){j=false}$(i).remove();$(k).remove();return j}e.init=function(){e.isTransitionSupported=d();e.isPositionFixed=f();e.isMaskSupported=g();e.isSimpleMaskSupported=b();e.isSvgSupported=c();e.isCalcSupported=a()};return e}()); /*!
 * jQuery Mobile v@VERSION
 * http://jquerymobile.com/
 *
 * Copyright 2010, jQuery Project
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
;$.mobile=$.mobile||{};(function(b,a,c){b.extend(b.mobile,{activePageClass:"ui-page-active",defaultPageTransition:"slide"})})(jQuery,this); (function(b,d){var c=b(window),a=b("html");b.mobile.media=(function(){var e={},f=b("<div id='jquery-mediatest'>"),g=b("<body>").append(f);return function(j){if(!(j in e)){var h=document.createElement("style"),i="@media "+j+" { #jquery-mediatest { position:absolute; } }";h.type="text/css";if(h.styleSheet){h.styleSheet.cssText=i}else{h.appendChild(document.createTextNode(i))}a.prepend(g).prepend(h);e[j]=f.css("position")==="absolute";g.add(h).remove()}return e[j]}})()})(jQuery); (function(b,d){var c=false;b.mobile.isPageTransitioning=function(){return c};var a=false;b.mobile.isPageScrolling=function(){return a};b.mobile.setPageScrolling=function(e){a=e};b.mobile.getActivePage=function(f){var e;if(f){e=f.children("."+b.mobile.activePageClass)}else{e=b("."+b.mobile.activePageClass)}return e};b.mobile.changePage=function(p,q){c=true;var i=b.extend({},b.mobile.changePage.defaults,q);var l=b.mobile.getActivePage(i.parentContainer);var k=b(p);l.trigger("pagebeforehide");k.trigger("pagebeforeshow");if(DeviceSupport.isTransitionSupported){var g=i.transition||b.mobile.defaultPageTransition}else{var g="none"}var h=k.attr("id");var j=i.reverse?" reverse":"";var m="ui-mobile-viewport-transitioning viewport-"+g;var n=function(){if(l&&(k.attr("id")!==l.attr("id"))){l.removeClass(b.mobile.activePageClass)}k.trigger("pageshow");l.trigger("pagehide");if(i.removeOld){l.remove()}c=false};var f=function(){k.add(l).removeClass("out in reverse "+g);k.parent().removeClass(m);n()};var o=function(){k.addClass(b.mobile.activePageClass);n()};var e=((g!=="none")&&(b.support.cssTransitions));if(e){k.one("webkitAnimationEnd",f);k.parent().addClass(m);if(l){l.addClass(g+" out"+j)}k.addClass(b.mobile.activePageClass+" "+g+" in"+j)}else{o()}};b.mobile.changePage.defaults={transition:d,reverse:false,removeOld:false}})(jQuery); (function(g,c){var d=g("<body>").prependTo("html"),k=d[0].style,m=["Webkit","Moz","O"],n="palmGetResource" in window,l=window.operamini&&({}).toString.call(window.operamini)==="[object OperaMini]",j=window.blackberry;function b(r){var q=r.charAt(0).toUpperCase()+r.substr(1),p=(r+" "+m.join(q+" ")+q).split(" ");for(var o in p){if(k[p[o]]!==c){return true}}}function f(o,t,q){var p=document.createElement("div"),w=function(x){return x.charAt(0).toUpperCase()+x.substr(1)},v=function(x){return"-"+x.charAt(0).toLowerCase()+x.substr(1)+"-"},u=function(A){var x=v(A)+o+": "+t+";",z=w(A),y=z+w(o);p.setAttribute("style",x);if(!!p.style[y]){s=true}},r=q?[q]:m,s;for(i=0;i<r.length;i++){u(r[i])}return !!s}function e(){var o="transform-3d";return f("perspective","10px","moz")||g.mobile.media("(-"+m.join("-"+o+"),(-")+"-"+o+"),("+o+")")}function a(){var s=location.protocol+"//"+location.host+location.pathname+"ui-dir/",r=g("head base"),t=null,o="",q,p;if(!r.length){r=t=g("<base>",{href:s}).appendTo("head")}else{o=r.attr("href")}q=g("<a href='testurl' />").prependTo(d);p=q[0].href;r[0].href=o||location.pathname;if(t){t.remove()}return p.indexOf(s)===0}g.extend(g.mobile,{browser:{}});g.mobile.browser.ie=(function(){var p=3,q=document.createElement("div"),o=q.all||[];while(q.innerHTML="<!--[if gt IE "+(++p)+"]><br><![endif]-->",o[0]){}return p>4?p:!p})();g.extend(g.support,{orientation:"orientation" in window&&"onorientationchange" in window,touch:"ontouchend" in document,cssTransitions:"WebKitTransitionEvent" in window,pushState:"pushState" in history&&"replaceState" in history,mediaquery:g.mobile.media("only all"),cssPseudoElement:!!b("content"),touchOverflow:!!b("overflowScrolling"),cssTransform3d:e(),boxShadow:!!b("boxShadow")&&!j,scrollTop:("pageXOffset" in window||"scrollTop" in document.documentElement||"scrollTop" in d[0])&&!n&&!l,dynamicBaseTag:a()});d.remove();var h=(function(){var o=window.navigator.userAgent;return o.indexOf("Nokia")>-1&&(o.indexOf("Symbian/3")>-1||o.indexOf("Series60/5")>-1)&&o.indexOf("AppleWebKit")>-1&&o.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)})();g.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||l||h;if(h){g(function(){g("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")})}if(!g.support.boxShadow){g("html").addClass("ui-mobile-nosupport-boxshadow")}})(jQuery); (function(c,h,a){c.each(("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop").split(" "),function(k,j){c.fn[j]=function(l){return l?this.bind(j,l):this.trigger(j)};c.attrFn[j]=true});var d=c.support.touch,e="touchmove scroll",i=d?"touchstart":"mousedown",g=d?"touchend":"mouseup",b=d?"touchmove":"mousemove";function f(m,j,l){var k=l.type;l.type=j;c.event.handle.call(m,l);l.type=k}c.event.special.scrollstart={enabled:true,setup:function(){var j=this,m=c(j),l,n;function k(o,p){l=p;f(j,l?"scrollstart":"scrollstop",o)}m.bind(e,function(o){if(!c.event.special.scrollstart.enabled){return}if(!l){k(o,true)}clearTimeout(n);n=setTimeout(function(){k(o,false)},200)})}};c.event.special.tap={setup:function(){var j=this,k=c(j);k.bind("vmousedown",function(o){if(o.which&&o.which!==1){return false}var n=o.target,l=o.originalEvent,r;function m(){clearTimeout(r)}function q(){m();k.unbind("vclick",p).unbind("vmouseup",m);c(document).unbind("vmousecancel",q)}function p(s){q();if(c.mobile.isPageTransitioning()){return}if(n==s.target){f(j,"tap",s)}}k.bind("vmouseup",m).bind("vclick",p).bind("vmousemove",function(){setTimeout(q,100)});c(document).bind("vmousecancel",q);r=setTimeout(function(){f(j,"taphold",c.Event("taphold"))},750)})}};c.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var j=this,k=c(j);k.bind(i,function(m){var o=m.originalEvent.touches?m.originalEvent.touches[0]:m,p={time:(new Date()).getTime(),coords:[o.pageX,o.pageY],origin:c(m.target)},l;function n(q){if(!p){return}var r=q.originalEvent.touches?q.originalEvent.touches[0]:q;l={time:(new Date()).getTime(),coords:[r.pageX,r.pageY]};if(Math.abs(p.coords[0]-l.coords[0])>c.event.special.swipe.scrollSupressionThreshold){q.preventDefault()}}k.bind(b,n).one(g,function(q){k.unbind(b,n);if(p&&l){if(l.time-p.time<c.event.special.swipe.durationThreshold&&Math.abs(p.coords[0]-l.coords[0])>c.event.special.swipe.horizontalDistanceThreshold&&Math.abs(p.coords[1]-l.coords[1])<c.event.special.swipe.verticalDistanceThreshold){p.origin.trigger("swipe").trigger(p.coords[0]>l.coords[0]?"swipeleft":"swiperight")}}p=l=a})})}};(function(m,q){var o=m(q),j,k,n,l,r,p={"0":true,"180":true};if(m.support.orientation){l=m.mobile.media("all and (orientation: landscape)");r=p[q.orientation];if((l&&r)||(!l&&!r)){p={"-90":true,"90":true}}}m.event.special.orientationchange=j={setup:function(){if(m.support.orientation){return false}n=k();o.bind("throttledresize",s)},teardown:function(){if(m.support.orientation){return false}o.unbind("throttledresize",s)},add:function(t){var u=t.handler;t.handler=function(v){v.orientation=k();return u.apply(this,arguments)}}};function s(){var t=k();if(t!==n){n=t;o.trigger("orientationchange")}}m.event.special.orientationchange.orientation=k=function(){var t=document.documentElement;return t&&t.clientWidth/t.clientHeight<1.1?"portrait":"landscape"}})(jQuery,h);(function(){c.event.special.throttledresize={setup:function(){c(this).bind("resize",l)},teardown:function(){c(this).unbind("resize",l)}};var m=250,l=function(){o=(new Date()).getTime();n=o-k;if(n>=m){k=o;c(this).trigger("throttledresize")}else{if(j){clearTimeout(j)}j=setTimeout(l,m-n)}},k=0,j,o,n})();c.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(k,j){c.event.special[k]={setup:function(){c(this).bind(j,c.noop)}}})})(jQuery,this); (function(d,f,b){var c="hashchange",i=document,g,h=d.event.special,j=i.documentMode,e="on"+c in f&&(j===b||j>7);function a(k){k=k||location.href;return"#"+k.replace(/^[^#]*#?(.*)$/,"$1")}d.fn[c]=function(k){return k?this.bind(c,k):this.trigger(c)};d.fn[c].delay=50;h[c]=d.extend(h[c],{setup:function(){if(e){return false}d(g.start)},teardown:function(){if(e){return false}d(g.stop)}});g=(function(){var k={},q,n=a(),l=function(r){return r},m=l,p=l;k.start=function(){q||o()};k.stop=function(){q&&clearTimeout(q);q=b};function o(){var s=a(),r=p(n);if(s!==n){m(n=s,r);d(f).trigger(c)}else{if(r!==n){location.href=location.href.replace(/#.*/,"")+r}}q=setTimeout(o,d.fn[c].delay)}d.browser.msie&&!e&&(function(){var r,s;k.start=function(){if(!r){s=d.fn[c].src;s=s&&s+a();r=d('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){s||m(a());o()}).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow;i.onpropertychange=function(){try{if(event.propertyName==="title"){r.document.title=i.title}}catch(t){}}}};k.stop=l;p=function(){return a(r.location.href)};m=function(w,t){var v=r.document,u=d.fn[c].domain;if(w!==t){v.title=i.title;v.open();u&&v.write('<script>document.domain="'+u+'"<\/script>');v.close();r.location.hash=w}}})();return k})()})(jQuery,this); (function(w,F,d,l){var E="virtualMouseBindings",b="virtualTouchID",a="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),v="clientX clientY pageX pageY screenX screenY".split(" "),B=w.event.mouseHooks?w.event.mouseHooks.props:[],x=w.event.props.concat(B),z={},G=0,r=0,q=0,o=false,J=[],f=false,Q=false,t="addEventListener" in d,s=w(d),D=1,M=0;w.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function p(i){while(i&&typeof i.originalEvent!=="undefined"){i=i.originalEvent}return i}function g(S,T){var aa=S.type,ab,Z,U,R,Y,X,W,V;S=w.Event(S);S.type=T;ab=S.originalEvent;Z=w.event.props;if(aa.search(/mouse/)>-1){Z=x}if(ab){for(W=Z.length,R;W;){R=Z[--W];S[R]=ab[R]}}if(aa.search(/mouse(down|up)|click/)>-1&&!S.which){S.which=1}if(aa.search(/^touch/)!==-1){U=p(ab);aa=U.touches;Y=U.changedTouches;X=(aa&&aa.length)?aa[0]:((Y&&Y.length)?Y[0]:l);if(X){for(V=0,len=v.length;V<len;V++){R=v[V];S[R]=X[R]}}}return S}function O(T){var R={},i,S;while(T){i=w.data(T,E);for(S in i){if(i[S]){R[S]=R.hasVirtualBinding=true}}T=T.parentNode}return R}function A(S,R){var i;while(S){i=w.data(S,E);if(i&&(!R||i[R])){return S}S=S.parentNode}return null}function I(){Q=false}function j(){Q=true}function P(){M=0;J.length=0;f=false;j()}function n(){I()}function u(){y();G=setTimeout(function(){G=0;P()},w.vmouse.resetTimerDuration)}function y(){if(G){clearTimeout(G);G=0}}function m(S,T,i){var R;if((i&&i[S])||(!i&&A(T.target,S))){R=g(T,S);w(T.target).trigger(R)}return R}function h(R){var S=w.data(R.target,b);if(!f&&(!M||M!==S)){var i=m("v"+R.type,R);if(i){if(i.isDefaultPrevented()){R.preventDefault()}if(i.isPropagationStopped()){R.stopPropagation()}if(i.isImmediatePropagationStopped()){R.stopImmediatePropagation()}}}}function N(S){var U=p(S).touches,T,i;if(U&&U.length===1){T=S.target;i=O(T);if(i.hasVirtualBinding){M=D++;w.data(T,b,M);y();n();o=false;var R=p(S).touches[0];r=R.pageX;q=R.pageY;m("vmouseover",S,i);m("vmousedown",S,i)}}}function H(i){if(Q){return}if(!o){m("vmousecancel",i,O(i.target))}o=true;u()}function c(T){if(Q){return}var R=p(T).touches[0],i=o,S=w.vmouse.moveDistanceThreshold;o=o||(Math.abs(R.pageX-r)>S||Math.abs(R.pageY-q)>S),flags=O(T.target);if(o&&!i){m("vmousecancel",T,flags)}m("vmousemove",T,flags);u()}function e(T){if(Q){return}j();var i=O(T.target),S;m("vmouseup",T,i);if(!o){var R=m("vclick",T,i);if(R&&R.isDefaultPrevented()){S=p(T).changedTouches[0];J.push({touchID:M,x:S.clientX,y:S.clientY});f=true}}m("vmouseout",T,i);o=false;u()}function C(R){var S=w.data(R,E),i;if(S){for(i in S){if(S[i]){return true}}}return false}function L(){}function k(i){var R=i.substr(1);return{setup:function(T,S){if(!C(this)){w.data(this,E,{})}var U=w.data(this,E);U[i]=true;z[i]=(z[i]||0)+1;if(z[i]===1){s.bind(R,h)}w(this).bind(R,L);if(t){z.touchstart=(z.touchstart||0)+1;if(z.touchstart===1){s.bind("touchstart",N).bind("touchend",e).bind("touchmove",c).bind("scroll",H)}}},teardown:function(T,S){--z[i];if(!z[i]){s.unbind(R,h)}if(t){--z.touchstart;if(!z.touchstart){s.unbind("touchstart",N).unbind("touchmove",c).unbind("touchend",e).unbind("scroll",H)}}var U=w(this),V=w.data(this,E);if(V){V[i]=false}U.unbind(R,L);if(!C(this)){U.removeData(E)}}}}for(var K=0;K<a.length;K++){w.event.special[a[K]]=k(a[K])}if(t){d.addEventListener("click",function(V){var S=J.length,W=V.target,Y,X,Z,U,R,T;if(S){Y=V.clientX;X=V.clientY;threshold=w.vmouse.clickDistanceThreshold;Z=W;while(Z){for(U=0;U<S;U++){R=J[U];T=0;if((Z===W&&Math.abs(R.x-Y)<threshold&&Math.abs(R.y-X)<threshold)||w.data(Z,b)===R.touchID){V.preventDefault();V.stopPropagation();return}}Z=Z.parentNode}}},true)}})(jQuery,window,document); (function(b,c){function d(e){while(e){var f=b(e);if(f.attr("data-role")==="button"){break}e=e.parentNode}return e}var a=function(){var f=200,g,e;b(document).bind({vmousedown:function(j){var h=d(j.target),i;if(h){i=b(h);if(b.support.touch){g&&clearTimeout(g);g=setTimeout(function(){i.removeClass("ui-btn-up").addClass("ui-btn-down")},f)}else{i.removeClass("ui-btn-up").addClass("ui-btn-down")}}},"vmousecancel vmouseup":function(j){var h=d(j.target),i;if(h){i=b(h);i.removeClass("ui-btn-down").addClass("ui-btn-up")}},"vmouseover focus":function(j){var h=d(j.target),i;if(h){i=b(h);if(b.support.touch){e&&clearTimeout(e);e=setTimeout(function(){i.removeClass("ui-btn-up").addClass("ui-btn-hover")},f)}else{i.removeClass("ui-btn-up").addClass("ui-btn-hover")}}},"vmouseout blur scrollstart":function(j){var h=d(j.target),i;if(h){i=b(h);i.removeClass("ui-btn-hover ui-btn-down").addClass("ui-btn-up");g&&clearTimeout(g);e&&clearTimeout(e)}}});a=null};if(a){a()}})(jQuery); var cqm=(function(){var d={};var b="loading_src";var a="error_src";var g=false;function e(h){if(g){h()}else{$(function(){h()})}}d.setSrcConditional=function(m,o,i){m.addClass(b);var j=function(p){if(!i){p()}else{if(i.hasClass("in")){i.one("pageshow",p)}else{if(i.hasClass("out")){i.one("pagehide",p)}else{p()}}}};var h=function(){m.removeClass(b);m.attr("src",o)};var n=function(){m.removeClass(b).addClass(a);m.attr("src","")};var k=new Image();k.onload=function(){j(h)};var l=function(){j(n)};k.onerror=l;k.onabort=l;k.src=o};d.showLoading=function(k,h,j){k=k||_T("IndicatorLoading");h=c(h);if(!h){return}if(h.loadingIndicatorCounts){h.loadingIndicatorCounts++;return}h.loadingIndicatorCounts=1;if(j){var i=$("<div class='ui-loader small'><div class='horizontalCenter'><div class='dialog ui-corner-all'><span class='loading-icon mask_sprite sprite-ajax-loader_small spin clr_appGeneral_loadingSmallIcn'></span><h1>"+k+"</h1></div></div></div>");i.css({top:window.pageYOffset+Math.floor(Utils.Html.getInnerSize().height*2/3)||200})}else{var i=$("<div class='ui-loader big ui-body-a ui-corner-all'><span class='ui-icon ui-icon-loading spin'></span><h1>"+k+"</h1></div>");i.css({top:window.pageYOffset+Utils.Html.getInnerSize().height/2||100})}i.appendTo(h)};d.hideLoading=function(h){h=c(h);if(!h||!h.loadingIndicatorCounts){return}h.loadingIndicatorCounts--;if(h.loadingIndicatorCounts){return}h.find(".ui-loader").remove()};d.showToastMessage=function(j,h,i){i=i||1500;h=c(h);if(!h){return}$("<div class='ui-loader big ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+j+"</h1></div>").css({display:"block",opacity:0.96,top:window.pageYOffset+100}).appendTo(h).delay(i).fadeOut(500,function(){$(this).remove()})};var c=function(i){var h=i;if(i){if(i.$pageContainer){return i.$pageContainer}while(h&&!h.hasClass("ui-page-active")&&!h.hasClass("template_view")){h=h.parent();if(h.length===0){return null}}i.$pageContainer=h}return h||$("body")};d.showDialogBox=function(l,k,i,h){if(typeof h==="undefined"){h={}}var j={parse_text_as_html:false};h=$.extend({},j,h);e(function(){if(!h.parse_text_as_html){k=Utils.String.sanitizeText(k,true)}var r=$('<div class="ui-overlay"></div>');var q=$('<div class="dialog-box t3d"><h1 class="ui-dialog-bar ui-corner-top ui-title ui-overlay-shadow">'+l+'</h1><div class="ui-corner-bottom ui-content ui-body-c ui-overlay-shadow"><p class="ui-dialog-box-text">'+k+'</p><div class="ui-button-container"></div></div></div>').css("top",window.pageYOffset+100);var o=q.find(".ui-button-container");for(var n=0;n<i.length;n++){var m=i[n];if(m&&m.text){var p=$('<div data-id="'+n+'" data-role="button" class="ui-btn ui-btn-inline ui-btn-corner-all ui-shadow ui-btn-up"><span class="ui-btn-inner">'+m.text+"</span></div>").appendTo(o);p.tap(function(u){u.preventDefault();$("html").removeClass("ui-dialog");q.remove();r.remove();var t=$(this).attr("data-id");var s=i[t];if(s){if(typeof(s.cb)=="function"){setTimeout(s.cb,0)}}})}}$("html").addClass("ui-dialog");q.prependTo($("body"));r.prependTo($("body"))})};function f(){$(window).bind("orientationchange throttledresize",function(h){if(h.orientation){$("html").removeClass("portrait landscape").addClass(h.orientation)}});$(function(){$(window).trigger("orientationchange")});$(function(){$.mobile.defaultHomeScroll=(!$.support.scrollTop||$(window).scrollTop()===1)?0:1;g=true})}f();return d})(); Utils=window.Utils||{};Utils.Html={addCssStyle:function(b,g,d){if(!g){return}var c="";$.each(b,function(h,i){c+=" "+h+" "+i});if(d){var a=g.getElementById(d);if(a){a.parentNode.removeChild(a)}}a=g.createElement("style");a.type="text/css";if(d){a.id=d}var f=g.createTextNode(c);if(a.styleSheet){a.styleSheet.cssText=f.nodeValue}else{a.appendChild(f)}var e=g.getElementsByTagName("head")[0];if(e){e.appendChild(a)}},getInnerSize:function(c){if(!c){c=window}var b=c.document;var a={width:0,height:0};if(typeof(c.innerWidth)=="number"){a.width=c.innerWidth;a.height=c.innerHeight}else{if(b.documentElement&&(b.documentElement.clientWidth||b.documentElement.clientHeight)){a.width=b.documentElement.clientWidth;a.height=b.documentElement.clientHeight}else{if(b.body&&(b.body.clientWidth||b.body.clientHeight)){a.width=b.body.clientWidth;a.height=b.body.clientHeight}}}return a},getInnerHeight:function(b){var a={includeHeader:false,includeFooter:false};b=$.extend({},a,b);var e=this.getInnerSize(window);var d=e.height;var f=this.getHeaderHeight();var c=this.getFooterHeight();if(f>0||c>0){if(!b.includeHeader){d-=f}if(!b.includeFooter){d-=c}}return d},getIdSelector:function(a){var b=new RegExp("/","g");return"#"+a.replace(b,"\\/")},fixAlias:function(d,b){b=true;if(d&&typeof d==="string"){d=d.replace(/[ \/]/g,"_")}else{d=Utils.Helpers.generateGUID()}if(!b){return d}this.aliasesArray=this.aliasesArray||[];var a=d;for(var c=2;this.aliasesArray.indexOf(a)>-1;c++){a=d+"_"+c}this.aliasesArray.push(a);return a},removeAlias:function(b){if(b&&typeof b==="string"&&this.aliasesArray){var a=this.aliasesArray.indexOf(b);if(a>-1){this.aliasesArray.splice(a,1)}}},resetAliasesArray:function(){this.aliasesArray=[]},getHeaderHeight:function(){var a=AppSettingsManager.getSettings();if(a&&a.get("isHeaderScrollable")){return 0}else{return this.getElementHeight($(".app_header"))}},getFooterHeight:function(){return this.getElementHeight($("#app_footer"))},getElementHeight:function(a){var b=0;if(a&&a.length>0&&a.is(":visible")){b=Math.max(a.outerHeight(),0)}return b},preloadImages:function(a){if(!a||a.length===0){return}for(var b=a.length-1;b>=0;b--){(new Image()).src=a[b]}},setGridMargin:function(b,h){var c=b.children();if(c&&c.length>0){h=h||{};if(typeof(h.minMargin)==="undefined"){h.minMargin=5}if(typeof(h.alsoTop)==="undefined"){h.alsoTop=true}if(typeof(h.alsoTopUl)==="undefined"){h.alsoTopUl=false}if(typeof(h.centerFewItems)==="undefined"){h.centerFewItems=false}var f=b.width();var d=c.first().width();if(f>0&&d>0){var i=Math.floor(f/(d+h.minMargin));if(i>0){if(h.centerFewItems&&i>c.length){i=c.length}var a=f-(i*d);var e=Math.floor(a/(i+1));if(e<h.minMargin){i--;a=f-(i*d);e=Math.floor(a/(i+1))}if(IS_RTL){c.css({marginRight:e})}else{c.css({marginLeft:e})}if(h.alsoTopUl){b.css({marginTop:e})}else{if(h.alsoTop){c.css({marginTop:e})}}var g=b.parents(".scroll_wrapper");if(g.length>0){Scrolling.onContentChanged(g)}}}}},setGridSizes:function(b,h){var c=b.children();if(c&&c.length>0){var a={minWidth:80,maxWidth:99999,margin:4,setAlsoMargin:true,setAlsoMarginTop:false,setAlsoHeight:true};h=_.extend({},a,h);var e=h.margin;var d=h.minWidth+e;var f=b.width()-e;if(f>0&&d>0){var i=Math.floor(f/d);if(i>0){f=f-(i*e);d=Math.floor(f/i);c.css({width:d});if(h.setAlsoHeight){c.css({height:d})}if(h.setAlsoMargin){if(IS_RTL){c.css({marginRight:e})}else{c.css({marginLeft:e})}}if(h.setAlsoMarginTop){c.css({marginTop:e})}var g=b.parents(".scroll_wrapper");if(g.length>0){Scrolling.onContentChanged(g)}}}}},_mergeSvg:function(c,l,f,j,h,e){if(j){j.remove()}var k=e.documentElement.attributes;if(!c.data("initialized")){for(var d=0;d<k.length;d++){var g=k[d];c.attr(g.name,g.value)}c.data("initialized",true)}var a=$(e.documentElement).children();for(var d=0;d<a.length;d++){var b=a[d];$(b).attr("class",f);l.append(b)}if(h){h()}},appendLayeredImage:function(q,a,m,d,k,n,c){if(!c){var p=$('<div class="image_loader_icon mask_sprite sprite-ajax-loader_small spin clr_contTypeA_btn_icn"></div>');q.append(p)}var g=function(r){if(d){d.appendTo(q)}if(p){p.remove()}if(k){k(r)}};if(!a){g("no url");return}var f=a.endsWith(".svg");if(a.endsWith(".svg")){if(!DeviceSupport.isSvgSupported){g("svg is not supported");return}var e=q.find("svg");if(!e.length){var e=$('<svg class="layered_svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve">');e.appendTo(q)}q.append(e);var b=document.createElementNS("http://www.w3.org/2000/svg","g");e.append(b);var j=_.bind(Utils.Html._mergeSvg,this,e,$(b),m,p,n);var i=(PLATFORM===platformEnum.nativeApp&&DEVICE===deviceTypeEnum.iphone&&!a.startsWith("http"));if(i){var l=$('<embed src="'+a+'" width="0" height="0" type="image/svg+xml" />');$("body").append(l);var h=new Image();h.onload=function(){var s=function(t){if(t.contentDocument){return t.contentDocument}else{var u=null;try{u=t.getSVGDocument()}catch(v){}return u}};var r=s(l[0]);r?j(r):g();l.remove()};h.onerror=function(){g();l.remove()};h.src=a}else{$.ajax({type:"GET",url:a,crossDomain:true,dataType:"xml"}).done(j).fail(g)}}else{var h=$('<img class="layered_image"  src="'+a+'">').addClass(m);var o=function(){if(p){p.remove()}if(n){n()}};h.bind("error",g);h.bind("load",o);q.append(h)}},replaceUrlsRegex:new RegExp(/(href=['"]|src=['"])?(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig),replaceURLWithHTMLLinks:function(a){if(a){return a.replace(this.replaceUrlsRegex,function(c,d,b){if(!d){return'<a href="'+b+'">'+b+"</a>"}return c})}}}; Utils=window.Utils||{};Utils.ImageLoader={load:function(b,c){if(!b||b===""){return}var a=new Image();if(typeof(c)==="function"){a.onload=function(){c()}}a.src=b}}; window.console=window.console||(function(){var c=function(){},d="log info warn error assert dir clear profile profileEnd".split(" "),b=0,a=null,e={};for(b=0;a=d[b];b+=1){e[a]=c}return e}()); console.trace=function(a){console.log(printStackTrace().join("\n"));console.log(a)};window.onerror=function(c,b,a){console.trace("JavaScript error: "+c+" on line "+a+" for "+b)};function printStackTrace(c){c=c||{guess:true};var e=c.e||null,h=!!c.guess;var f=new printStackTrace.implementation(),a=f.run(e);var a=(h)?f.guessAnonymousFunctions(a):a;var b=[];for(var d=a.length-1;d>=0;d--){var g=a[d];if(!~g.indexOf("createException")&&!~g.indexOf("print-stack")&&!~g.indexOf(".fn")&&!~g.indexOf("Object.printStackTrace.impl")){b.push(a[d])}}return b}if(typeof module!=="undefined"&&module.exports){module.exports=printStackTrace}printStackTrace.implementation=function(){};printStackTrace.implementation.prototype={run:function(a,b){a=a||this.createException();b=b||this.mode(a);if(b==="other"){return this.other(arguments.callee)}else{return this[b](a)}},createException:function(){try{this.undef()}catch(a){return a}},mode:function(a){if(a["arguments"]&&a.stack){return"chrome"}else{if(a.stack&&a.sourceURL){return"safari"}else{if(a.stack&&a.number){return"ie"}else{if(typeof a.message==="string"&&typeof window!=="undefined"&&window.opera){if(!a.stacktrace){return"opera9"}if(a.message.indexOf("\n")>-1&&a.message.split("\n").length>a.stacktrace.split("\n").length){return"opera9"}if(!a.stack){return"opera10a"}if(a.stacktrace.indexOf("called from line")<0){return"opera10b"}return"opera11"}else{if(a.stack){return"firefox"}}}}}return"other"},instrumentFunction:function(b,d,e){b=b||window;var a=b[d];b[d]=function c(){e.call(this,printStackTrace().slice(4));return b[d]._instrumented.apply(this,arguments)};b[d]._instrumented=a},deinstrumentFunction:function(a,b){if(a[b].constructor===Function&&a[b]._instrumented&&a[b]._instrumented.constructor===Function){a[b]=a[b]._instrumented}},chrome:function(b){var a=(b.stack+"\n").replace(/^\S[^\(]+?[\n$]/gm,"").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}()@$1$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}()@$1").split("\n");a.pop();return a},safari:function(a){return a.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(b){var a=/^.*at (\w+) \(([^\)]+)\)$/gm;return b.stack.replace(/at Anonymous function /gm,"{anonymous}()@").replace(/^(?=\w+Error\:).*$\n/m,"").replace(a,"$1@$2").split("\n")},firefox:function(a){return a.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^[\(@]/gm,"{anonymous}()@").split("\n")},opera11:function(g){var a="{anonymous}",h=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;var k=g.stacktrace.split("\n"),l=[];for(var c=0,f=k.length;c<f;c+=2){var d=h.exec(k[c]);if(d){var j=d[4]+":"+d[1]+":"+d[2];var b=d[3]||"global code";b=b.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,a);l.push(b+"@"+j+" -- "+k[c+1].replace(/^\s+/,""))}}return l},opera10b:function(h){var g=/^(.*)@(.+):(\d+)$/;var c=h.stacktrace.split("\n"),b=[];for(var f=0,a=c.length;f<a;f++){var d=g.exec(c[f]);if(d){var j=d[1]?(d[1]+"()"):"global code";b.push(j+"@"+d[2]+":"+d[3])}}return b},opera10a:function(g){var a="{anonymous}",h=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var j=g.stacktrace.split("\n"),k=[];for(var c=0,f=j.length;c<f;c+=2){var d=h.exec(j[c]);if(d){var b=d[3]||a;k.push(b+"()@"+d[2]+":"+d[1]+" -- "+j[c+1].replace(/^\s+/,""))}}return k},opera9:function(j){var d="{anonymous}",h=/Line (\d+).*script (?:in )?(\S+)/i;var c=j.message.split("\n"),b=[];for(var g=2,a=c.length;g<a;g+=2){var f=h.exec(c[g]);if(f){b.push(d+"()@"+f[2]+":"+f[1]+" -- "+c[g+1].replace(/^\s+/,""))}}return b},other:function(g){var b="{anonymous}",f=/function\s*([\w\-$]+)?\s*\(/i,a=[],d,c,e=10;while(g&&g["arguments"]&&a.length<e){d=f.test(g.toString())?RegExp.$1||b:b;c=Array.prototype.slice.call(g["arguments"]||[]);a[a.length]=d+"("+this.stringifyArguments(c)+")";g=g.caller}return a},stringifyArguments:function(c){var b=[];var e=Array.prototype.slice;for(var d=0;d<c.length;++d){var a=c[d];if(a===undefined){b[d]="undefined"}else{if(a===null){b[d]="null"}else{if(a.constructor){if(a.constructor===Array){if(a.length<3){b[d]="["+this.stringifyArguments(a)+"]"}else{b[d]="["+this.stringifyArguments(e.call(a,0,1))+"..."+this.stringifyArguments(e.call(a,-1))+"]"}}else{if(a.constructor===Object){b[d]="#object"}else{if(a.constructor===Function){b[d]="#function"}else{if(a.constructor===String){b[d]='"'+a+'"'}else{if(a.constructor===Number){b[d]=a}}}}}}}}}return b.join(",")},sourceCache:{},ajax:function(a){var b=this.createXMLHTTPObject();if(b){try{b.open("GET",a,false);b.send(null);return b.responseText}catch(c){}}return""},createXMLHTTPObject:function(){var c,a=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var b=0;b<a.length;b++){try{c=a[b]();this.createXMLHTTPObject=a[b];return c}catch(d){}}},isSameDomain:function(a){return typeof location!=="undefined"&&a.indexOf(location.hostname)!==-1},getSource:function(a){if(!(a in this.sourceCache)){this.sourceCache[a]=this.ajax(a).split("\n")}return this.sourceCache[a]},guessAnonymousFunctions:function(k){for(var g=0;g<k.length;++g){var f=/\{anonymous\}\(.*\)@(.*)/,l=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,b=k[g],c=f.exec(b);if(c){var e=l.exec(c[1]);if(e){var d=e[1],a=e[2],j=e[3]||0;if(d&&this.isSameDomain(d)&&a){var h=this.guessAnonymousFunction(d,a,j);k[g]=b.replace("{anonymous}",h)}}}}return k},guessAnonymousFunction:function(c,f,a){var b;try{b=this.findFunctionName(this.getSource(c),f)}catch(d){b="getSource failed with url: "+c+", exception: "+d.toString()}return b},findFunctionName:function(a,e){var g=/function\s+([^(]*?)\s*\(([^)]*)\)/;var k=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/;var h=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;var b="",l,j=Math.min(e,20),d,c;for(var f=0;f<j;++f){l=a[e-f-1];c=l.indexOf("//");if(c>=0){l=l.substr(0,c)}if(l){b=l+b;d=k.exec(b);if(d&&d[1]){return d[1]}d=g.exec(b);if(d&&d[1]){return d[1]}d=h.exec(b);if(d&&d[1]){return d[1]}}}return"(?)"}}; var Localization=function(a){this.localizationData=a;a.numberFormat={decimalSymbol:a.stringsDictionary._decimalSymbol,digitGroupingSymbol:a.stringsDictionary._digitGroupingSymbol};dateFormat.masks.shortDate=a.stringsDictionary._shortDate;dateFormat.masks.longDate=a.stringsDictionary._longDate;dateFormat.masks.fullDate=a.stringsDictionary._fullDate;dateFormat.masks.shortTime=a.stringsDictionary._shortTime;dateFormat.masks.longTime=a.stringsDictionary._longTime;dateFormat.masks.dateTime=a.stringsDictionary._dateTime;dateFormat.i18n={dayNames:[a.stringsDictionary._day1s,a.stringsDictionary._day2s,a.stringsDictionary._day3s,a.stringsDictionary._day4s,a.stringsDictionary._day5s,a.stringsDictionary._day6s,a.stringsDictionary._day7s,a.stringsDictionary._day1,a.stringsDictionary._day2,a.stringsDictionary._day3,a.stringsDictionary._day4,a.stringsDictionary._day5,a.stringsDictionary._day6,a.stringsDictionary._day7],monthNames:[a.stringsDictionary._month1s,a.stringsDictionary._month2s,a.stringsDictionary._month3s,a.stringsDictionary._month4s,a.stringsDictionary._month5s,a.stringsDictionary._month6s,a.stringsDictionary._month7s,a.stringsDictionary._month8s,a.stringsDictionary._month9s,a.stringsDictionary._month10s,a.stringsDictionary._month11s,a.stringsDictionary._month12s,a.stringsDictionary._month1,a.stringsDictionary._month2,a.stringsDictionary._month3,a.stringsDictionary._month4,a.stringsDictionary._month5,a.stringsDictionary._month6,a.stringsDictionary._month7,a.stringsDictionary._month8,a.stringsDictionary._month9,a.stringsDictionary._month10,a.stringsDictionary._month11,a.stringsDictionary._month12]}};Localization.constructor=Localization;Localization.prototype={wrapString:function(c,b){if(!this.highlightStrings){return b}var a="rgba(255,255,0,0.8)";if(!LocalizationManager.isTranslated(c)){a="rgba(255,0,0,0.8)"}htmlStr='<span style="color:black !important; background:'+a+' !important;" onmouseover="$(this).html(\''+c+"');\" onmouseout=\"$(this).html('"+b+"');\">"+b+"</span>";return htmlStr},getTranslatedString:function(b,c){if(!this.localizationData.stringsDictionary[b]){return""}var f=this.localizationData.stringsDictionary[b];if(!c){return this.wrapString(b,f)}var j="";var d=0;var e=-1;var a;while(d<f.length){a=f[d];if(!a){a=f.substring(d,d+1)}if(a==="{"){if(d===e){j+="{";e=-1}else{e=d+1}}else{if(a==="}"&&e>0){var h=f.substring(e,d);var g="";if(c&&c[h]){g=c[h]}j+=g;e=-1}else{if(e<0){j+=a}}}d++}return this.wrapString(b,j)},formatNumber:function(a){return Utils.Numbers.formatNumber(a,this.localizationData.numberFormat)},getLocalizationData:function(){return this.localizationData}}; var LocalizationManager=(function(){var f={};var b={};var a=null,e="LocalizationData";var g=function(){if(PLATFORM===platformEnum.simulator){return null}var h=storageDriver.getItem(null,null,e,true);if(h){return JSON.parse(h)}return null};var c=function(i){var h=JSON.stringify(i);storageDriver.setItem(null,null,e,h,true)};f.addOverrideTranslation=function(h){b=h;$.extend(localizationData.stringsDictionary,h)};f.getCulture=function(){return AppManager.app().getCulture()||"en-US"};f.init=function(){var h=g();a=Utils.Helpers.deepClone(true,{},localizationData);d(h)};f.updateLocalization=function(){var h=when.defer();var j=function(k){if(!k){if(DEBUG){console.log("assertion failed - received empty translation from plugin.")}h.resolve();return}d(k);c(k);h.resolve()};var i=function(k){if(DEBUG){console.log(k)}h.resolve()};navigator.appData.onLocalizationChange(j,i);return h.promise};f.isTranslated=function(h){if(f.getCulture()!=="en-US"){if(a.stringsDictionary[h]&&localizationData.stringsDictionary[h]){if(a.stringsDictionary[h]===localizationData.stringsDictionary[h]){return false}}}return true};var d=function(h){if(h){localizationData.isRtl=h.isRtl;_.extend(localizationData.stringsDictionary,h.items,b)}var i=new Localization(localizationData);window.localization=i;window._T=i.getTranslatedString.hitch(i);window.IS_RTL=i.localizationData.isRtl};return f})(); var localizationData={isRtl:false,stringsDictionary:{_decimalSymbol:".",_digitGroupingSymbol:",",_shortDate:"m/d/yyyy",_longDate:"mmmm dd, yyyy",_fullDate:"dddd, mmmm dd, yyyy",_shortTime:"h:MMTT",_longTime:"h:MM:ss tt",_dateTime:"m/d/yyyy h:MM:ss tt",_day1:"Sunday",_day2:"Monday",_day3:"Tuesday",_day4:"Wednesday",_day5:"Thursday",_day6:"Friday",_day7:"Saturday",_day1s:"Sun",_day2s:"Mon",_day3s:"Tue",_day4s:"Wed",_day5s:"Thu",_day6s:"Fri",_day7s:"Sat",_month1:"January",_month2:"February",_month3:"March",_month4:"April",_month5:"May",_month6:"June",_month7:"July",_month8:"August",_month9:"September",_month10:"October",_month11:"November",_month12:"December",_month1s:"Jan",_month2s:"Feb",_month3s:"Mar",_month4s:"Apr",_month5s:"May",_month6s:"Jun",_month7s:"Jul",_month8s:"Aug",_month9s:"Sep",_month10s:"Oct",_month11s:"Nov",_month12s:"Dec",_firstDayOfWeek:"1",ButtonOk:"OK",ButtonCancel:"Cancel",ButtonClose:"Close",ButtonRetry:"Retry",PushNotificationTitle:"Notification",DialogMessageFailGetAppNormal:"Failed to load application data.\n\nYou must connect to a Wi-Fi or cellular data network to access this data.",DialogMessageFailGetAppDisabled:"We're sorry, this app has been temporarily disabled due to a content violation.\n\nPlease check on this app again in a few days.",DialogMessageFailGetAppId:"Please check your application\ncode and try again",DialogMessageFailGetServiceMap:"Failed to initialize network communication",DialogMessageFacebookLogoutFail:"Unable to log out from Facebook at the moment\nPlease try again later",DialogMessageMediaNotSupported:"Audio is not supported by the browser",DialogCaptionError:"Error",DialogCaptionSuccess:"Success",DialogCaptionConfirm:"Confirm",SSecondsAgo:"seconds ago",SSecondAgo:"a second ago",SNumberSecondsAgo:"{number} seconds ago",SMinuteAgo:"a minute ago",SNumberMinutesAgo:"{number} minutes ago",SHourAgo:"an hour ago",SNumberHoursAgo:"{number} hours ago",SDayAgo:"a day ago",SNumberDaysAgo:"{number} days ago",SWeekAgo:"a week ago",SNumberWeeksAgo:"{number} weeks ago",SMonthAgo:"a month ago",SNumberMonthsAgo:"{number} months ago",SYearAgo:"a year ago",SNumberYearsAgo:"{number} years ago",IndicatorLoading:"Loading...",HtmlTextMorePages:"More",DialogMessageLeaveWarning:"You are about to leave the app.\n\nPress OK to continue.",DialogCaptionNavigate:"Navigate",DialogMessageAlbumAddedToFavorites:"Album's tracks added to favorites",DialogMessageFacebookRequiresPermissions:"This action requires permissions",DialogCaptionShare:"Share",DialogCaptionShareControlDialog:"Share on",DialogCaptionFacebook:"Facebook",DialogCaptionTwitter:"Twitter",DialogCaptionEmail:"Email",DialogCaptionFacebookLogout:"Facebook Logout",DialogCaptionFacebookLogin:"Facebook Login",DialogCaptionTwitterLogout:"Twitter Logout",DialogCaptionTwitterLogin:"Twitter Login",DialogCaptionAddedToFavorites:"Add to favorites",DialogCaptionFacebookRequiresPermissions:"Facebook",TitleShareVia:"Share via",IndicatorShareLogOut:"Log out...",IndicatorSharePublishing:"Publishing...",HtmlTextShareTwitterChangeUserButton:"change user",HtmlTextShareFacebookChangeUserButton:"change user",HtmlTextShareTwitterWriteCommentPlaceholder:"Write your comment",HtmlTextShareFacebookWriteCommentPlaceholder:"Write your comment",HtmlTextShareChangeUserName:"not {name}?",HtmlTextAddAlbumToFavorites:"Add tracks to your favorites list now",HtmlTextAddTrackToFavorites:"Add track to your favorites list now",HtmlTextRemoveTrackFromFavorites:"Remove track from your favorites list now",SShareFavoritesPlaylistTitle:"I'v created my favorites playlist!",SShareTweetedFromLink:"tweeted from {appLink}",SShareMobileApp:"mobile app",SShareMailApplinkHtml:"Shared from my: {htmlLink}",SShareMailApplinkSimple:"Shared from my mobile app: {appLink}",SShareFromMobile:"shared from my mobile app",SShareFromMobileWithLink:"Shared from my mobile app {appLink}",SShareEmailLink:"Read more",SShareMailPowerByBrand:"Powered by {brand}",SShareAppMailBody:"Hey,\nCheck out the {appName} mobile app that i just used!",SShareAppMailSubject:"Check out this great new app!",SSharePhotoSubject:"Look at this awesome pic!",SSharePhotoSubjectWithTitle:"Look at this awesome pic: {title}",DialogMessageShareFailConectTwitter:"Sorry, failed to connect Twitter service, please try again shortly.",DialogMessageShareFailConectFacebook:"Sorry, failed to connect Facebook service, please try again shortly.",DialogMessageShareFailPostFacebook:"Sorry, failed to post. Facebook is not responding.",DialogMessageShareFailTweet:"Failed to tweet",HtmlTextViewOriginalPageBtnText:"View Original Version",HtmlTextCommentDialogButtonOk:"Post on Facebook",HtmlTextCommentDialogButtonOkShort:"Post",HtmlTextCommentDialogTitle:"Comment",HtmlTextCommentDialogButtonCancel:"Cancel",HtmlTextCommentDialogPlaceholder:"write something...",HtmlTextItemNotFoundTitle:"Uh oh!",HtmlTextItemNotFoundText:"Looks like we took a wrong turn.",HtmlTextItemNotFoundBackButtonText:"Turn back",HtmlTextBadPermalinkButtonText:"Go to {alias}",HtmlTextPageNotFoundBackButtonText:"Go to app",HtmlTextNoTabsTitlePublisher:"Under Construction",HtmlTextNoTabsTextPublisher:"Add content to finish building this page.",HtmlTextNoTabsTitleUser:"Put your hard hat on!",HtmlTextNoTabsSubTitleUser:"This page is under construction.",HtmlTextNoTabsTextUser:"Check back soon.",HtmlTextNoItemsTitle:"Oops!",HtmlTextNoItemsText:"Nothing to see here right now. Try again later.",HtmlTextNoEventsTitle:"No Events",HtmlTextNoEventsSubTitle:"(Dont worry, youre not missing out on anything.)",HtmlTextNoEventsText:"Check back soon!",HtmlTextEventsReadMoreStr:"Read More",HtmlTextNoCouponsTitle:"No Coupons Available",HtmlTextNoCouponsText:"But keep checking back so you dont miss any hot deals.",HtmlTextFailItemsTitle:"Oops!",HtmlTextFailItemsText:"Looks like some information is missing.",HtmlTextFailItemsButtonText:"Try again",HtmlTextInvalidGetItemsTitle:"Somethings Missing",HtmlTextInvalidGetItemsText:"To see this page, be sure to fill in all required fields.",HtmlTextNotSupportedTitle:"This page is not supported in simulator mode.",HtmlTextNotSupportedText:"To test it on your device, please install our ReVu app.",HtmlTextInputPanelButtonSendMessage:"Send",HtmlTextInputPanelPlaceholder:"write something...",HtmlTextChatHeaderChattingWith:"Chatting with",HtmlTextLoginOverlayTitle:"Login to start networking",HtmlTextLoginOverlayLogin:"Login",HtmlTextDatePickerDialogButtonOk:"OK",HtmlTextDatePickerDialogButtonCancel:"Cancel",HtmlTextDatePickerDialogButtonClear:"Clear",HtmlTextMapLoading:"Loading...",HtmlTextShareButtonText:"Share",HtmlTextPurchaseItemBuy:"Buy",HtmlTextPurchaseItemBuyAlbum:"Buy Album",DialogCaptionPurchaseChooseMethod:"Purchase:",DialogMessagePurchaseFail:"Purchase failed, please try again shortly.  If you run into any additional problems, feel free to contact us.",HtmlTextPaginationShowMoreItems:"Show more...",HtmlTextPaginationLoadingItems:"Loading...",HtmlTextPaginationRefreshItems:"Loading...",ToastMessagePaginationFailedGetItems:"failed to get data",ToastMessageTrackAddedToFavorites:"Track added to favorites",ToastMessageTrackRemovedFromFavorites:"Track removed from favorites",DialogMessageAudioNotSupportedDevice:"Your device doesn't support HTML5 audio",DialogMessageAudioNotSupportedSimulator:"Your browser (of the simulator) doesn't support audio",DialogMessageAudioTypeNotSupportedDevice:"Your device doesn't support playing this type of audio file",DialogMessageAudioTypeNotSupportedSimulator:"Your browser (of the simulator) doesn't support playing this type of audio file",ToastMessageAudioInitFail:"Failed to initiate the audio player",HtmlTextAudioDetails:"Details",HtmlTextAudioTrackNumber:"Track {number}",HtmlTextAudioVocals:"Vocals",HtmlTextAudioWriters:"Writers",HtmlTextAudioLyrics:"Lyrics",HtmlTextBlogShowMorePosts:"Show more",HtmlTextBlogLoadingPosts:"Loading...",HtmlTextBlogViewOriginalPost:"view original post",HtmlTextBlogViewOriginalSite:"view original site",HtmlTextBlogbyAuthor:"by {author}",ToastMessageBlogFailedGetPosts:"failed to get posts",HtmlTextInstagramUserLikePhoto:"Like this",HtmlTextInstagramPhotosCount:"photos",HtmlTextInstagramLikes:"Likes",HtmlTextInstagramComments:"Comments",HtmlTextInstagramFollowersCount:"followers",HtmlTextInstagramFollowingCount:"following",HtmlTextInstagramPrivateUserMainText:"This is a private user",HtmlTextInstagramPrivateUserSecondaryText:"Cannot view this page",SFacebookShareEmailSubject:"Check out this post from {user} Facebook page",SFacebookShareTwitterFrom:" from {user} Facebook wall",HtmlTextFacebookPageLikesCount:"like this",HtmlTextFacebookShowMorePosts:"Show more posts",HtmlTextFacebookLoadingPosts:"Loading posts...",HtmlTextFacebookPostCommentsCount:"{number} comments",HtmlTextFacebookAddCommentButton:"Comment",HtmlTextFacebookLikePostButton:"Like",HtmlTextFacebookUnikePostButton:"Unlike",HtmlTextFacebookLikeComment:"Like",HtmlTextFacebookUnikeComment:"Unlike",HtmlTextFacebookPostLikesCount:"{number} people like this",HtmlTextFacebookPostLikesCountIncludeYou:"You and {number} others like this",HtmlTextFacebookPostLikesOnlyYou:"You like this",ToastMessageFacebookFailedGetComments:"failed to get data",HtmlTextQuizStartQuizButton:"Start the Quiz",HtmlTextQuizQuestionPosition:"{index} of {total}",HtmlTextQuizHowManyCorrect:"You answered on {count} correct",HtmlTextQuizRetryButton:"Replay the quiz",SQuizShareTitle:"I played the quiz: {title}",SQuizShareBody:"I played the quiz: {title}, and my grade is: {grade}",DialogMessageFormSendSuccess:"Data sent",DialogMessageFormSendFail:"Failed to send data",HtmlTextFormSendButton:"Submit",ToastMessageFormFieldMandatory:"Field {fieldName} can't be empty",DialogMessageLiveAlbumCameraNotSupported:"Camera is not supported",DialogMessageLiveAlbumTakePhotoFailed:"Take photo failed ({message})",DialogMessageLiveAlbumPostPhotoFailed:"Post photo failed",ToastMessageLiveAlbumPublishingPhoto:"Image was uploaded successfully, stream will be updated shortly.",IndicatorLiveAlbumPostingImage:"Posting Image...",HtmlTextLiveAlbumByUploader:"by {name}",HtmlTextLiveAlbumPhotos:"photos",HtmlTextLiveAlbumShareCheckbox:"Share on Facebook",HtmlTextLiveAlbumNoImages:"BE THE FIRST TO POST A PHOTO",HtmlTextLiveAlbumLoadingAlbum:"Loading...",HtmlTextLiveAlbumLoadingImage:"Loading...",HtmlTextLiveAlbumLoadingShowMore:"Loading...",HtmlTextLiveAlbumShowMore:"Show more",HtmlTextLiveAlbumErrorLoadingImage:"Unable to load image",HtmlTextLiveAlbumFacebookLoginLiveAlbum:"LiveAlbum",HtmlTextLiveAlbumFacebookLogin:"Share your photos with your friends on facebook",HtmlTextLiveAlbumFacebookLoginComment:"(requires that you connect to your facebook account)",HtmlTextLiveAlbumEula:"Terms of Use",HtmlTextLiveAlbumAddComment:"add comment",HtmlTextLiveAlbumUploadingImage:"Uploading Image...",HtmlTextLiveAlbumUploadingFailed:"Failed uploading image",HtmlTextLiveAlbumUploadedByYou:"You",HtmlTextLiveAlbumOverlayText:"Take pictures and instantly share them with friends via email and the social channels. The shared album gets updated constantly so you and your friends can take, share, and view photos in real time, right through the app!",HtmlTextLiveAlbumOverlayTitle:"Share Photos with Friends in a Snap",HtmlTextLiveAlbumListHeaderHelper:"Select an album to get started",HtmlTextLiveAlbumOverlayButtonText:"Start Sharing",HtmlTextLiveAlbumHeaderHelper:"Start snapping photos and sharing photos",DialogCaptionLiveAlbumPostPhoto:"Post Photo",DialogButtonLiveAlbumPostPhotoOk:"post",DialogButtonLiveAlbumPostPhotoCancel:"cancel",DialogButtonLiveAlbumChoosePhotoChoose:"Choose photo",DialogButtonLiveAlbumChoosePhotoTake:"Take photo",DialogButtonLiveAlbumChoosePhotoCancel:"Cancel",UploadStatusLiveAlbumImageUploading:"Uploading image",UploadStatusLiveAlbumImageSent:"Image sent ",UploadStatusLiveAlbumProcessFailed:"Process failed",SLivePersonUserName:"me",DialogMessageLivePersonNoAnswer:"There was no answer. Try again later",DialogMessageLivePersonErrorClosing:"Error in closing chat",DialogMessageLivePersonNoAvailability:"Account is offline",HtmlTextLivePersonStart:"Start",HtmlTextLivePersonEnd:"End",HtmlTextLivePersonSend:"Send",HtmlTextLivePersonInputPlaceholder:"Write a message...",HtmlTextLivePersonStatusInit:"To initiate a chat session click:",HtmlTextLivePersonStatusChatting:"Chatting with {agentName}",HtmlTextLivePersonStatusCheckingAvailability:"Checking availability...",HtmlTextLivePersonStatusCheckingAvailabilityMinorText:"connecting",HtmlTextLivePersonStatusClosingChat:"Closing chat...",HtmlTextLivePersonStatusWaitingAgent:"Waiting for an agent...",HtmlTextLivePersonStatusWaitingAgentMinorText:"calling",HtmlTextLivePersonStatusAgentTyping:"{agentName} is typing...",DialogCaptionLivePersonChatEnded:"Chat ended",DialogCaptionLivePersonNoAvailability:"No Availability",DialogCaptionLivePersonTimeOut:"Time Out",HtmlTextAgendaSpeakersCount:"{number} Speakers",HtmlTextAgendaOneSpeaker:"Speaker",HtmlTextAgendaSessionDetails:"Details",HtmlTextAgendaAddToFav:"Add to Fav",HtmlTextAgendaRemoveFromFav:"Remove from Fav",DialogMessageAgendaNoFav:"There are no sessions in your favorites-list.",DialogCaptionAgendaNoFav:"Favorites",SAgendaShareSession:"I'm in the session: {sessionTitle}",HtmlTextPhotosImagesCount:"{number} photos",HtmlTextPhotosNoImages:"Empty album",HtmlTextPhotosImagesCountTitle:"photos",DialogMessagePollAreYouSureVote:'Are you sure that you want to vote to: "{text}"',DialogMessagePollVoteFail:"Failed to vote, please try again later.",DialogMessagePollVoteSuccess:"Thank you for your vote!",HtmlTextPollVoteButton:"Vote",HtmlTextReviewsReviewsCount:"{number} Reviews on {provider}",HtmlTextReviewsByAuthor:"by {name}",HtmlTextReviewsLoadingProvider:"Loading...",HtmlTextReviewsReadMoreLink:"Read more",SRssShareEmailSubject:"Check out this article from {title}",SRssShareTwitterFrom:" from {title}",DialogMessageSubscribeSubscribeSuccess:"Thank you for subscribing",DialogMessageSubscribeFailed:"Subscription not available right now. Please try again later",HtmlTextSubscribeUnknownButton:"Unknown",HtmlTextSubscribeFacebookButton:"Facebook",HtmlTextSubscribeTwitterButton:"Twitter",HtmlTextSubscribeLinkedInButton:"LinkedIn",HtmlTextSubscribeSubscribeButton:"Subscribe",HtmlTextSubscribeFollowBlogTitle:"Follow {blogTitle}",HtmlTextSubscribeDiscoverString:"Discover us on these sites",HtmlTextSubscribeSubscribeString:"Subscribe to {blogTitle}",HtmlTextSubscribeInsetYourEmail:"your@email.com",HtmlTextSubscribeLoading:"Subscribing...",ToastMessageSubscribeInsetEmail:"Email is required",ToastMessageSubscribeInvalidEmail:"Please enter a valid email address",DialogCaptionSubscribeSuccess:"Success",DialogCaptionSubscribeFail:"Error",HtmlTextTwitterFollowers:"Followers",HtmlTextTwitterTweets:"Tweets",HtmlTextTwitterFollowButton:"Follow",HtmlTextTwitterUnfollowButton:"Unfollow",HtmlTextTwitterRetweet:"by {retweeterName}",HtmlTextTwitterRetweetDetails:"retweeted by",STwitterShareEmailSubject:"Check out this tweet from @{name}",HtmlTextTwitterShowMoreTweets:"Show more tweets",HtmlTextTwitterLoadingTweets:"Loading tweets...",HtmlTextYoutubeViewsCount:"{number} views",HtmlTextYoutubeByAuthor:"by {author}",HtmlTextYoutubeViews:"{views} Views",SYoutubeShareTitle:"Check out this video - {title}",HtmlTextVideoShowAllChannelItems:"See all",HtmlTextVideoChannelItemsCount:"{number} Videos",HtmlTextVideoNoItems:"No Videos",HtmlTextVideoMoreFromChannelTitle:"More from {title}",HtmlTextLinkStaticTextIfCantOpenSafari:"Tap the buttons to use this cool app!",HtmlTextEventsPastEvents:"Past Events",HtmlTextEventsFutureEvents:"Upcoming Events",HtmlTextEventsVenueStr:"Venue",HtmlTextEventsLocationStr:"Location",HtmlTextEventsPhoneNumberStr:"Phone Number",HtmlTextEventsTicketStr:"Ticket",HtmlTextEventsRsvpButton:"Join",HtmlTextEventsRsvpAttending:"Attending",HtmlTextEventsRsvpMaybe:"Maybe",HtmlTextEventsRsvpDecline:"Decline",HtmlTextEventsNoEventsStr:"There are currently no events to display",HtmlTextShowOnMapButtonStr:"Map",HtmlTextEventsAdd2CalStr:"Calendar",HtmlTextContactUsWebSiteStr:"Web Site",HtmlTextContactUsAddressStr:"Address",HtmlTextContactUsPhoneNumberStr:"Phone Number",HtmlTextContactUsFaxNumberStr:"Fax Number",HtmlTextContactUsCallNowHomeStr:"Home",HtmlTextContactUsCallNowWorkStr:"Work",HtmlTextContactUsCallNowMobileStr:"Mobile",HtmlTextContactUsCallNowStr:"Call Now",HtmlTextContactUsCallStr:"Call",HtmlTextContactUsFaxStr:"Fax",HtmlTextContactUsEmailStr:"Email",HtmlTextContactUsLinkStr:"Link",HtmlTextContactUsMapStr:"Map",HtmlTextContactUsContactUsStr:"Contact Us",HtmlTextSpeakersBioTitle:"Speaker's Bio",HtmlTextFavoritesShareButton:"Share",HtmlTextFavoritesEditButton:"Edit",HtmlTextFavoritesDoneButton:"Done",HtmlTextFavoritesCancelButton:"Cancel",HtmlTextFavoritesBuyButton:"Buy",HtmlTextFavoritesNoFavsStr1:"No tracks added",HtmlTextFavoritesNoFavsStr2:"Add tracks to your favorites list",DialogCaptionPhotosManagerDeviceNotSupported:"Your device does not support the photo gallery view",PhotoGalleryPreparingToShare:"Preparing to share...",HtmlTextLinksDescriptionTitle:"Description",HtmlTextAboutUsItemTitleGenre:"Genre",HtmlTextAboutUsItemTitleFounded:"Founded",HtmlTextAboutUsItemTitleMembers:"Members",HtmlTextAboutUsItemTitleHometown:"Hometown",HtmlTextAboutUsItemTitleBiography:"Biography",HtmlTextAboutUsItemTitleRecordLabel:"Record Label",HtmlTextAboutUsItemTitleHours:"Hours",HtmlTextAboutUsItemTitleServices:"Services",HtmlTextAboutUsItemTitleAwards:"Awards",HtmlTextAboutUsItemTitleParking:"Parking",HtmlTextAboutUsItemTitleProducts:"Products",HtmlTextAboutUsItemTitleMission:"Mission",HtmlTextAboutUsItemTitleManager:"Manager",HtmlTextAboutUsItemTitleBookingAgent:"Booking Agent",HtmlTextAboutUsItemTitleSpecialties:"Specialties",HtmlTextAboutUsItemTitleCulinaryTeam:"Culinary Team",HtmlTextAboutUsItemTitleGeneralInfo:"General Info",HtmlTextAboutUsItemTitleCompanyOverview:"Company Overview",HtmlTextAboutUsItemHoursAlwaysOpen:"Always Open",HtmlTextAboutUsItemHoursNoHours:"No available hours",HtmlTextAboutUsInfoVersion:"Version {versionName}",HtmlTextAboutUsReadMore:"read more",HtmlTextAboutUsListItemReadMore:"read more",HtmlTextAboutUsDescriptionTitle:"Description",SShareApp:"Check out the {appName} mobile app that i just used!",HtmlTextShareAppButtonText:"Share App with my friends",HtmlTextAboutUsInfoPrivacyPolicy:'By downloading, accessing and/or using the App in any manner, you agree to be bound by these <a hred="http://mobile.conduit.com/eula.aspx">Terms and Conditions</a> and <a href="http://mobile.conduit.com/privacypolicy.aspx">Privacy Policy</a>',HtmlTextCouponsTitleOffer:"Special Offer",HtmlTextCouponsPriceOff:"OFF",HtmlTextCouponsTitleSpecialDiscount:"Special Discount",HtmlTextCouponsTitleOriginalPrice:"Original Price",HtmlTextCouponsTitleNewPrice:"New Price",HtmlTextCouponsTitleDiscount:"Discount",HtmlTextCouponsTitleSaving:"Savings",HtmlTextCouponsTitleDealDetails:"Deal Details",HtmlTextCouponsValidFrom:"Start",HtmlTextCouponsValidUntil:"End",HtmlTextCouponsTermsTitle:"terms & conditions",HtmlTextCouponsTitleValidity:"Validity",ToastMessageCouponsClaimSuccess:"Now you can use this coupon",HtmlTextCouponsClaimButton:"Click to claim coupon",HtmlTextCouponsCouponClaimed:"Coupon claimed",HtmlTextCouponsCouponClaimedLongText:"Coupon claimed and ready for use",HtmlTextCouponsExpired:"EXPIRED",CouponsNoResultsFound:"No coupons available",CouponsNoResultsFoundSubtitle:"Check out again at another time",HtmlTextCouponsShareDefaultOfferTitle:"Great coupon",HtmlTextCouponsShareTitle:"Look at this awesome offer!",HtmlTextCouponsShareDescription:'Check out the awesome deal I got through {appName} mobile app: "{offerTitle}"',HtmlTextLoyaltyCardsDefaultFreebieName:"freebie",HtmlTextLoyaltyCardsTitleOffer:"Special Offer",HtmlTextLoyaltyCardsValidFrom:"Start",HtmlTextLoyaltyCardsValidUntil:"End",HtmlTextLoyaltyCardsShowMoreButton:"info",HtmlTextLoyaltyCardsExpired:"EXPIRED",HtmlTextLoyaltyCardsComingSoon:"Coming soon",HtmlTextLoyaltyCardsShareWinTitle:"I just filled up my {cardName} loyalty card and got a FREE {freebieName}! Get the {appName} mobile app and start collecting your freebies!",HtmlTextLoyaltyCardsShareWinTwitterTitle:"I just filled up my loyalty card on the {appName} mobile app and got a freebie! Check it out",HtmlTextLoyaltyCardsShareWinEmailTitle:"Wanna get free stuff?",HtmlTextLoyaltyCardsShareWinEmailText:"Hey,\nI just filled up my {cardName} loyalty card and got a FREE {freebieName}! Get the {appName} app and start collecting stamps on your loyalty card to get rewards, too. It pays to be a loyal customer! ",HtmlTextLoyaltyCardsShareTitle:"Im on my way to getting some free stuff thanks to my {cardName} loyalty card. Get the {appName} mobile app and you can start collecting rewards too!",HtmlTextLoyaltyCardsShareTwitterTitle:"Im about to get free stuff using my {appName} mobile app! Download it and start earning rewards too!",HtmlTextLoyaltyCardsShareEmailTitle:"Wanna get free stuff, too?",HtmlTextLoyaltyCardsShareEmailText:"Hey,\nIm using this really cool loyalty card and Im on my way to getting a FREE {freebieName}!",HtmlTextLoyaltyCardsValidityTitle:"Validity",HtmlTextLoyaltyCardsInfoTitle:"Card Info",HtmlTextLoyaltyCardsInfoButtonCancel:"Close",HtmlTextLoyaltyCardsOnlyNativeTitle:"Get your freebie!",HtmlTextLoyaltyCardsOnlyNativeText:"Download our app to start collecting stamps and earn rewards",HtmlTextLoyaltyCardsOnlyNativeDownloadButton:"Download Now!",HtmlTextLoyaltyCardsNoItemsTitle:"No loyalty cards available",HtmlTextLoyaltyCardsNoItemsText:"Check back again soon!",HtmlTextLoyaltyCardsDialogButtonOk:"Stamp Card",HtmlTextLoyaltyCardsDialogButtonCancel:"Cancel",HtmlTextLoyaltyCardsDialogPlaceholder:"Enter Code",HtmlTextLoyaltyCardsDialogPlaceholderLocked:"Locked",HtmlTextLoyaltyCardsDialogStampCaption:"Stamp Card",HtmlTextLoyaltyCardsDialogCongratsCaption:"Congrats!",HtmlTextLoyaltyCardsDialogCongratsSuccessCaption:"Congrats!",HtmlTextLoyaltyCardsDialogNormalText:"Please hand your device to the cashier to stamp your device",HtmlTextLoyaltyCardsDialogMidFreebieText:"Please hand your device to the cashier to stamp your device and get a free {freebie}",HtmlTextLoyaltyCardsDialogFreebieText:"You've earned your freebie {freebie}",HtmlTextLoyaltyCardsDialogFreebieSuccessText:"You've redeemed your freebie {freebie}",HtmlTextLoyaltyCardsDialogServiceCoolDownText:"Uh oh! That was one too many attempts. For security purposes, this card will be blocked for {hours} hours",HtmlTextLoyaltyCardsDialogLoading:"Verifying code...",HtmlTextLoyaltyCardsDialogServiceFailText:"Service is unavailable. try again later.",HtmlTextLoyaltyCardsDialogWrongCodeText:"Wrong code",HtmlTextLoyaltyCardsDialogLimitPerDayText:"Sorry, the daily stamp limit for this card is {punchesPerDay}. Please come back tomorrow!",HtmlTextMyProfileLogoutFromLinkedin:"Logout from LinkedIn",HtmlTextMyProfileLogoutButton:"Sign Out",ErrorHandleTitle:"Failed to retrieve data",ErrorHandleSubTitle:"There might be a problem with the connection to the server",ErrorHandleReloadButtonTitle:"Reload",HtmlTextInboxNoMessagesStr:"No messages",ReportsInvalidFormPopupTitle:"Can't send the form",ReportsMandatoryMessage:"Some fields are mandatory",ReportsInvalidInputMessage:"{name} is a mandatory field",ReportsInvalidValueMessage:"{name} is not in correct format",ReportsTemplateDefaultSubmitCaption:"Submit",ReportsInvalidEmail:"Invalid email",ReportsSavedSuccessfullyMessage:"Sent Successfully",ReportsSavedSuccessfullySubtitleMessage:"Thank You! Your report has been sent successfully.",ReportsSaveFailedMessage:"Send Failed",ReportsSaveFailedSubtitleMessage:"We are sorry. We failed to save your report, please try again.",ReportsSavingMessage:"Sending...",ReportsShowMyLocationMessage:"Show my location in the report",ReportsFailedToDetermineLocation:"Failed to determine your location. Please make sure your GPS device is on.",StateNotSpecified:"State",StateNonUS:"Non US",StateAlabama:"Alabama",StateAlaska:"Alaska",StateArizona:"Arizona",StateArkansas:"Arkansas",StateCalifornia:"California",StateColorado:"Colorado",StateConnecticut:"Connecticut",StateDelaware:"Delaware",StateFlorida:"Florida",StateGeorgia:"Georgia",StateHawaii:"Hawaii",StateIdaho:"Idaho",StateIllinois:"Illinois",StateIndiana:"Indiana",StateIowa:"Iowa",StateKansas:"Kansas",StateKentucky:"Kentucky",StateLouisiana:"Louisiana",StateMaine:"Maine",StateMaryland:"Maryland",StateMassachusetts:"Massachusetts",StateMichigan:"Michigan",StateMinnesota:"Minnesota",StateMississippi:"Mississippi",StateMissouri:"Missouri",StateMontana:"Montana",StateNebraska:"Nebraska",StateNevada:"Nevada",StateNewHampshire:"New Hampshire",StateNewJersey:"New Jersey",StateNewMexico:"New Mexico",StateNewYork:"New York",StateNorthCarolina:"North Carolina",StateNorthDakota:"North Dakota",StateOhio:"Ohio",StateOklahoma:"Oklahoma",StateOregon:"Oregon",StatePennsylvania:"Pennsylvania",StateRhodeIsland:"Rhode Island",StateSouthCarolina:"South Carolina",StateSouthDakota:"South Dakota",StateTennessee:"Tennessee",StateTexas:"Texas",StateUtah:"Utah",StateVermont:"Vermont",StateVirginia:"Virginia",StateWashington:"Washington",StateWestVirginia:"West Virginia",StateWisconsin:"Wisconsin",StateWyoming:"Wyoming",CountryNotSpecified:"Country",CountryAfghanistan:"Afghanistan",CountryAlbania:"Albania",CountryAlgeria:"Algeria",CountryAndorra:"Andorra",CountryAngola:"Angola",CountryAntiguaandBarbuda:"Antigua and Barbuda",CountryArgentina:"Argentina",CountryArmenia:"Armenia",CountryAustralia:"Australia",CountryAustria:"Austria",CountryAzerbaijan:"Azerbaijan",CountryBahamas:"Bahamas",CountryBahrain:"Bahrain",CountryBangladesh:"Bangladesh",CountryBarbados:"Barbados",CountryBelarus:"Belarus",CountryBelgium:"Belgium",CountryBelize:"Belize",CountryBenin:"Benin",CountryBhutan:"Bhutan",CountryBolivia:"Bolivia",CountryBosniaHerzegovina:"Bosnia Herzegovina",CountryBotswana:"Botswana",CountryBrazil:"Brazil",CountryBrunei:"Brunei",CountryBulgaria:"Bulgaria",CountryBurkina:"Burkina",CountryBurundi:"Burundi",CountryCambodia:"Cambodia",CountryCameroon:"Cameroon",CountryCanada:"Canada",CountryCapeVerde:"Cape Verde",CountryCentralAfricanRep:"Central African Rep",CountryChad:"Chad",CountryChile:"Chile",CountryChina:"China",CountryColombia:"Colombia",CountryComoros:"Comoros",CountryCongo:"Congo",CountryCostaRica:"Costa Rica",CountryCroatia:"Croatia",CountryCuba:"Cuba",CountryCyprus:"Cyprus",CountryCzechRepublic:"Czech Republic",CountryDenmark:"Denmark",CountryDjibouti:"Djibouti",CountryDominica:"Dominica",CountryDominicanRepublic:"Dominican Republic",CountryEastTimor:"East Timor",CountryEcuador:"Ecuador",CountryEgypt:"Egypt",CountryElSalvador:"El Salvador",CountryEquatorialGuinea:"Equatorial Guinea",CountryEritrea:"Eritrea",CountryEstonia:"Estonia",CountryEthiopia:"Ethiopia",CountryFiji:"Fiji",CountryFinland:"Finland",CountryFrance:"France",CountryGabon:"Gabon",CountryGambia:"Gambia",CountryGeorgia:"Georgia",CountryGermany:"Germany",CountryGhana:"Ghana",CountryGreece:"Greece",CountryGrenada:"Grenada",CountryGuatemala:"Guatemala",CountryGuinea:"Guinea",CountryGuyana:"Guyana",CountryHaiti:"Haiti",CountryHonduras:"Honduras",CountryHungary:"Hungary",CountryIceland:"Iceland",CountryIndia:"India",CountryIndonesia:"Indonesia",CountryIran:"Iran",CountryIraq:"Iraq",CountryIreland:"Ireland",CountryIsrael:"Israel",CountryItaly:"Italy",CountryIvoryCoast:"Ivory Coast",CountryJamaica:"Jamaica",CountryJapan:"Japan",CountryJordan:"Jordan",CountryKazakhstan:"Kazakhstan",CountryKenya:"Kenya",CountryKiribati:"Kiribati",CountryKoreaNorth:"Korea North",CountryKoreaSouth:"Korea South",CountryKosovo:"Kosovo",CountryKuwait:"Kuwait",CountryKyrgyzstan:"Kyrgyzstan",CountryLaos:"Laos",CountryLatvia:"Latvia",CountryLebanon:"Lebanon",CountryLesotho:"Lesotho",CountryLiberia:"Liberia",CountryLibya:"Libya",CountryLiechtenstein:"Liechtenstein",CountryLithuania:"Lithuania",CountryLuxembourg:"Luxembourg",CountryMacedonia:"Macedonia",CountryMadagascar:"Madagascar",CountryMalawi:"Malawi",CountryMalaysia:"Malaysia",CountryMaldives:"Maldives",CountryMali:"Mali",CountryMalta:"Malta",CountryMarshallIslands:"Marshall Islands",CountryMauritania:"Mauritania",CountryMauritius:"Mauritius",CountryMexico:"Mexico",CountryMicronesia:"Micronesia",CountryMoldova:"Moldova",CountryMonaco:"Monaco",CountryMongolia:"Mongolia",CountryMontenegro:"Montenegro",CountryMorocco:"Morocco",CountryMozambique:"Mozambique",CountryMyanmar:"Myanmar",CountryNamibia:"Namibia",CountryNauru:"Nauru",CountryNepal:"Nepal",CountryNetherlands:"Netherlands",CountryNewZealand:"New Zealand",CountryNicaragua:"Nicaragua",CountryNiger:"Niger",CountryNigeria:"Nigeria",CountryNorway:"Norway",CountryOman:"Oman",CountryPakistan:"Pakistan",CountryPalau:"Palau",CountryPanama:"Panama",CountryPapuaNewGuinea:"Papua New Guinea",CountryParaguay:"Paraguay",CountryPeru:"Peru",CountryPhilippines:"Philippines",CountryPoland:"Poland",CountryPortugal:"Portugal",CountryQatar:"Qatar",CountryRomania:"Romania",CountryRussianFederation:"Russian Federation",CountryRwanda:"Rwanda",CountryStKittsNevis:"St Kitts & Nevis",CountryStLucia:"St Lucia",CountrySaintVincent:"Saint Vincent",CountrySamoa:"Samoa",CountrySanMarino:"San Marino",CountrySaoTome:"Sao Tome",CountrySaudiArabia:"Saudi Arabia",CountrySenegal:"Senegal",CountrySerbia:"Serbia",CountrySeychelles:"Seychelles",CountrySierraLeone:"Sierra Leone",CountrySingapore:"Singapore",CountrySlovakia:"Slovakia",CountrySlovenia:"Slovenia",CountrySolomonIslands:"Solomon Islands",CountrySomalia:"Somalia",CountrySouthAfrica:"South Africa",CountrySouthSudan:"South Sudan",CountrySpain:"Spain",CountrySriLanka:"Sri Lanka",CountrySudan:"Sudan",CountrySuriname:"Suriname",CountrySwaziland:"Swaziland",CountrySweden:"Sweden",CountrySwitzerland:"Switzerland",CountrySyria:"Syria",CountryTaiwan:"Taiwan",CountryTajikistan:"Tajikistan",CountryTanzania:"Tanzania",CountryThailand:"Thailand",CountryTogo:"Togo",CountryTonga:"Tonga",CountryTrinidadTobago:"Trinidad & Tobago",CountryTunisia:"Tunisia",CountryTurkey:"Turkey",CountryTurkmenistan:"Turkmenistan",CountryTuvalu:"Tuvalu",CountryUganda:"Uganda",CountryUkraine:"Ukraine",CountryUnitedArabEmirates:"United Arab Emirates",CountryUnitedKingdom:"United Kingdom",CountryUnitedStates:"United States",CountryUruguay:"Uruguay",CountryUzbekistan:"Uzbekistan",CountryVanuatu:"Vanuatu",CountryVaticanCity:"Vatican City",CountryVenezuela:"Venezuela",CountryVietnam:"Vietnam",CountryYemen:"Yemen",CountryZambia:"Zambia",CountryZimbabwe:"Zimbabwe",GenderNotSpecified:"Gender",GenderMale:"Male",GenderFemale:"Female",CollectionsSearchPlaceholder:"Search {category}",CollectionsSearchNoResultsFound:"No Results Found",CollectionsSearchNoResultsFoundSubtitle:"We did not find results for: <b>{query_string}</b> On <b>{node_name}</b>",CollectionsSearchNoItemsFound:"No Items Found",CollectionsSearchNoItemsFoundSubtitle:"{node_name} has no items",CollectionsBuyNow:"Buy Now",CollectionsCurrentPrice:"Current Price",CollectionsItemDetails:"Item Details",CollectionsContactUs:"Contact Us",CollectionsVisitUs:"Visit Us","CollectionsContactItem-Email":"Email","CollectionsContactItem-Facebook":"Facebook page","CollectionsContactItem-Linkedin":"LinkedIn","CollectionsContactItem-Twitter":"Twitter","CollectionsContactItem-Website":"Website",CollectionsCategoryItemsCount:"{count} items",CollectionsCategoryUnknownItemsCount:"Category",CollectionsSearchPlaceholder2:"enter your search here",SUnknownUserName:"[unknown]",SUserJobTitleFull:"{job_title} at {company}",UserSearchNoResultsFound:"No Results Found",UserSearchNoResultsFoundSubtitle:"We did not find users matching your query",UserSayHelloTo:"Say hello to {user_caption}",UserGoogle:"Google {user_caption}",AppsfireNotifications:"Notifications",SmartBannerInAppStore:"This App is available on the App Store",SmartBannerInGooglePlay:"This App is available on Google Play",SmartBannerButtonText:"Get It",HtmlTextErrorViewFacebookRestrictionTitle:"This page is restricted",HtmlTextFacebookRestrictedText:"In order to access this page please log-in to your Facebook account",HtmlTextEmptyOption:"--"}}; (function(){var o=Math,s=(/webkit/i).test(navigator.appVersion)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":"opera" in window?"O":"",j="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix(),r="ontouchstart" in window,e=s+"Transform" in document.documentElement.style,h=(/iphone|ipad/gi).test(navigator.appVersion),c=(/playbook/gi).test(navigator.appVersion),f=h||c,l=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(m){return setTimeout(m,17)}})(),k=(function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout})(),g="onorientationchange" in window?"orientationchange":"resize",a=r?"touchstart":"mousedown",n=r?"touchmove":"mousemove",d=r?"touchend":"mouseup",q=r?"touchcancel":"mouseup",b="translate"+(j?"3d(":"("),i=j?",0)":")",p=function(u,m){var v=this,w=document,t;v.wrapper=typeof u=="object"?u:w.getElementById(u);v.wrapper.style.overflow="hidden";v.scroller=v.wrapper.children[0];v.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,onRefresh:null,onBeforeScrollStart:function(x){x.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(t in m){v.options[t]=m[t]}v.x=v.options.x;v.y=v.options.y;v.options.useTransform=e?v.options.useTransform:false;v.options.hScrollbar=v.options.hScroll&&v.options.hScrollbar;v.options.vScrollbar=v.options.vScroll&&v.options.vScrollbar;v.options.useTransition=f&&v.options.useTransition;v.scroller.style[s+"TransitionProperty"]=v.options.useTransform?"-"+s.toLowerCase()+"-transform":"top left";v.scroller.style[s+"TransitionDuration"]="0";v.scroller.style[s+"TransformOrigin"]="0 0";if(v.options.useTransition){v.scroller.style[s+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"}if(v.options.useTransform){v.scroller.style[s+"Transform"]=b+v.x+"px,"+v.y+"px"+i}else{v.scroller.style.cssText+=";position:absolute;top:"+v.y+"px;left:"+v.x+"px"}v.refresh();v._bind(g,window);v._bind(a);if(!r){v._bind("mouseout",v.wrapper)}};p.prototype={enabled:true,x:0,y:0,steps:[],scale:1,handleEvent:function(t){var m=this;switch(t.type){case a:if(!r&&t.button!==0){return}m._start(t);break;case n:t.preventDefault();m._move(t);break;case d:case q:m._end(t);break;case g:m._resize();break;case"mouseout":m._mouseout(t);break;case"webkitTransitionEnd":m._transitionEnd(t);break}},_resize:function(){this.refresh()},_pos:function(m,t){m=this.hScroll?m:0;t=this.vScroll?t:0;if(this.options.useTransform){this.scroller.style[s+"Transform"]=b+m+"px,"+t+"px"+i+" scale("+this.scale+")"}else{m=o.round(m);t=o.round(t);this.scroller.style.left=m+"px";this.scroller.style.top=t+"px"}this.x=m;this.y=t},_start:function(w){var v=this,t=r?w.touches[0]:w,u,m,z;if(!v.enabled){return}if(v.options.onBeforeScrollStart){v.options.onBeforeScrollStart.call(v,w)}if(v.options.useTransition){v._transitionTime(0)}v.moved=false;v.animating=false;v.zoomed=false;v.distX=0;v.distY=0;v.absDistX=0;v.absDistY=0;v.dirX=0;v.dirY=0;if(v.options.momentum){if(v.options.useTransform){u=getComputedStyle(v.scroller,null)[s+"Transform"].replace(/[^0-9-.,]/g,"").split(",");m=u[4]*1;z=u[5]*1}else{m=getComputedStyle(v.scroller,null).left.replace(/[^0-9-]/g,"")*1;z=getComputedStyle(v.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(m!=v.x||z!=v.y){if(v.options.useTransition){v._unbind("webkitTransitionEnd")}else{k(v.aniTime)}v.steps=[];v._pos(m,z)}}v.absStartX=v.x;v.absStartY=v.y;v.startX=v.x;v.startY=v.y;v.pointX=t.pageX;v.pointY=t.pageY;v.startTime=w.timeStamp||Date.now();if(v.options.onScrollStart){v.options.onScrollStart.call(v,w)}v._bind(n);v._bind(d);v._bind(q)},_move:function(y){var v=this,t=r?y.touches[0]:y,u=t.pageX-v.pointX,m=t.pageY-v.pointY,z=v.x+u,x=v.y+m,w=y.timeStamp||Date.now();if(v.options.onBeforeScrollMove){v.options.onBeforeScrollMove.call(v,y)}v.pointX=t.pageX;v.pointY=t.pageY;if(z>0||z<v.maxScrollX){z=v.options.bounce?v.x+(u/2):z>=0||v.maxScrollX>=0?0:v.maxScrollX}if(x>0||x<v.maxScrollY){x=v.options.bounce?v.y+(m/2):x>=0||v.maxScrollY>=0?0:v.maxScrollY}if(v.absDistX<6&&v.absDistY<6){v.distX+=u;v.distY+=m;v.absDistX=o.abs(v.distX);v.absDistY=o.abs(v.distY);return}if(v.options.lockDirection){if(v.absDistX>v.absDistY+5){x=v.y;m=0}else{if(v.absDistY>v.absDistX+5){z=v.x;u=0}}}v.moved=true;v._pos(z,x);v.dirX=u>0?-1:u<0?1:0;v.dirY=m>0?-1:m<0?1:0;if(w-v.startTime>300){v.startTime=w;v.startX=v.x;v.startY=v.y}if(v.options.onScrollMove){v.options.onScrollMove.call(v,y)}},_end:function(y){if(r&&y.touches.length!=0){return}var w=this,C=r?y.changedTouches[0]:y,z,B,u={dist:0,time:0},m={dist:0,time:0},v=(y.timeStamp||Date.now())-w.startTime,A=w.x,x=w.y,t;w._unbind(n);w._unbind(d);w._unbind(q);if(w.options.onBeforeScrollEnd){w.options.onBeforeScrollEnd.call(w,y)}if(!w.moved){z=C.target;while(z.nodeType!=1){z=z.parentNode}if(z.tagName!="SELECT"&&z.tagName!="INPUT"&&z.tagName!="TEXTAREA"){if(r){B=document.createEvent("MouseEvents");B.initMouseEvent("click",true,true,y.view,1,C.screenX,C.screenY,C.clientX,C.clientY,y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,0,null);B._fake=true;z.dispatchEvent(B)}}else{z.focus()}w._resetPos(200);if(w.options.onTouchEnd){w.options.onTouchEnd.call(w,y)}return}if(v<300&&w.options.momentum){u=A?w._momentum(A-w.startX,v,-w.x,w.scrollerW-w.wrapperW+w.x,w.options.bounce?w.wrapperW:0):u;m=x?w._momentum(x-w.startY,v,-w.y,(w.maxScrollY<0?w.scrollerH-w.wrapperH+w.y:0),w.options.bounce?w.wrapperH:0):m;A=w.x+u.dist;x=w.y+m.dist;if((w.x>0&&A>0)||(w.x<w.maxScrollX&&A<w.maxScrollX)){u={dist:0,time:0}}if((w.y>0&&x>0)||(w.y<w.maxScrollY&&x<w.maxScrollY)){m={dist:0,time:0}}}if(u.dist||m.dist){t=o.max(o.max(u.time,m.time),10);w.scrollTo(o.round(A),o.round(x),t);if(w.options.onTouchEnd){w.options.onTouchEnd.call(w,y)}return}w._resetPos(200);if(w.options.onTouchEnd){w.options.onTouchEnd.call(w,y)}},_resetPos:function(u){var m=this,v=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,t=m.y>=0||m.maxScrollY>0?0:m.y<m.maxScrollY?m.maxScrollY:m.y;if(v==m.x&&t==m.y){if(m.moved){if(m.options.onScrollEnd){m.options.onScrollEnd.call(m)}m.moved=false}return}m.scrollTo(v,t,u||0)},_mouseout:function(u){var m=u.relatedTarget;if(!m){this._end(u);return}while(m=m.parentNode){if(m==this.wrapper){return}}this._end(u)},_transitionEnd:function(t){var m=this;if(t.target!=m.scroller){return}m._unbind("webkitTransitionEnd");m._startAni()},_startAni:function(){var y=this,t=y.x,m=y.y,w=Date.now(),x,v,u;if(y.animating){return}if(!y.steps.length){y._resetPos(400);return}x=y.steps.shift();if(x.x==t&&x.y==m){x.time=0}y.animating=true;y.moved=true;if(y.options.useTransition){y._transitionTime(x.time);y._pos(x.x,x.y);y.animating=false;if(x.time){y._bind("webkitTransitionEnd")}else{y._resetPos(0)}return}u=function(){var z=Date.now(),B,A;if(z>=w+x.time){y._pos(x.x,x.y);y.animating=false;if(y.options.onAnimationEnd){y.options.onAnimationEnd.call(y)}y._startAni();return}z=(z-w)/x.time-1;v=o.sqrt(1-z*z);B=(x.x-t)*v+t;A=(x.y-m)*v+m;y._pos(B,A);if(y.animating){y.aniTime=l(u)}};u()},_transitionTime:function(m){this.scroller.style[s+"TransitionDuration"]=m+"ms"},_momentum:function(z,t,x,m,B){var y=0.0006,u=o.abs(z)/t,v=(u*u)/(2*y),A=0,w=0;if(z>0&&v>x){w=B/(6/(v/u*y));x=x+w;u=u*x/v;v=x}else{if(z<0&&v>m){w=B/(6/(v/u*y));m=m+w;u=u*m/v;v=m}}v=v*(z<0?-1:1);A=u/y;return{dist:v,time:o.round(A)}},_offset:function(m){var u=-m.offsetLeft,t=-m.offsetTop;while(m=m.offsetParent){u-=m.offsetLeft;t-=m.offsetTop}return{left:u,top:t}},_bind:function(u,t,m){(t||this.scroller).addEventListener(u,this,!!m)},_unbind:function(u,t,m){(t||this.scroller).removeEventListener(u,this,!!m)},destroy:function(){var m=this;m.scroller.style[s+"Transform"]="";m._unbind(g,window);m._unbind(a);m._unbind(n);m._unbind(d);m._unbind(q);m._unbind("mouseout",m.wrapper);if(m.options.useTransition){m._unbind("webkitTransitionEnd")}if(m.options.onDestroy){m.options.onDestroy.call(m)}},refresh:function(){var m=this,t;m.wrapperW=m.wrapper.clientWidth;m.wrapperH=m.wrapper.clientHeight;m.scrollerW=m.scroller.offsetWidth;m.scrollerH=m.scroller.offsetHeight;m.maxScrollX=m.wrapperW-m.scrollerW;m.maxScrollY=m.wrapperH-m.scrollerH;m.dirX=0;m.dirY=0;m.hScroll=m.options.hScroll&&m.maxScrollX<0;m.vScroll=m.options.vScroll&&(!m.options.bounceLock&&!m.hScroll||m.scrollerH>m.wrapperH);t=m._offset(m.wrapper);m.wrapperOffsetLeft=-t.left;m.wrapperOffsetTop=-t.top;m.scroller.style[s+"TransitionDuration"]="0";m._resetPos(200)},scrollTo:function(m,B,A,z){var w=this,v=m,u,t;w.stop();if(!v.length){v=[{x:m,y:B,time:A,relative:z}]}for(u=0,t=v.length;u<t;u++){if(v[u].relative){v[u].x=w.x-v[u].x;v[u].y=w.y-v[u].y}w.steps.push({x:v[u].x,y:v[u].y,time:v[u].time||0})}w._startAni()},scrollToElement:function(m,u){var t=this,v;m=m.nodeType?m:t.scroller.querySelector(m);if(!m){return}v=t._offset(m);v.left+=t.wrapperOffsetLeft;v.top+=t.wrapperOffsetTop;v.left=v.left>0?0:v.left<t.maxScrollX?t.maxScrollX:v.left;v.top=v.top>0?0:v.top<t.maxScrollY?t.maxScrollY:v.top;u=u===undefined?o.max(o.abs(v.left)*2,o.abs(v.top)*2):u;t.scrollTo(v.left,v.top,u)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(n);this._unbind(d);this._unbind(q)},enable:function(){this.enabled=true},stop:function(){k(this.aniTime);this.steps=[];this.moved=false;this.animating=false}};if(typeof exports!=="undefined"){exports.iScroll=p}else{window.iScroll=p}})(); var BaseScroller=function(){};BaseScroller.constructor=BaseScroller;BaseScroller.prototype={SCROLL_WRAPPER_SELECTOR:".scroll_wrapper",ACTIVE_PAGE_SELECTOR:".ui-page-active",$body:null,pageHeight:0,getMyScrollerWrapper:function(a){if(a.hasClass("scroll_wrapper")){return a}var b=a.parents(this.SCROLL_WRAPPER_SELECTOR);if(b.length>0){return b}return null},getScrollerWrapper:function(b){if(!b||!b.length){var a=$(this.ACTIVE_PAGE_SELECTOR);if(a.length){b=$(this.SCROLL_WRAPPER_SELECTOR,a)}}return b},triggerWrapperResize:function(c){var a=this;var b=c?c:a.getScrollerWrapper();if(b&&b.hasClass("no_generic_resize")){return}a.onWrapperResize(b);window.setTimeout(function(){a.onWrapperResize(b)},100)},onResizeEventHandler:function(a){this.triggerWrapperResize()},construct:function(){var a=this;a.triggerWrapperResize=a.triggerWrapperResize.hitch(a);a.onResizeEventHandler=a.onResizeEventHandler.hitch(a);$(window).bind("orientationchange throttledresize",a.onResizeEventHandler);this.$body=$("body")},init:function(a){},refreshScroll:function(b,a){},disableScroll:function(a){},enableScroll:function(a){},scrollToScope:function(a){setTimeout(function(){var e=a.offset();if(!e){return}var i=a.outerHeight();var h=this.getMyScrollerWrapper(a);if(!h){return}var f=h.children();var d=f.offset();var c=h.offset();var b=h.height();if(e.top<c.top){var g=e.top-d.top;g-=15}else{if(e.top+i>c.top+b){var g=e.top-d.top-(b-i);g+=15}else{return}}this.scrollTo(h,g,500)}.hitch(this),10)},onWrapperResize:function(a){this.pageHeight=Utils.Html.getInnerHeight()},onContentChanged:function(a){},resetScroll:function(a){},scrollTo:function(c,a,b){},restoreScroll:function(){}}; var ScrollingFactory={ISCROLL_NAME:"IScrollScroller",FIXED_SCROLL_NAME:"FixedScroller",OVERFLOW_SCROLL_NAME:"OverflowScroller",getScrollerName:function(){if(!DeviceSupport.isPositionFixed){return this.ISCROLL_NAME}if(LAYOUT===layoutFormat.wide){return this.ISCROLL_NAME}var a=navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i);if(a&&LAYOUT===layoutFormat.narrow){return this.FIXED_SCROLL_NAME}if(PLATFORM===platformEnum.simulator||PLATFORM===platformEnum.gadget||DEVICE===deviceTypeEnum.iphone){if($.mobile.browser.ie&&$.mobile.browser.ie<9){return this.FIXED_SCROLL_NAME}else{return this.ISCROLL_NAME}}if(DEVICE===deviceTypeEnum.android){return this.FIXED_SCROLL_NAME}return this.ISCROLL_NAME},createScroller:function(){var a=this.getScrollerName();return new window[a]()}}; var BaseLongScroller=function(){};BaseLongScroller.constructor=BaseLongScroller;BaseLongScroller.prototype=BaseScroller.extend({_scrollStack:[],PERSISTANT_SELECTOR:'*[data-position="fixed"]',TOOLBARS_SELECTOR:'*[data-role="header"], *[data-role="footer"]',HEADER_SELECTOR:'*[data-role="header"]',FOOTER_SELECTOR:'*[data-role="footer"]',construct:function(){this.Super();$("body").addClass("long_scroller");$('*[data-role="page"]',this.$el).live("pageshow",this._handlePageShow.hitch(this))},onWrapperResize:function(a){this.Super(a);$("#app_pages_container").css("min-height",this.pageHeight);this.setPageHeight()},setPageHeight:function(){$(".ui-page-active").css("min-height",this.pageHeight)},_handlePageShow:function(){this.setPageHeight()},resetScroll:function(b){this.Super(b);var a=$(document.body);this._scrollStack.push(a.scrollTop());a.scrollTop(0)},scrollTo:function(c,a,b){this.Super(c,a,b);$(document.body).scrollTop(a)},restoreScroll:function(){this.Super();var a=this._scrollStack.pop();$(document.body).scrollTop(a)},handlePageShow:function(a){this.Super(a);this.resetScroll(a)}}); var FixedScroller=function(){this.construct()};FixedScroller.constructor=FixedScroller;FixedScroller.prototype=BaseLongScroller.extend({construct:function(){this.Super();$("html").addClass("fixed_scroller")},setPageHeight:function(){this.Super();var a=$(".app_header").height();var b=$(".ui-page-active");b.find(this.HEADER_SELECTOR).css({top:a});b.css({marginBottom:Utils.Html.getFooterHeight()})},onContentChanged:function(a){this.Super(a)},resetScroll:function(a){this.Super(a)},scrollTo:function(c,a,b){this.Super(c,a,b)},restoreScroll:function(){this.Super()}}); var BaseShortScroller=function(){};BaseShortScroller.constructor=BaseShortScroller;BaseShortScroller.prototype=BaseScroller.extend({$appPagesContainer:null,construct:function(){this.Super();$(document).bind("scroll",function(a){if(window.pageYOffset==0){this.triggerWrapperResize()}}.hitch(this));this.$body.addClass("short_scroller")},onWrapperResize:function(a){this.Super(a);$("#app_pages_container").css("height",this.pageHeight)},refreshScroll:function(b,a){b.height(a)}}); var IScrollScroller=function(){this.construct()};IScrollScroller.constructor=IScrollScroller;IScrollScroller.prototype=BaseShortScroller.extend({ISCROLL_OBJECT_KEY:"iscroll_object",construct:function(){this.Super();var a={".scroll_wrapper":"{ position:relative; z-index:1; width:100%; overflow:auto; }",".scroller":"{ min-height:100%; width:100%; z-index:1; padding:0; position:relative; overflow: hidden;}"};Utils.Html.addCssStyle(a,document,"scrollStyle");$('*[data-role="page"]',this.$el).live("pageshow",this._handlePageShow.hitch(this))},init:function(c){this.onWrapperResize();var a=this._getIScrollObject(c);if(!a){var b={hScroll:false,vScroll:true,vScrollbar:true,useTransition:true,onScrollMove:function(){$.mobile.setPageScrolling(true)},onScrollEnd:function(){$.mobile.setPageScrolling(false)}};if(DEVICE===deviceTypeEnum.android&&LAYOUT===layoutFormat.wide){b.onBeforeScrollStart=function(d){target=d.target;while(target.nodeType!=1){target=target.parentNode}if(["SELECT","INPUT","TEXTAREA"].indexOf(target.tagName.toUpperCase())<0){d.preventDefault()}}}a=new iScroll(c[0],b);c.data(this.ISCROLL_OBJECT_KEY,a)}c.delegate(":input","blur",function(f){var d=c[0];var g=d.scrollTop+(-a.y);d.scrollTop=0;Scrolling.scrollTo(c,g)});this._throttleRefresh(a);this.Super(c)},onWrapperResize:function(a){if($(document.activeElement).is(":input")){return}this.Super(a);this._refreshIScroll(a)},_handlePageShow:function(){var a=this.getScrollerWrapper();this._refreshIScroll(a)},disableScroll:function(b){var a=this._getIScrollObject(b);if(a){a.scrollTo(0,0,0);a.disable()}},enableScroll:function(b){var a=this._getIScrollObject(b);if(a){a.enable()}},refreshScroll:function(b,a){this.Super(b,a);this._refreshIScroll(b)},_refreshIScroll:function(d){if(d){for(var b=0;b<d.length;b++){var c=d.eq(b);var a=this._getIScrollObject(c);if(a){this._throttleRefresh(a)}}}},_throttleRefresh:function(a){clearTimeout(a.timeout);var b=a.lastCall||0;curr=(new Date()).getTime();diff=curr-b;if(diff>=500){timeout=0}else{timeout=500}a.timeout=setTimeout(function(){a.lastCall=curr;a.refresh()},timeout)},onContentChanged:function(a){this._refreshIScroll(a)},resetScroll:function(a){this.scrollTo(a,0)},scrollTo:function(d,b,c){var a=this._getIScrollObject(d);if(a){c=c||0;a.scrollTo(0,-b,c)}},_getIScrollObject:function(a){if(a&&a.length){return a.data(this.ISCROLL_OBJECT_KEY)}return null}}); var OverflowScroller=function(){this.construct()};OverflowScroller.constructor=OverflowScroller;OverflowScroller.prototype=BaseShortScroller.extend({construct:function(){this.Super();var a={".scroll_wrapper":"{ overflow-y:scroll; overflow-x:hidden; -webkit-overflow-scrolling: touch;}",".scroll_wrapper>*":"{ -webkit-transform: translate3d(0,0,0); }"};Utils.Html.addCssStyle(a,document,"scrollStyle")}}); function BaseAppDriver(){}BaseAppDriver.prototype={_infoBarButtonID:0,_infoBarBtnCbMap:{},_refreshButtonsIds:[],_navigationButtonsIds:[],addInfoBarButton:function(a,e,c,b,f,d){AppManager.app().addInfoBarButton(a,e,c,b,f,d)},removeInfoBarButton:function(a,d,c,b){AppManager.app().removeInfoBarButton(a,d,c,b)},removeAllInfoBarButtons:function(a,c,b){AppManager.app().removeAllInfoBarButtons(a,c,b)},openLink:function(h,e,f,b,i,a){if(PLATFORM===platformEnum.simulator){cqm.showToastMessage("This functionality doesn't work in simulator mode");Utils.Helpers.funcWrapper(e)("simulator");return}if(!f||!f.url){Utils.Helpers.funcWrapper(e)("No URL!");return}if(this.handleInternalLink(f.url)){Utils.Helpers.funcWrapper(h)();return}var c=/^\s*(mailto:|tel:|sms:|mms:)/i.test(f.url);if(c){var d=f.url.indexOf(":");var g={type:f.url.substr(0,d),data:f.url.substr(d+1)};UsageManager.addEvent(analytics.usageEventTypeEnum.ContactRequest,g,false,f.pageId,f.pageType);this.openContactLink(h,e,f,b,i,a)}else{var g={url:f.url,pageSubType:f.pageSubType};UsageManager.addEvent(analytics.usageEventTypeEnum.OpenLink,g,false,f.pageId,f.pageType);this.openUrlLink(h,e,f,b,i,a)}},openContactLink:function(a,d,b,e,f,c){document.location=b.url;Utils.Helpers.funcWrapper(a)()},openUrlLink:function(a,d,b,e,f,c){},handleInternalLink:function(b){if(typeof(b)==="string"){var a=b.split(":");if(a[0]==="GoToPage"){var c=AppViewFactory.getAppView();if(a[1]==="navigation"){c.goToNavPage()}else{if(a[1]==="id"){c.goToPageId(a[2])}else{c.goToPageIndex(a[2])}}return true}}return false},addRefreshButton:function(a,e,c,b,g,d){if((DEVICE==deviceTypeEnum.android||DEVICE===deviceTypeEnum.iphone)&&PLATFORM==platformEnum.nativeApp){navigator.appManager.addRefreshButton(g);Utils.Helpers.funcWrapper(a)()}else{function f(h){this._refreshButtonsIds.push(h);Utils.Helpers.funcWrapper(a)()}this.addInfoBarButton(f.hitch(this),e,headerButtonsIconsEnum.refresh,b,g,d)}},removeRefreshButton:function(a,c,b){if((DEVICE===deviceTypeEnum.iphone||DEVICE==deviceTypeEnum.android)&&PLATFORM==platformEnum.nativeApp){navigator.appManager.removeRefreshButton();Utils.Helpers.funcWrapper(a)()}else{var d=this._refreshButtonsIds.pop();this.removeInfoBarButton(a,c,d,b)}},addNavigationButton:function(a,e,c,b,g,d){if(PLATFORM===platformEnum.nativeApp){if(DEVICE===deviceTypeEnum.iphone){navigator.appManager.addNavigationButton(g);Utils.Helpers.funcWrapper(a)()}else{Utils.Helpers.funcWrapper(a)()}}else{function f(h){this._navigationButtonsIds.push(h);Utils.Helpers.funcWrapper(a)()}this.addInfoBarButton(f.hitch(this),e,c,b,g,d)}},removeNavigationButton:function(a,c,b){if(PLATFORM===platformEnum.nativeApp){if(DEVICE===deviceTypeEnum.iphone){navigator.appManager.removeNavigationButton();Utils.Helpers.funcWrapper(a)()}else{Utils.Helpers.funcWrapper(a)()}}else{var d=this._navigationButtonsIds.pop();this.removeInfoBarButton(a,c,d,b)}}};BaseAppDriver.constructor=BaseAppDriver; function BaseGeoDriver(){}BaseGeoDriver.prototype={getDefLocationOpt:function(a){var b={enableHighAccuracy:true,timeout:5000,maximumAge:60000};$.extend(b,a);return b},getLocation:function(c,e,d){if(typeof navigator.geolocation=="undefined"){throw"navigator.geolocation is undefined"}var f=this;function b(g){$.each(f._cbSucesses||[],function(h,j){j(g)});f._cbSucesses=null;f._cbFails=null;f.doCall=true}function a(g){$.each(f._cbFails||[],function(j,h){h(g)});f._cbSucesses=null;f._cbFails=null;f.doCall=true}if(!f._cbSucesses){f._cbSucesses=[];f._cbFails=[];f.doCall=true}if(typeof(c)==="function"){f._cbSucesses.push(c)}if(typeof(e)==="function"){f._cbFails.push(e)}if(f.doCall){f.doCall=false;f._getLocation(b,a,d)}}}; var SocialDriver=function(){this._socialServices={};this._socialServices[socialServicesEnum.Facebook]=new Facebook();this._socialServices[socialServicesEnum.Email]=new Email();this._socialServices[socialServicesEnum.Twitter]=new Twitter()};SocialDriver.prototype={isSupported:function(){if(typeof socialNotSupported!=="undefined"&&socialNotSupported){return false}return true},_isServiceSupported:function(a){return this._socialServices.hasOwnProperty(a)},getSupportedServices:function(d){var c=[];for(var b in this._socialServices){var a=true;if(PLATFORM===platformEnum.webApp){if(!d.url){if(b==socialServicesEnum.Facebook){a=false}}}if(a){c.push(b)}}c.sort();return c},share:function(b,d,a,c){if(!c){Utils.Helpers.funcWrapper(d)("Share options not supplied");return}a=parseInt(a);if(!this._isServiceSupported(a)){Utils.Helpers.funcWrapper(d)("Service not supported");return}if(PLATFORM===platformEnum.simulator){cqm.showToastMessage("Share is not supported in simulator mode.");return}this._socialServices[a].share(b,d,c)},getAccessTokens:function(b,d,a,c){a=parseInt(a);if(!this._isServiceSupported(a)){Utils.Helpers.funcWrapper(d)("Service not supported");return}this._socialServices[a].getAccessTokens(b,d,c)},logout:function(b,c,a){a=parseInt(a);if(!this._isServiceSupported(a)){Utils.Helpers.funcWrapper(c)("Service not supported");return}this._socialServices[a].logout(b,c)},saveShareInfo:function(a,b){this._shareInfo=a;this._tokens=b},handleTwitterShareLoginReturn:function(a){this._socialServices[socialServicesEnum.Twitter].share(null,null,a)},_createSshKey:function(f){var e=f.sskey;var c=f.tId;var g=new Date();var b=JSON.stringify(g);b=b.substring(1,b.length-1);var h=HMAC_SHA256_MAC(e,"hts="+b+"&tuid="+c);var a={hts:b,sshKey:h};return a},tweet:function(a,d,e){var b=this._createSshKey(this._tokens);var f={tId:this._tokens.tId,sshKey:b.sshKey,hts:b.hts};var c={postParams:{status:e,wrap_links:true},contentType:"application/x-www-form-urlencoded"};Services.executeService("TWITTER_API_PROXY_POST",f,a,d,c)}}; var storageDriver=(function(){var a={};var c=localStorage;function b(e,d){if(d){e=APP_ID+"_"+e}return e}a.setItem=function(d,f,g,j,i){if((typeof(g)!=="string")||(typeof(j)!=="string")){Utils.Helpers.funcWrapper(f)();return false}g=b(g,i);try{c.setItem(g,j)}catch(h){try{c.clear();c.setItem(g,j)}catch(h){Utils.Helpers.funcWrapper(f)();return false}}Utils.Helpers.funcWrapper(d)();return true};a.getItem=function(d,e,f,h){if(typeof(f)!=="string"){Utils.Helpers.funcWrapper(e)();return null}else{f=b(f,h);var g=c.getItem(f);if(typeof g==="undefined"||g==null){Utils.Helpers.funcWrapper(e)();g=null}else{Utils.Helpers.funcWrapper(d)(g)}return g}};a.removeItem=function(d,f,g,i){if(typeof(g)!=="string"){Utils.Helpers.funcWrapper(f)();return null}else{g=b(g,i);try{c.removeItem(g)}catch(h){}Utils.Helpers.funcWrapper(d)()}};a.clearStorage=function(d,h){var f;var j="";storageLength=c.length;var g=APP_ID.toUpperCase();var e=g.length;for(f=0;f<storageLength;){j=c.key(f);if(j.substring(0,e)==g){c.removeItem(j);storageLength--}else{f++}}Utils.Helpers.funcWrapper(d)();return true};return a}()); var BaseInputPanelDriver=function(){};BaseInputPanelDriver.prototype={_getDefaultOptions:function(){return{initialTxt:"",sendBtnTxt:_T("HtmlTextInputPanelButtonSendMessage"),placeHolderTxt:_T("HtmlTextInputPanelPlaceholder")}},openPanel:function(a,c,b){},closePanel:function(a,b){}}; var BaseGoogleMap={showDirections:function(h,b,c,a){var e=this;var f=null;var j=null;if(c){if(c.lat&&c.lng){f=c.lat+","+c.lng}else{if(c.address){f=c.address}}}if(a){if(a.lat&&a.lng){j=a.lat+","+a.lng}else{if(a.address){j=a.address}}}function d(){e._doShowDirections(h,b,f,j)}function g(k){if(!f){f=k.coords.latitude+","+k.coords.longitude}else{j=k.coords.latitude+","+k.coords.longitude}d()}function i(){Utils.Helpers.funcWrapper(b)()}if(f==null||j==null){geoDriver.getLocation(g,i)}else{d()}},_doShowDirections:function(d,a,c,b){}}; var deviceInfoDriver=(function(){var a={};var b=null;a.isSupported=function(c){return true};a.getDeviceInfo=function(c,d){var e="en";if(navigator.userLanguage){e=navigator.userLanguage}else{if(window.navigator.language){e=window.navigator.language}}b={version:"1.0",uuid:null,language:e};Utils.Helpers.funcWrapper(c)(b)};return a}()); function GeoDriver(){this.Super()}GeoDriver.prototype=BaseGeoDriver.extend({_getLocation:function(a,c,b){var d=this.getDefLocationOpt(b);navigator.geolocation.getCurrentPosition(a,c,d);if(navigator.userAgent.indexOf("Firefox/")>0){var e=5000;if(d.timeout){e=d.timeout}setTimeout(c,e)}}}); var audioDriver=(function(){var m={};var o=1;var e=0;var a={};var c={};var b={};var f={};var l={};var h={};var d={};var j={};var n={};var k={};var i={};var g=!!document.createElement("audio").canPlayType;function p(q,r){return"audio-player"+q+"_"+r}m.isSupported=function(){return g};m.getVolume=function(q,r){if(typeof(q)==="function"){q(o)}};m.setVolume=function(q,r,s){o=s;var t=$("audio");$.each(t,function(u,v){v.volume=s});$.each(a,function(u,v){v(s)});if(typeof(q)==="function"){q()}};m.registerVolumeChanged=function(q,t,r,s){if(typeof(r)==="function"){if(s.pageId){a[s.pageId]=r}}if(typeof(q)==="function"){q()}};m.unregisterVolumeChanged=function(q,s,r){if(r.pageId){if(a[r.pageId]){delete a[r.pageId]}if(typeof(q)==="function"){q();return}}if(typeof(s)==="function"){s()}};m.registerMediaEnded=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){c[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterMediaEnded=function(q,s,t,r){if(r.pageId){if(c[p(r.pageId,t)]){delete c[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerMediaPlaying=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){b[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterMediaPlaying=function(q,s,t,r){if(r.pageId){if(b[p(r.pageId,t)]){delete b[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerMediaPause=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){f[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterMediaPause=function(q,s,t,r){if(r.pageId){if(f[p(r.pageId,t)]){delete f[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerMediaTimeUpdate=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){l[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterMediaTimeUpdate=function(q,s,t,r){if(r.pageId){if(l[p(r.pageId,t)]){delete l[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerMediaCanPlay=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){h[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterMediaCanPlay=function(q,s,t,r){if(r.pageId){if(h[p(r.pageId,t)]){delete h[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerMediaSeeked=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){d[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterMediaSeeked=function(q,s,t,r){if(r.pageId){if(d[p(r.pageId,t)]){delete d[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerMediaSeeking=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){j[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterMediaSeeking=function(q,s,t,r){if(r.pageId){if(j[p(r.pageId,t)]){delete j[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerLoadedMetaData=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){n[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterLoadedMetaData=function(q,s,t,r){if(r.pageId){if(n[p(r.pageId,t)]){delete n[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerLoadStart=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){k[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterLoadStart=function(q,s,t,r){if(r.pageId){if(k[p(r.pageId,t)]){delete k[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.registerError=function(q,t,u,r,s){if(typeof(r)==="function"){if(s.pageId){i[p(s.pageId,u)]=r}}if(typeof(q)==="function"){q()}};m.unregisterError=function(q,s,t,r){if(r.pageId){if(i[p(r.pageId,t)]){delete i[p(r.pageId,t)]}}if(typeof(q)==="function"){q()}};m.createPlayer=function(r,v,u){if(typeof(r)!=="function"){return}e++;var w=e;var q=p(u.pageId,e);var x=$(document.body);var t='<audio id="'+q+'"></audio>';x.append(t);var s=$("#"+q);if(s.length>0){s.bind("ended",function(){if(c[q]){c[q]()}s[0].pause()});s.bind("playing",function(){if(b[q]){b[q]()}});s.bind("pause",function(){if(f[q]){f[q]()}});s.bind("timeupdate",function(){if(l[q]){l[q](s[0].currentTime)}});s.bind("canplay",function(){if(h[q]){h[q]()}});s.bind("seeked",function(){if(d[q]){d[q]()}});s.bind("seeking",function(){if(j[q]){j[q]()}});s.bind("loadedmetadata",function(){if(n[q]){n[q]()}});s.bind("loadstart",function(){if(k[q]){k[q]()}});s.bind("error",function(){if(i[q]){i[q]()}});s[0].volume=o;r(w);return}if(typeof(v)==="function"){v()}};m.destroyPlayer=function(s){var q=p(context.pageId,s);var r=$("#"+q);r.unbind("ended").unbind("playing").unbind("pause").unbind("timeupdate").unbind("canplay").unbind("seeked").unbind("seeking").unbind("loadedmetadata").unbind("loadstart").unbind("error").remove()};m.setUrl=function(q,u,v,s,t){var r=$("#"+p(t.pageId,v));if(r.length>0){setTimeout(function(){r.attr("src",s);r[0].load();if(typeof(q)==="function"){q();return}},1)}if(typeof(u)==="function"){u()}};m.setCurrentTime=function(q,t,v,u,s){var r=$("#"+p(s.pageId,v));if(r.length>0){r[0].currentTime=u;if(typeof(q)==="function"){q();return}}if(typeof(t)==="function"){t()}};m.getCurrentTime=function(q,t,u,s){var r=$("#"+p(s.pageId,u));if(r.length>0){if(typeof(q)==="function"){q(r[0].currentTime);return}}if(typeof(t)==="function"){t()}};m.getDuration=function(q,t,u,s){var r=$("#"+p(s.pageId,u));if(r.length>0){if(typeof(q)==="function"){q(r[0].duration);return}}if(typeof(t)==="function"){t()}};m.pause=function(q,t,u,s){var r=$("#"+p(s.pageId,u));if(r.length>0){r[0].pause();if(typeof(q)==="function"){q();return}}if(typeof(t)==="function"){t()}};m.play=function(q,t,u,s){var r=$("#"+p(s.pageId,u));if(r.length>0){r[0].play();if(typeof(q)==="function"){q();return}}if(typeof(t)==="function"){t()}};return m}()); var uiDriver=(function(){var a={};a.isSupported=function(){return true};a.showDialogBox=function(c,e,d,b){cqm.showDialogBox(d.title,d.message,d.buttons);Utils.Helpers.funcWrapper(c)()};a.showToastMessage=function(c,d,e,b,f){cqm.showToastMessage(e,b,f);Utils.Helpers.funcWrapper(c)()};return a}()); function AppDriver(){this.Super()}AppDriver.prototype=BaseAppDriver.extend({HTTP_PREFIX:"http://",HTTPS_PREFIX:"https://",openUrlLink:function(a,c,b,d,e){if(b.openInCurrentWindow){document.location=b.url}else{if(b.url.indexOf("://")==-1){b.url=this.HTTP_PREFIX+b.url}window.open(b.url)}Utils.Helpers.funcWrapper(a)()},closeLink:function(a,b,c){Utils.Helpers.funcWrapper(b)("unsupported")},closeApp:function(a,b){window.close();Utils.Helpers.funcWrapper(a)()},addBackButton:function(a,d,c,b,f){if(DEVICE!==deviceTypeEnum.android||PLATFORM==platformEnum.simulator){function e(g){this._backBtnHandle=g;Utils.Helpers.funcWrapper(a)()}this.addInfoBarButton(e.hitch(this),d,headerButtonsIconsEnum.back,b,f)}},removeBackButton:function(a,b){if(DEVICE!==deviceTypeEnum.android||PLATFORM==platformEnum.simulator){function c(d){this._backBtnHandle=null;Utils.Helpers.funcWrapper(a)()}this.removeInfoBarButton(c.hitch(this),b,this._backBtnHandle)}}}); var mediaDriver=(function(){var h={};var d=null;var e=null;var c=null;var i=null;var f=!!document.createElement("audio").canPlayType;function g(){var j=false;if(c){j=c.get("statusPlaying")}if(!j){i=setTimeout(function(){a()},5000)}}function b(j){a();if(!c){c=new MediaPlayerModel({statusArrowUp:true})}c.set({tracks:[]});e=new MediaPlayerView({model:c});var k=$(j);var l=e.render().el;k.append(l);k.bind("hide",g);AppManager.app().bind("destroy",a)}function a(){if(i){clearTimeout(i);i=null}if(e){e.destroyPlayer();e.remove();delete e;e=null;$("audio").remove()}}h.isSupported=function(){return f};h.init=function(k,l,j){b(j);d=j;Utils.Helpers.funcWrapper(k)()};h.setTracks=function(j,l,k){c.set({tracks:k});Utils.Helpers.funcWrapper(j)()};h.setTrackIndex=function(j,m,k,l){e.setTrackIndex(k,l)};return h}()); var inputPanelDriver=BaseInputPanelDriver.extend((function(){var d={};var b=null;var c=null;function a(f,g){e();c=new InputPanelModel({cbSend:f});b=new InputPanelView({model:c,options:g});var h=$("#app_footer .mainFooter");h.prepend(b.render().el)}function e(){if(b){b.remove();delete b;b=null;delete c;c=null}}d.openPanel=function(f,h,g){g=_.extend({},this._getDefaultOptions(),g);a(f,g)};d.closePanel=function(f,g){e();Scrolling.onWrapperResize();Utils.Helpers.funcWrapper(f)()};return d})()); function GoogleMap(){}GoogleMap.prototype=BaseGoogleMap;GoogleMap.prototype._doShowDirections=function(g,a,f,d){var c="http://maps.google.com/maps?saddr="+f+"&daddr="+d;var e=true;if(PLATFORM===platformEnum.simulator){e=false}var b={url:c,openInCurrentWindow:e};appDriver.openLink(g,a,b)};if(typeof navigator.google_map=="undefined"){navigator.google_map=new GoogleMap()}; var BaseSocialService=function(){};BaseSocialService.prototype={SOCIAL_USER_CANCELED:"user_canceled",share:function(a,c,b){this._shareOptions=Utils.Helpers.deepClone(true,{},b);this._shareCbFail=Utils.Helpers.funcWrapper(c);this._shareCbSuccess=Utils.Helpers.funcWrapper(a);var d=this._createGetAtOptions();this.getAccessTokens(this._cbGetAccessSuccess.hitch(this),this._cbGetAccessFailed.hitch(this),d)}}; var SocialService=function(){};SocialService.prototype=BaseSocialService.extend({_openLoginForm:function(d){var e={pageId:this._options.pageId,pageState:this._options.pageState||{tabIndex:0}};storageDriver.setItem(null,null,RETURN_STATE_INFO,JSON.stringify(e),true);var h="return_app_id";var c=document.location.href;var b=c.length;if(!c.endsWith("#")){c=c+"#"}c=c+h+"="+APP_ID;var a={returnUrl:c};var g=Services.generateUrl(d,a);var f={url:g,hideDialog:true,openInCurrentWindow:true};appDriver.openLink(null,this._getAtCbFail,f)},_createGetAtOptions:function(){var a={useLoginForm:true,pageState:this._shareOptions,pageId:this._shareOptions.pageId};return a},_getStoredTokens:function(d,c){var b=function(){c()};var a=function(f){try{f=JSON.parse(f)}catch(g){f=null}c(f)};storageDriver.getItem(a,b,d,true)}}); var Facebook=function(){};Facebook.prototype={FACEBOOK_API_TIMEOUT:8000,_fixTokens:function(a){a.fbId=a.fbId||(a.userId||a.userID);return a},getAccessTokens:function(b,d,c){var e=this;var h=function(n){var n=e._fixTokens(n);var m="FACEBOOK_USER_DATA_"+n.fbId;var l=null;var j=storageDriver.getItem(null,null,m,true);if(j){l=JSON.parse(j)}if(l){Utils.Helpers.funcWrapper(b)(n,l)}else{var k=false;var o=setTimeout(function(){k=true;Utils.Helpers.funcWrapper(d)("timeout")},e.FACEBOOK_API_TIMEOUT);function i(p){if(!k){clearTimeout(o);Utils.Helpers.funcWrapper(b)(n,p)}if(p){var q=JSON.stringify(p);storageDriver.setItem(null,null,m,q,true)}}FB.api("/"+n.fbId,i)}};var f=false;var a=(c&&c.useLoginForm)?e.FACEBOOK_API_TIMEOUT:1000;var g=setTimeout(function(){f=true;Utils.Helpers.funcWrapper(d)("timeout")},a);FB.getLoginStatus(function(i){if(!f){clearTimeout(g);if(i&&i.status==="connected"){h(i.authResponse)}else{if(c&&c.useLoginForm){var j={status:analytics.actionStatus.Start,socialProviderType:analytics.socialProviderType.Facebook};UsageManager.addEvent(analytics.usageEventTypeEnum.SocialLogin,j);FB.login(function(k){if(k.authResponse){j.status=analytics.actionStatus.Success;j.socialId=k.authResponse.userId;UsageManager.addEvent(analytics.usageEventTypeEnum.SocialLogin,j);h(k.authResponse)}else{j.status=analytics.actionStatus.Fail;UsageManager.addEvent(analytics.usageEventTypeEnum.SocialLogin,j);Utils.Helpers.funcWrapper(d)("User cancelled login or did not fully authorize.")}},{scope:"publish_stream"})}else{Utils.Helpers.funcWrapper(d)("User not connected.")}}}})},logout:function(a,b){if(window.CDV&&window.CDV.FB){FB.logout(a)}else{Utils.Helpers.funcWrapper(a)()}},_getShareUrl:function(d){var c=encodeURIComponent(d.url);var g=d.fbDesc||d.shortDesc;var f=d.fbTitle||d.title;var b=d.imageUrl;if((LAYOUT===layoutFormat.wide)&&g&&f&&b){var a="http://www.facebook.com/sharer.php?m2w&s=100";var e=encodeURIComponent("[url]")+"="+c;a+="&p"+e;if(g){var e=encodeURIComponent("[summary]")+"="+encodeURIComponent(g);a+="&p"+e}if(f){var e=encodeURIComponent("[title]")+"="+encodeURIComponent(f);a+="&p"+e}if(b){var e=encodeURIComponent("[images][0]")+"="+encodeURIComponent(b);a+="&p"+e}}else{var a="http://www.facebook.com/sharer.php?u="+c;if(g){var e=encodeURIComponent(g);a+="&t="+e}}return a},share:function(a,d,c){if(!c||!c.shareInfo){Utils.Helpers.funcWrapper(d)("missing params")}var e={shareType:analytics.socialProviderType.Facebook,socialId:c.shareInfo.socialId};UsageManager.addEvent(analytics.usageEventTypeEnum.SocialShare,e);var b=this._getShareUrl(c.shareInfo);window.open(b);Utils.Helpers.funcWrapper(a)()}}; var BaseTwitter=function(){};BaseTwitter.prototype=SocialService.extend({TWITTER_LOGIN_SERVICE_NAME:"MOBILE_TWITTER_LOGIN",_getStoredTokensCb:function(a){var b="&tId=";if(a&&a.sskey){this._getAtCbSuccess(a)}else{if(this._options.useLoginForm){this._openLoginForm(this.TWITTER_LOGIN_SERVICE_NAME,_T("DialogCaptionTwitterLogin"),TWITTER_TOKENS,b)}else{this._getAtCbFail()}}},_fixTokens:function(a){if(!a.cid&&a.cuid){a.cid=a.cuid}if(!a.tId&&a.user_id){a.tId=a.user_id}if(!a.name&&a.screen_name){a.name=a.screen_name}},_cbGetAccessFailed:function(a){if(!a||a!==this.SOCIAL_USER_CANCELED){var b=[{text:_T("ButtonClose"),cb:function(){}}];uiDriver.showDialogBox(null,null,{title:_T("DialogCaptionTwitter"),message:_T("DialogMessageShareFailConectTwitter"),buttons:b})}this._shareCbFail()},_createCommentForTwitterShare:function(g,f,h){var i=140;var e=i-1;var c=Utils.String.stripTags(g).substring(0,e);var a="";if(f){a=" "+f}var d=c.length+a.length;if(d>i){c=Utils.String.trailString(c,e-a.length)}c+=a;if(h){h=" "+h;if(c.length+h.length<i){c+=h}}var j=AppManager.app().get("appLink");if(j){var b=".\n "+_T("SShareTweetedFromLink",{appLink:j});if(c.length+b.length<i){c+=b}}return c},getAccessTokens:function(a,c,b){this._getAtCbSuccess=Utils.Helpers.funcWrapper(a);this._getAtCbFail=Utils.Helpers.funcWrapper(c);this._options=b;this._getStoredTokens(TWITTER_TOKENS,this._getStoredTokensCb.hitch(this))}}); var Email=function(){};Email.prototype={share:function(b,e,c){var g=c.shareInfo.emailTitle||c.shareInfo.title||"";var d=encodeURIComponent(g);var a=Utils.ShareInfo.getEMailBody(c.shareInfo)||"";a=Utils.String.removeHTMLTags(a);a=Utils.String.desanitize(a);var f={shareType:analytics.socialProviderType.Email,socialId:c.shareInfo.socialId};UsageManager.addEvent(analytics.usageEventTypeEnum.SocialShare,f);this.sendMail(d,a);Utils.Helpers.funcWrapper(b)()},sendMail:function(b,a){document.location="mailto:?subject="+b+"&body="+a}}; var Twitter=function(){};Twitter.prototype=BaseTwitter.extend({logout:function(a,b){storageDriver.removeItem(null,null,TWITTER_TOKENS);this._openLoginForm(this.TWITTER_LOGIN_SERVICE_NAME)},_getShareUrl:function(f){var c=f.url||"";var e=encodeURIComponent(c);var b="https://twitter.com/intent/tweet?url="+e;var g=f.twitterTitle||f.title||"";var d=AppManager.app().get("appLink");if(d&&!c.startsWith(d)){var a=".\n "+_T("SShareTweetedFromLink",{appLink:d});g+=a}if(g){g=encodeURIComponent(g);b+="&text="+g}return b},share:function(a,d,c){if(!c||!c.shareInfo){Utils.Helpers.funcWrapper(d)("missing params")}var e={shareType:analytics.socialProviderType.Twitter,socialId:c.shareInfo.socialId};UsageManager.addEvent(analytics.usageEventTypeEnum.SocialShare,e);var b=this._getShareUrl(c.shareInfo);window.open(b);Utils.Helpers.funcWrapper(a)()}}); /*!
 * NOTE: every "conduit" change will be with "CONDUIT CHANGE" comment!
 *
 * Add to Homescreen v2.0 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
;var addToHomeConfig={touchIcon:true};var addToHome=(function(n){if(DEVICE!==deviceTypeEnum.iphone||PLATFORM!==platformEnum.webApp){return}var i=n.navigator,j="platform" in i&&(/iphone|ipod|ipad/gi).test(i.platform),v,o,y,B,e,x=0,u=0,f,b,C,a,l,k,m,d={autostart:true,returningVisitor:false,animationIn:"drop",animationOut:"fade",startDelay:2000,lifespan:15000,bottomOffset:14,expire:0,message:"",touchIcon:false,arrow:true,hookOnLoad:true,iterations:100},q={ca_es:"Per installar aquesta aplicaci al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",da_dk:"Tilfj denne side til din %device: tryk p %icon og derefter <strong>Tilfj til hjemmeskrm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",el_gr:"       %device: %icon   <strong>  </strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>Aadir a pantalla de inicio</strong>.",fi_fi:"Asenna tm web-sovellus laitteeseesi %device: paina %icon ja sen jlkeen valitse <strong>Lis Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter  l'cran d'accueil</strong>.",he_il:'<span dir="rtl">    -%device :  %icon  <strong>  </strong>.</span>',hu_hu:"Teleptse ezt a web-alkalmazst az n %device-jra: nyomjon a %icon-ra majd a <strong>Fkpernyhz ads</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"%device%icon<strong></strong>",ko_kr:'%device   %icon   " " ',nb_no:"Installer denne appen p din %device: trykk p %icon og deretter <strong>Legg til p Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Zet in beginscherm</strong>.",pt_br:"Instale este web app em seu %device: aperte %icon e selecione <strong>Adicionar  Tela Inicio</strong>.",pt_pt:"Para instalar esta aplicao no seu %device, prima o %icon e depois o <strong>Adicionar ao ecr principal</strong>.",ru_ru:"  -   %device:  %icon,  <strong>  </strong>.",sv_se:"Lgg till denna webbapplikation p din %device: tryck p %icon och drefter <strong>Lgg till p hemskrmen</strong>.",th_th:"  %device :  %icon  <strong></strong>",tr_tr:"%device iin bu uygulamay kurduktan sonra %icon simgesine dokunarak <strong>Ev Ekranna Ekle</strong>yin.",zh_cn:" %device  %icon <strong></strong>",zh_tw:" %device  %icon <strong></strong>"};function t(){if(!j){return}var w=Date.now(),D;if(n.addToHomeConfig){for(D in n.addToHomeConfig){d[D]=n.addToHomeConfig[D]}}if(!d.autostart){d.hookOnLoad=false}v=(/ipad/gi).test(i.platform);o=n.devicePixelRatio&&n.devicePixelRatio>1;y=i.appVersion.match(/Safari/gi);B=i.standalone;e=i.appVersion.match(/OS (\d+_\d+)/i);e=e[1]?+e[1].replace("_","."):0;f=+n.localStorage.getItem("addToHome")||w;b=n.sessionStorage.getItem("addToHomeSession");C=!d.returningVisitor||(f&&f+28*24*60*60*1000>w);f=(!d.expire||f<=w);if(d.hookOnLoad){n.addEventListener("load",s,false)}else{if(!d.hookOnLoad&&d.autostart){s()}}}function s(){n.removeEventListener("load",s,false);if(!l&&(!y||!f||b||B||!C)){return}if(d.expire||d.returningVisitor){n.localStorage.setItem("addToHome",Date.now()+d.expire*60000)}var J=d.touchIcon?document.querySelectorAll("head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]"):[],K,F="",D,E=i.platform.split(" ")[0],H="en_us",I,G;a=document.createElement("div");a.id="addToHomeScreen";a.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(e<5?"absolute":"fixed");if(d.message in q){H=d.message;d.message=""}if(d.message===""){d.message=H in q?q[H]:q.en_us}if(J.length){for(I=0,G=J.length;I<G;I++){K=J[I].getAttribute("sizes");if(K){if(o&&K=="114x114"){F=J[I].href;break}}else{F=J[I].href}}F='<span style="background-image:url('+F+')" class="addToHomeTouchIcon"></span>'}a.className=(v?"addToHomeIpad":"addToHomeIphone")+(F?" addToHomeWide":"");if(e>=7){var w='<span class="addToHomeShare7"></span>'}else{if(e>=4.2){var w='<span class="addToHomeShare"></span>'}else{var w='<span class="addToHomePlus">+</span>'}}a.innerHTML=F+d.message.replace("%device",E).replace("%icon",w)+(d.arrow?'<span class="addToHomeArrow"></span>':"")+'<span class="addToHomeClose">\u00D7</span>';document.body.appendChild(a);D=a;if(D){D.addEventListener("click",g,true);D.addEventListener("touchend",g,true);D.addEventListener("touchstart",g,true)}setTimeout(A,d.startDelay)}function A(){if(window.add2HomeIsDisabled===true){return}var D,w=160;if(v){if(e<5){u=n.scrollY;x=n.scrollX;w=208}a.style.top=u+d.bottomOffset+"px";a.style.left=x+w-Math.round(a.offsetWidth/2)+"px";switch(d.animationIn){case"drop":D="0.6s";a.style.webkitTransform="translate3d(0,"+-(n.scrollY+d.bottomOffset+a.offsetHeight)+"px,0)";break;case"bubble":D="0.6s";a.style.opacity="0";a.style.webkitTransform="translate3d(0,"+(u+50)+"px,0)";break;default:D="1s";a.style.opacity="0"}}else{u=n.innerHeight+n.scrollY;if(e<5){x=Math.round((n.innerWidth-a.offsetWidth)/2)+n.scrollX;a.style.left=x+"px";a.style.top=u-a.offsetHeight-d.bottomOffset+"px"}else{a.style.left="50%";a.style.marginLeft=-Math.round(a.offsetWidth/2)+"px";a.style.bottom=d.bottomOffset+"px"}switch(d.animationIn){case"drop":D="1s";a.style.webkitTransform="translate3d(0,"+-(u+d.bottomOffset)+"px,0)";break;case"bubble":D="0.6s";a.style.webkitTransform="translate3d(0,"+(a.offsetHeight+d.bottomOffset+50)+"px,0)";break;default:D="1s";a.style.opacity="0"}}a.offsetHeight;a.style.webkitTransitionDuration=D;a.style.opacity="1";a.style.webkitTransform="translate3d(0,0,0)";a.addEventListener("webkitTransitionEnd",h,false);m=setTimeout(p,d.lifespan)}function r(w){if(!j||a){return}l=w;s()}function p(){clearInterval(k);clearTimeout(m);m=null;var F=0,G=0,D="1",E="0",w=a;if(w){w.removeEventListener("click",p,false)}if(e<5){F=v?n.scrollY-u:n.scrollY+n.innerHeight-u;G=v?n.scrollX-x:n.scrollX+Math.round((n.innerWidth-a.offsetWidth)/2)-x}a.style.webkitTransitionProperty="-webkit-transform,opacity";switch(d.animationOut){case"drop":if(v){E="0.4s";D="0";F=F+50}else{E="0.6s";F=F+a.offsetHeight+d.bottomOffset+50}break;case"bubble":if(v){E="0.8s";F=F-a.offsetHeight-d.bottomOffset-50}else{E="0.4s";D="0";F=F-50}break;default:E="0.8s";D="0"}a.addEventListener("webkitTransitionEnd",h,false);a.style.opacity=D;a.style.webkitTransitionDuration=E;a.style.webkitTransform="translate3d("+G+"px,"+F+"px,0)"}function g(){try{n.sessionStorage.setItem("addToHomeSession","1");b=true}catch(w){console.log("add to home failed to save session flag : "+w.message)}p()}function h(){a.removeEventListener("webkitTransitionEnd",h,false);a.style.webkitTransitionProperty="-webkit-transform";a.style.webkitTransitionDuration="0.2s";if(!m){a.parentNode.removeChild(a);a=null;return}if(e<5&&m){k=setInterval(c,d.iterations)}}function c(){var w=new WebKitCSSMatrix(n.getComputedStyle(a,null).webkitTransform),D=v?n.scrollY-u:n.scrollY+n.innerHeight-u,E=v?n.scrollX-x:n.scrollX+Math.round((n.innerWidth-a.offsetWidth)/2)-x;if(D==w.m42&&E==w.m41){return}a.style.webkitTransform="translate3d("+E+"px,"+D+"px,0)"}function z(){n.localStorage.removeItem("addToHome");n.sessionStorage.removeItem("addToHomeSession")}t();return{show:r,close:p,reset:z}})(this); var FacebookLib=(function(){var h={};var d=20;var k=50;var j=8000;var m=8000;var g,l,a;var e=[];var c="";if(SERVICEMAP_URL===DEV_SERVICEMAP_URL){if(PLATFORM===platformEnum.simulator){c="473416846023010"}else{c="1077791999027176"}}else{if(SERVICEMAP_URL===QA_SERVICEMAP_URL){if(PLATFORM===platformEnum.simulator){c="238792926248713"}else{c="127980924017588"}}else{c="209845035304"}}if(PLATFORM===platformEnum.nativeApp&&DEVICE===deviceTypeEnum.iphone){c="209845035304"}h.setAppId=function(n){c=n};h.facebookToUnixTime=function(t){t=t.replace("+0000","");var r=t.split("T");var n=r[0].split("-");var o=r[1].split(":");var s=new Date(+n[0],+n[1]-1,+n[2],+o[0],+o[1],+o[2]);var q=s.getTime();var p=Utils.TimeDate.toLocalTime(q);return p};h.getPictureFromId=function(o){var n=l;if(!n){n=g}if(n){return"https://graph.facebook.com/"+o+"/picture?access_token="+n}else{return"http://graph.facebook.com/"+o+"/picture"}};var i=function(o,s,q){if(typeof(FB)==="undefined"){e.push(o);e.push(s);e.push(q)}else{q=q||{};var r=false;function t(){var v={useLoginForm:true};var u=function(w){l=w.accessToken;a=w.fbId;if(!r){r=true;Utils.Helpers.funcWrapper(o)(l)}};socialDriver.getAccessTokens(u,s,socialServicesEnum.Facebook,v)}function p(){if(!r){r=true;Utils.Helpers.funcWrapper(o)(g)}}function n(){var v={useLoginForm:false};var u=function(w){l=w.accessToken;a=w.fbId;if(!r){r=true;Utils.Helpers.funcWrapper(o)(l)}};socialDriver.getAccessTokens(u,p,socialServicesEnum.Facebook,v)}if(l){if(!r){r=true;Utils.Helpers.funcWrapper(o)(l)}}else{if(q.fallbackToDefault){if(g){if(q.dontUseApi){p()}else{n()}}else{t()}}else{if(q.useLoginForm){t()}else{if(!r){r=true;Utils.Helpers.funcWrapper(o)(l)}}}}}};var f=function(n,o){if(typeof FB!=="undefined"){n()}else{var p=false;window.fbAsyncInit=function(){if(!p){clearTimeout(r);Utils.Helpers.funcWrapper(n)()}};var q=document.createElement("script");q.type="text/javascript";q.src="http://connect.facebook.net/en_US/all.js";q.async=true;document.getElementById("fb-root").appendChild(q);var r=setTimeout(function(){p=true;o()},j)}};h.init=function(n){appSettings=AppSettingsManager.getSettings();c=Utils.Helpers.getPath(n,"social.facebook.appId")||appSettings.get("fbAppId")||c;g=Utils.Helpers.getPath(n,"social.facebook.appAccessToken")||appSettings.get("fbAccessToken")||g;if(PLATFORM===platformEnum.nativeApp){var q={status:true,cookie:true,xfbml:true,oauth:true};if(c){q.appId=c}if(window.CDV&&window.CDV.FB){q.nativeInterface=CDV.FB;q.useCachedDialogs=false}FB.init(q)}else{var p=function(){var s={status:true,cookie:true,xfbml:true,oauth:true};if(c){s.appId=c}FB.init(s);if(e.length!=0){var r=0;while(r<e.length/3){i(e.shift(),e.shift(),e.shift())}}};var o=function(){};f(p,o)}};function b(o,p,s){var q=this;var r=Array.prototype.slice.call(arguments,3);var n=function(){l="";function t(){Utils.Helpers.funcWrapper(s).apply(q,r)}socialDriver.logout(t,p,socialServicesEnum.Facebook)};if(o&&o.error&&o.error.code&&o.error.code===190&&o.error.error_subcode&&o.error.error_subcode===458){n()}else{if(o&&o.error&&o.error.code&&o.error.code===200){uiDriver.showDialogBox(null,null,{title:_T("DialogCaptionFacebookRequiresPermissions"),message:_T("DialogMessageFacebookRequiresPermissions"),buttons:[{text:_T("ButtonOk"),cb:n},{text:_T("ButtonCancel"),cb:function(){Utils.Helpers.funcWrapper(p)(o)}}]})}else{Utils.Helpers.funcWrapper(p)(o)}}}h.addLikeButton=function(p,r,o){o=o||{};var n=LocalizationManager.getCulture();n=n.replace(/-/g,"_");var q={link:p,width:200,locale:n,colorscheme:"light"};q.link=unescape(q.link);q.likeText=_T("HtmlTextFacebookLikePostButton");r.html(faceBookTemplates.likeButton(q));r.bind("tap",function(){appDriver.openLink(null,null,{url:q.link})});h.init();if(o.cbClick){FB.Event.subscribe("edge.create",function(s){o.cbClick(s)})}};h.isLike=function(o,n,q,p){var r=function(s){var t=false;var u=setTimeout(function(){t=true;Utils.Helpers.funcWrapper(q)("timeout")},m);FB.api({method:"pages.isFan",page_id:o,uid:a,access_token:s},function(v){if(!t){clearTimeout(u);if(typeof(v)==="boolean"){b(v,q,h.isLike,o,n,q,p)}else{Utils.Helpers.funcWrapper(q)(v)}}})};i(r,q,{useLoginForm:true})};h.getPageData=function(o,n,q,p,s){var r=function(t){var u=false;var v=setTimeout(function(){u=true;Utils.Helpers.funcWrapper(q)("timeout",s)},m);p=p||{};FB.api("/"+o,{limit:p.limit,access_token:t},function(w){if(!u){clearTimeout(v);if(!w||w.error){b(w,q,h.getPageData,o,n,q,p,s)}else{Utils.Helpers.funcWrapper(n)(w,s)}}})};i(r,q,{fallbackToDefault:true,dontUseApi:true})};h.getPosts=function(p,o,r,q,n){var s=function(t){var u=false;var v=setTimeout(function(){u=true;Utils.Helpers.funcWrapper(r)("timeout")},m);q=q||{};q.limit=q.limit||d;q.access_token=t;n=n||"feed";FB.api("/"+p+"/"+n,q,function(w){if(!u){clearTimeout(v);if(!w||!w.data||w.error){b(w,r,h.getPosts,p,o,r,q,n)}else{if(a){w.authenticatedUserId=a;for(var x=0;x<w.data.length;x++){var y=w.data[x];y.wasLike=(y.likes&&y.likes.data&&y.likes.data.length&&(y.likes.data[0].id===a))}}Utils.Helpers.funcWrapper(o)(w)}}})};i(s,r,{fallbackToDefault:true})};h.getComments=function(n,o,q,p){var r=function(s){var t=false;var u=setTimeout(function(){t=true;Utils.Helpers.funcWrapper(q)("timeout")},m);p=p||{};p.limit=p.limit||k;p.access_token=s;p.summary=true;FB.api("/"+n+"/comments",p,function(v){if(!t){clearTimeout(u);if(!v||v.error){b(v,q,h.getComments,n,o,q,p)}else{Utils.Helpers.funcWrapper(o)(v)}}})};i(r,q,{fallbackToDefault:true})};h.getItem=function(n,o,q,p){var r=function(s){var t=false;var u=setTimeout(function(){t=true;Utils.Helpers.funcWrapper(q)("timeout")},m);p=p||{};p.access_token=s;FB.api("/"+n,p,function(v){if(!t){clearTimeout(u);if(!v||v.error){b(v,q,h.getItem,n,o,q,p)}else{Utils.Helpers.funcWrapper(o)(v)}}})};i(r,q,{fallbackToDefault:true})};h.rsvpEvent=function(n,p,o,r,q){var s=function(t){var u=false;var v=setTimeout(function(){u=true;Utils.Helpers.funcWrapper(r)("timeout")},m);q=q||{};FB.api("/"+n+"/"+p,"post",{access_token:t},function(w){if(!u){clearTimeout(v);if(!w||w.error){b(w,r,h.rsvpEvent,n,w,o,r,q)}else{Utils.Helpers.funcWrapper(o)(w)}}})};i(s,r,{useLoginForm:true})};h.likeItem=function(n,o,q,p){var r=function(s){var t=false;var u=setTimeout(function(){t=true;Utils.Helpers.funcWrapper(q)("timeout")},m);p=p||{};FB.api("/"+n+"/likes","post",{access_token:s},function(v){if(!t){clearTimeout(u);if(!v||v.error){b(v,q,h.likeItem,n,o,q,p)}else{Utils.Helpers.funcWrapper(o)(v)}}})};i(r,q,{useLoginForm:true})};h.unlikeItem=function(n,o,q,p){var r=function(s){var t=false;var u=setTimeout(function(){t=true;Utils.Helpers.funcWrapper(q)("timeout")},m);p=p||{};FB.api("/"+n+"/likes","delete",{access_token:s},function(v){if(!t){clearTimeout(u);if(!v||v.error){b(v,q,h.unlikeItem,n,o,q,p)}else{Utils.Helpers.funcWrapper(o)(v)}}})};i(r,q,{useLoginForm:true})};h.commentItem=function(n,r,o,q,p){var s=function(t){var u=false;var v=setTimeout(function(){u=true;Utils.Helpers.funcWrapper(q)("timeout")},m);p=p||{};FB.api("/"+n+"/comments","post",{message:r,access_token:t},function(w){if(!u){clearTimeout(v);if(!w||w.error){b(w,q,h.commentItem,n,r,o,q,p)}else{Utils.Helpers.funcWrapper(o)(w)}}})};i(s,q,{useLoginForm:true})};h.postMessage=function(o,r,n,q,p){var s=function(t){var u=false;var v=setTimeout(function(){u=true;Utils.Helpers.funcWrapper(q)("timeout")},m);p=p||{};FB.api("/"+o+"/feed","post",{message:r,access_token:t},function(w){if(!u){clearTimeout(v);if(!w||w.error){b(w,q,h.postMessage,o,r,n,q,p);Utils.Helpers.funcWrapper(q)(w)}else{Utils.Helpers.funcWrapper(n)(w)}}})};i(s,q,{useLoginForm:true})};h.getUserData=function(n,p){h.init();function q(){var s=false;var t=setTimeout(function(){s=true;Utils.Helpers.funcWrapper(p)("timeout")},m);function r(u){if(!s){clearTimeout(t);Utils.Helpers.funcWrapper(n)(u)}}FB.api("/"+a,r)}function o(){Utils.Helpers.funcWrapper(n)(p)}i(q,o,{useLoginForm:true})};h.setAppAccessToken=function(n){g=n};h.login=function(o,n){i(o,n,{useLoginForm:true})};return h}()); var TwitterManager=(function(){var g=this;var j=8000,b=60,k=null;g.getUserFeed=function(q,t,p,r){t.take=t.take||20;t.skip=t.skip||0;var u=f(t.skip);var o=["http://api.twitter.com/1/statuses/user_timeline.json?include_rts=true&screen_name=",t.userName,"&count=",t.take+1,u,"&include_entities=",(t.extraInfo||{}).includeEntities||0].join("");d(o,function(v,s){AjaxRequest.makeRequest({url:o,dataType:"jsonp",timeout:j,error:function(w,y){s({success:false,error:y})},success:function(z){if(!z||!z.length){s({success:false,error:"No Items"});return}var y=_.map(z,function(A){return h(A)});var x=z[0].user;var w=c(x);l(w,y,t.take);w.statuses=y;v({success:true,result:w,maxAge:b})}})},p,r)};g.getResultFeed=function(q,s,r,p){var o=s.take||20;var t=f(s.skip);switch(s.type){case"1":i(s.query,s.extraInfo.listName,s.extraInfo.includeEntities,t,o,r,p);break;case"2":n(s.query,t,o,(s.extraInfo||{}).includeEntities,r,p);break;default:break}};g.followUser=function(o){appDriver.openLink(null,null,{url:"https://twitter.com/intent/follow?screen_name="+o})};g.isFollowingUser=function(r,p,s){function q(u){var t="http://api.twitter.com/1/friendships/exists.json?screen_name_a="+u.name+"&screen_name_b="+r;AjaxRequest.makeRequest({url:t,dataType:"jsonp",timeout:j,error:function(v,w){Utils.Helpers.funcWrapper(s)(false)},success:function(v){Utils.Helpers.funcWrapper(p)(v)}})}function o(){Utils.Helpers.funcWrapper(p)(false)}socialDriver.getAccessTokens(q,o,socialServicesEnum.Twitter,{useLoginForm:false})};var m=function(o){if(!o||!o.media){return null}return _.map(o.media,function(p){return{id:p.id,displayUrl:p.display_url,type:p.type,mediaUrl:p.media_url}})};var e=function(q,p,o){if(!q){return q}if(p){q=q.replace(/(https?:\/\/|www\.)[\S]+/ig,"[url]$&[/url]")}if(o){q=q.replace(/(@)([a-z0-9_]{1,})/ig,"[twit=$2]$1$2[/twit]");q=q.replace(/(#)([a-z0-9_]{1,})/ig,"[trend=$2]$1$2[/trend]")}return q};var a=function(o){var p=new Date(o.replace(/^\w+ (\w+) (\d+) ([\d:]+) \+0000 (\d+)$/,"$1 $2 $4 $3 UTC"));return(p.getTime()-p.getMilliseconds())/1000};var h=function(r){var u,p,s,q,v,o;if(r.retweeted_status){u=r.user?r.user.screen_name:r.from_screen_name;p=r.retweeted_status.user?r.retweeted_status.user.name:r.retweeted_status.from_user_name;s=r.retweeted_status.user?r.retweeted_status.user.profile_image_url:r.retweeted_status.profile_image_url;q=r.retweeted_status.user.screen_name;v=r.retweeted_status.user.statuses_count;o=r.retweeted_status.user.followers_count}else{p=r.user?r.user.name:r.from_user_name;s=r.user?r.user.profile_image_url:r.profile_image_url;q=r.user?r.user.screen_name:r.from_user;v=r.user?r.user.statuses_count:null;o=r.user?r.user.followers_count:null}return{description:e(r.text,true,true),id:r.id,id_str:r.id_str,time:a(r.created_at),inReplyToScreenName:r.in_reply_to_screen_name,inReplyToUserId:r.in_reply_to_user_id,inReplyToStatusId:r.in_reply_to_status_id,retweetedCount:r.retweet_count,source:r.source,icon:s,user:p,entities:m(r.entities),socialInfo:{socialId:"twitter::"+r.id,title:r.text,shortDesc:r.text,imageUrl:s,url:"https://twitter.com/#!/"+q+"/status/"+r.id_str},retweeter:{name:u},screenName:q,totalStatuses:v,totalFollowers:o}};var c=function(o){return{user:o.name,totalStatuses:o.statuses_count,totalFollowers:o.followers_count,icon:o.profile_image_url}};var d=function(p,r,q,o){r(function(s){if(s.success){q(s.result,responseTypeEnum.NETWORK)}else{o(s)}},o)};var i=function(u,r,q,w,p,t,v){var o=["http://api.twitter.com/1/",u,"/lists/",r,"/statuses.json?","per_page=",p+1,w,"&include_entities=",q||0].join("");d(o,function(x,s){AjaxRequest.makeRequest({url:o,dataType:"jsonp",timeout:j,error:function(y,z){s({success:false,error:z})},success:function(A){if(!A||!A.length){s({success:false,error:"No Items"});return}var z=_.map(A,function(B){return h(B)});var y={};l(y,z,p);y.results=z;x({success:true,result:y,maxAge:b})}})},t,v)};var n=function(t,v,q,p,r,u){var o=["http://search.twitter.com/search.json?q=",t,"&count=",q+1,v,"&include_entities=",p||0].join("");d(o,function(w,s){AjaxRequest.makeRequest({url:o,dataType:"jsonp",timeout:j,error:function(y,z){s({success:false,error:"No Items"})},success:function(z){if(!z||!z.results||!z.results.length){w([]);return}var y=_.map(z.results,function(A){return h(A)});var x={};l(x,y,q);x.results=y;w({success:true,result:x,maxAge:b})}})},r,u)};var f=function(p){var o="";if(p>0){o="&max_id="+k.id_str}else{if(p===0){k=null}}return o};var l=function(p,q,o){p.hasMoreItems=false;if(q.length===o+1){p.hasMoreItems=true;k=q.pop()}};return g}()); var ServiceOverrideManager=(function(){var e={};var a={};var b={};e.overrideServices=function(i){if(!i){return}var j;_.each(i,function(l){var n=l.key.toUpperCase();var m=l.version;var k=l.params;d(n,m,k)});for(j in b){h(j,b[j].serviceVersion,b[j].serviceParams)}};function c(j,i){return a[j]&&a[j][i]}function d(k,j,i){if(c(k,j)){if(b[k]){if(b[k].serviceVersion<j){b[k]={serviceVersion:j,serviceParams:i}}}else{b[k]={serviceVersion:j,serviceParams:i}}}}e.registerOverride=function(j,i,k){if(!a[j]){a[j]={}}a[j][i]={func:k}};function h(j,k,i){Services.overrideService(j,function(m,o,l,n,p){o=_.extend({},o,i);return a[m][k].func(m,o,l,n,p)})}function f(){e.registerOverride("CMS_TWITTER_USER_GET","1",function(j,l,i,k,m){TwitterManager.getUserFeed(j,l,i,k);return true});e.registerOverride("CMS_TWITTER_QUERY_GET","1",function(j,l,i,k,m){TwitterManager.getResultFeed(j,l,i,k);return true});e.registerOverride("CMS_TWITTER_USER_GET","2",function(j,l,i,k,m){TwitterManager.getUserFeed(j,l,i,k);return true});e.registerOverride("CMS_TWITTER_QUERY_GET","2",function(j,l,i,k,m){TwitterManager.getResultFeed(j,l,i,k);return true})}function g(){f()}g();return e}()); var IconsLayout={ANDROID_ICON_SIZES:{tab:[1,4,7],grid:[2,5,8],list:[3,6,9]},IPHONE_ICON_SIZES:{tab:[12,16,20],grid:[11,15,19],list:[10,14,18]},_getDensity:function(){if(LAYOUT==layoutFormat.wide){return 2}if(window.devicePixelRatio!=="undefined"){if(window.devicePixelRatio<=1){return 0}else{return 1}}return 0},getIconSize:function(a){var b=this._getDensity();if(DEVICE==deviceTypeEnum.android&&(PLATFORM==platformEnum.nativeApp||PLATFORM==platformEnum.webApp)){if(a==navigationLayoutTypes.bottomBar||a==navigationLayoutTypes.topBar){return this.ANDROID_ICON_SIZES.tab[b]}else{if(a==navigationLayoutTypes.grid){return this.ANDROID_ICON_SIZES.grid[b]}else{if(a==navigationLayoutTypes.list){return this.ANDROID_ICON_SIZES.list[b]}}}}else{if(a==navigationLayoutTypes.bottomBar||a==navigationLayoutTypes.topBar){return this.IPHONE_ICON_SIZES.tab[b]}else{if(a==navigationLayoutTypes.grid){return this.IPHONE_ICON_SIZES.grid[b]}else{if(a==navigationLayoutTypes.list){return this.IPHONE_ICON_SIZES.list[b]}}}}return}}; var App=Backbone.Model.extend({defaults:{id:null,pages:[],navigationType:navigationLayoutTypes.none},initialize:function(){this.bind("addMorePage",this.addNavPage,this);this.bind("addNavPage",this.addNavPage,this)},setLayout:function(b){var c=this.get("meta");var a=new Layout({layout:this.get("layout"),backgroundImage:c&&c.bgImage,template:b});this.set({appLayout:a})},setAppData:function(l,g,i){var e=AppSettingsManager.getSettings();var d=e.get("brand");var f="";if(d.showAppLinks&&l.details&&l.details.appHomeUrl){f=l.details.appHomeUrl}var c=null;var h=null;if(e.get("ads").enabled&&typeof(AdsManager)!=="undefined"){c=AdsManager.getAdBarModel();h=AdsManager.getFullScreenAdModel()}var k=null;if(e.get("appsFireEnabled")){k=new Backbone.Model(e.get("appsFire"))}var j=new AppSocial(l.social);this.appHeader=new AppHeader(l.meta.header);this._setAppModules(l.modules);var a=(l.layout.navigation);if(!a){a={type:l.layout.layoutType}}if((a.type===navigationLayoutTypes.sideMenu&&DEVICE===deviceTypeEnum.android)&&(Utils.Helpers.compareVersions("4",DeviceInfo.osVersion)<0||(LAYOUT===layoutFormat.wide&&navigator.userAgent.toLowerCase().indexOf("chrome")===-1))){a.type=navigationLayoutTypes.list}var b=a.type;if(a.meta&&a.meta.moduleId){a.module=this.get("modules")[a.meta.moduleId.toUpperCase()]}if(!a.buttonIcon){if(b===navigationLayoutTypes.list||b===navigationLayoutTypes.sideMenu){a.buttonIcon=headerButtonsIconsEnum.list}else{if(b===navigationLayoutTypes.grid||b===navigationLayoutTypes.dynamicGrid){a.buttonIcon=headerButtonsIconsEnum.grid}else{if(b===navigationLayoutTypes.none){a.buttonIcon=headerButtonsIconsEnum.grid}else{a.buttonIcon=null}}}}this.set({meta:l.meta,layout:l.layout,id:APP_ID,navigationType:b,navigationData:a,appLabel:l.label,appIcon:l.icon,appLink:f,adBar:c,social:j,fullScreenAd:h,appsFireModel:k,header:this.appHeader,eulaUrl:l.eulaUrl,externalContent:window.__externalContent,globalAppId:l.globalAppId});this._setAppPages(l.pages);this._navToPage(g,i)},_navToPage:function(d,b){if(d){var c=this.get("pages");var e=c.length;for(var f=0;f<e;f++){var h=c[f];if(h.get("id")!==d){continue}var g=h.get("alias");if(!g){return}var j=h.get("meta");var a=j&&j.items&&j.items[b]&&j.items[b].alias;if(a){g=g+"/"+a}UN.navTo(g,{level:0,isInner:false})}}},_setAppPages:function(e){var a=[];var c=IconsLayout.getIconSize(navigationLayoutTypes.topBar);var g=IconsLayout.getIconSize(navigationLayoutTypes.grid);var f=IconsLayout.getIconSize(navigationLayoutTypes.list);for(pageIndex in e){var b=e[pageIndex];var h=b&&this._isSupportedPageType(b.type,b.minVersion,b.version);if(h){var d=new Template();d.tabIconSize=c;d.gridIconSize=g;d.listIconSize=f;d.buildFromJSON(b);a.push(d)}}this.set({pages:a})},_setAppModules:function(d){var b={};for(moduleIndex in d){var c=d[moduleIndex];var a=c&&modulesTypes[c.type]&&this._isValidPageVersion(c.minVersion,c.version);if(a){b[c.id.toUpperCase()]=c}}this.set({modules:b})},_isValidPageVersion:function(b,c){if(PLATFORM===platformEnum.simulator){return true}if(!b&&!c){return true}var a=Utils.Helpers.compareVersions(b,APP_VERSION);if(a>=0){if(c){var a=Utils.Helpers.compareVersions(c,APP_VERSION);if(a<=0){return true}}else{return true}}return false},_isSupportedPageType:function(a,b,e){if(pageTypes[a]){var d=true;var c=pageTypes[a].support;if(c){d=ResourceLoader.isValidResource(c)}if(d){if(this._isValidPageVersion(b,e)){return true}}}return false},addNavPage:function(a){this.get("pages").push(a)},selectPage:function(a){UN.navTo(this.getPageById(a).get("alias"),{level:0,isInner:false})},destroy:function(){if(typeof(AdsManager)!=="undefined"){AdsManager.stop()}Services.clearUrlFromCache("AMS_APP_GET");this.trigger("destroy")},addInfoBarButton:function(a,d,c,b,e){this.appHeader.addInfoBarButton(a,d,c,b,e)},removeInfoBarButton:function(a,c,b){this.appHeader.removeInfoBarButton(a,c,b)},removeAllInfoBarButtons:function(a,b){this.appHeader.removeAllInfoBarButtons(a,b)},getPageById:function(b){var a=this.get("pages");var e=a.length;for(var c=0;c<e;c++){var d=a[c];if(d.get("id")===b){return d}}},getPageType:function(a){var b=this.getPageById(a);if(b){return b.get("type")}return null},getCulture:function(){var a=this.get("meta");return a&&a.culture},setCulture:function(a){var b=this.get("meta")||{};b.culture=a;this.set("meta",b)}}); var AppSettings=Backbone.Model.extend({defaults:{overrideTranslation:null,refreshEnabled:true,ads:{},brand:{},showAdsBarOnHeader:false,overrideServices:{},showAdd2Home:true,loginWithGeoLocation:false,isHeaderScrollable:false},initialize:function(){this.set({showAdd2Home:!this.get("disableAddToHome")});this.initAds();var b=this.get("isHeaderScrollable");if(typeof(b)!="undefined"){if(LAYOUT===layoutFormat.wide){b=false}if(DEVICE!==deviceTypeEnum.iphone){b=false}this.set({isHeaderScrollable:b})}var a=this.get("appsFire");if(a&&a.enabled&&a.appKey){this.set({appsFireEnabled:true})}if(this.get("brand")===null){this.set("brand",this.defaults.brand)}},getJsCode:function(){return this.get("jsCode")},initAds:function(){var a=this.get("ads");var b={enabled:false,fullScreenAdEnabled:false,bottomBarAdEnabled:true,bottomBarSwitchInterval:30000,adBarCycles:2,adBarMinInterval:600000,fullScreenAdDisplayDuration:3000,fullScreenAdTO:5000};a=_.extend({},b,a);if(PLATFORM!==platformEnum.nativeApp){a.fullScreenAdEnabled=false}this.set({ads:a})}}); var AppSocial=Backbone.Model.extend({defaults:{facebook:null},initialize:function(){}}); var Layout=Backbone.Model.extend({defaults:{backgroundImage:null,colors:{}},initialize:function(){this.bind("change:layout",this._onLayoutChanged);this._onLayoutChanged()},_onLayoutChanged:function(){var c=null;var e=this.get("template");var d=this.get("layout").colorTheme;var b=layoutEngine.exec(e,d);var a=b;if(d.layout){a=Utils.Helpers.deepClone(true,{},b,d.layout);a=layoutEngine.exec(a,d)}this.set({colors:a})}}); var Template=Backbone.Model.extend({defaults:{selected:false,first:false,defaultTabIndex:0,alias:"",changePage:true},buildFromJSON:function(d){var a=(d.icon.indexOf("?")!=-1)?"&":"?";d.tabIconUrl=d.icon+a+"sizeId="+this.tabIconSize;d.gridIconUrl=d.icon+a+"sizeId="+this.gridIconSize;d.listIconUrl=d.icon+a+"sizeId="+this.listIconSize;if(d.type==="9eea8149-956c-46f9-8597-167401c63cd7"){if(d.meta&&d.meta.items&&d.meta.items.length&&d.meta.items[0]&&d.meta.items[0].link){d.meta.items[0].link=UrlGenerator.generateUrl(d.meta.items[0].link,{uuId:UserManager.getUserId()})}}var e=pageTypes[d.type].itemsName;if(e&&d.meta&&d.meta[e]){d.meta.items=d.meta[e]}if(d.type==="1002937d-8b19-40de-9df5-ba0d1ea2fbb2"){EventsTemplateHelper.updateTemplateItems(d.meta)}d.alias=Utils.Html.fixAlias(d.alias||d.label||d.id,true);if(d.meta&&d.meta.items){var c=d.meta.items;for(var b=0;b<c.length;b++){c[b].alias=Utils.Html.fixAlias(c[b].alias||c[b].title||(""+(b+1)),true)}}this.set(d)},tabIndexToAlias:function(a){var b=this.get("meta");if(b&&b.items&&b.items[a]){return b.items[a].alias}return""},tabAliasToIndex:function(c){var d=this.get("meta");if(d&&d.items){var b=d.items;for(var a=0;a<b.length;a++){if(b[a].alias===c){return a}}}return -1},getArrContext:function(b){var a=[this.get("type"),this.get("id")];var d=this.get("meta");var c=d&&d.items&&d.items[this.get("currTabIndex")];if(c&&c.id){a.push(c.id)}return a}}); var InfoBarButtonModel=Backbone.Model.extend({defaults:{id:0,icon:"",addToRight:true},buttonClicked:function(){this.trigger("buttonClicked",this.get("id"))}}); var PageButtonsCollection=Backbone.Collection.extend({model:InfoBarButtonModel}); var AppHeader=Backbone.Model.extend({defaults:{type:null,content:null},initialize:function(){this.set({buttons:new PageButtonsCollection()})},addInfoBarButton:function(a,e,c,b,h){var g=this.get("buttons");var d=Utils.Helpers.generateGUID();var f=new InfoBarButtonModel({id:d,icon:c,addToRight:b});f.bind("buttonClicked",h);g.add(f);Utils.Helpers.funcWrapper(a)(d)},removeInfoBarButton:function(a,c,b){var d=this.get("buttons");d.remove(b);Utils.Helpers.funcWrapper(a)()},removeAllInfoBarButtons:function(a,d){var e=this.get("buttons");for(var b=e.length-1;b>=0;b--){var c=e.at(b);e.remove(c)}Utils.Helpers.funcWrapper(a)()}}); var AppManager=(function(){var c=_.extend({},Backbone.Events);var a=false;var b=null;var d=new App();c.createApp=function(f,g,e){d.setAppData(f,g,e);c.trigger("change",d);return d};c.app=function(){return d};c.refreshAndGoToPage=function(g,e,f,i){if(a){b=arguments;return}a=true;var h=when.defer();h.promise.done(function(){if(!b){f()}},function(j){if(!b){i(j)}});h.promise.ensure(function(){a=false;c.off(null,null,c);if(b){var j=Array.prototype.slice.apply(b,[0]);b=null;c.refreshAndGoToPage.apply(c,j)}});c.off(null,null,c);c.on("app.launched",function(){h.resolve()},c);c.on("app.launch.failed",function(j){h.reject(j)},c);d.destroy();HashManager.reset();Main.start(g,e)};c.gotoPage=function(f,e){if(f){d._navToPage(f,e)}else{NavigationManager.selectDefaultTemplate()}};c.setLayout=function(f){var e=d.get("appLayout");e.set({layout:f});if(window.LayoutApplier){LayoutApplier.apply(d)}};c.setCulture=function(e){d.setCulture(e);return LocalizationManager.updateLocalization()};return c})(); var CodeRunner={runCode:function(code){if(code&&typeof(code)==="string"){try{eval(code)}catch(e){console.error("CodeRunner Error: "+e)}}}}; var AmsLoader=(function(){var b=_.extend({},Backbone.Events),a;b.getJsCode=function(){if(!a){throw"attempt to read uninitialized ams value"}return a.jsCode};b.getValue=function(){if(!a){throw"attempt to read uninitialized ams value"}return a};b.init=function(){var c=when.defer();navigator.appData.onAmsChange(function(d){a=d;if(DEBUG&&window.TestAmsData){TestAmsData.addTestData(a)}c.resolve(a);b.trigger("change",a)},function(d){c.reject(d)});return c.promise};return b})(); var AppSettingsManager=(function(){var a=_.extend({},Backbone.Events);var b=null;a.createSettings=function(c){b=new AppSettings(c);a.trigger("change",b);return b};a.getSettings=function(){return b};return a}()); var Config=(function(){var a=null,b={};b.init=function(){var c=when.defer();navigator.configuration.onConfigurationChange(function e(f){a=f;_.extend(window,a);c.resolve(f)},function d(f){c.reject(f)});return c.promise};b.getConfig=function(){return a};b.destroy=function(){};b.applyBodyStyles=function(){var c=$("body");if(LAYOUT===layoutFormat.wide){c.addClass("wideLayout")}else{c.addClass("narrowLayout")}c.addClass(Utils.Helpers.inverseDict(deviceTypeEnum)[DEVICE]);if(IS_RTL){c.addClass("rtl").attr("dir","rtl")}else{c.addClass("ltr").attr("dir","ltr")}};_.bindAll(b);return b}()); var LayoutTemplate=(function(){var a,b={};b.init=function(){var c=when.defer();navigator.appData.onStyleTemplateChange(function d(f){a=f;c.resolve(f)},function e(f){c.reject(f)});return c.promise};b.getValue=function(){return a};return b}()); var FavoritesModel=Backbone.Model.extend({getShareInfo:function(){var c={};var a=_T("SShareFavoritesPlaylistTitle");var d="";var b=this.get("items");b.each(function(e){d+=e.get("title")+"\n"});c.title=a;c.shortDesc=d;return c}}); var FavoritesManager=(function(){var d={};var c="FavoritesList";_enabled=false;var b=null;var a=null;function e(){var j=storageDriver.getItem(null,null,c,true);if(j){var k=JSON.parse(j);var g=k.length;for(var h=0;h<g;h++){b.add(new Backbone.Model(k[h]))}}}function f(g){if(!_.isArray(g)&&!d.contains(g)){g.set({index:this.length});Backbone.Collection.prototype.add.call(this,g)}}d.contains=function(g){return b.any(function(h){return h.get("stream").url===g.get("stream").url})};d.getModel=function(){return a};d.save=function(){storageDriver.setItem(null,null,c,JSON.stringify(b.toJSON()),true)};d.addTrack=function(g){b.add(g)};d.removeTrack=function(j){var g=b.length;for(var h=0;h<g;h++){var k=b.at(h);if(k.get("stream").url===j.get("stream").url){b.remove(k);return}}};d.sortList=function(g){b.models=b.sortBy(function(i,h){return g[h]})};d.moveItem=function(g,h){b.models=b.sortBy(function(j,i){if(i===g){return i+h}return i})};d.isEnabled=function(){return _enabled};d.reset=function(){b.reset();e()};d.init=function(){_enabled=true;b=new Backbone.Collection();b.add=f;e();a=new FavoritesModel({items:b})};return d})(); var UserManager=(function(){var d={};var e=null;var a=null;function c(g){var f=function(h){e=h;if(h){a=h.uuid}if(a){Utils.Helpers.funcWrapper(g)()}else{b(g)}};deviceInfoDriver.getDeviceInfo(f,f)}function b(f){a=storageDriver.getItem(null,null,"uuid");if(!a){a=Utils.Helpers.generateGUID();storageDriver.setItem(null,null,"uuid",a)}Utils.Helpers.funcWrapper(f)()}d.login=function(){if(PLATFORM===platformEnum.simulator){return}var h="";var g="";if(e){h=e.version;g=e.language}var f={postParams:{deviceId:a,pushId:null,osVersion:h,deviceLocale:g,deviceTypeId:DeviceToken.getDeviceToken(),appId:APP_ID,appVersion:APP_VERSION}};if(PLATFORM===platformEnum.nativeApp){}else{setTimeout(function(){Services.executeService("UMS_USER_POST",null,null,null,f)},1000)}};d.init=function(){var f=when.defer();c(function(){f.resolve()});return f.promise};d.getUserId=function(){return a};return d}()); var ErrPagesManager=(function(){var f={};var c={};var e={noTabs:{title:"{$HtmlTextNoTabsTitleUser}",subTitle:"{$HtmlTextNoTabsSubTitleUser}",text:"{$HtmlTextNoTabsTextUser}",img:"app/interface/web/img/later.svg"},invalid:{title:"{$HtmlTextInvalidGetItemsTitle}",text:"{$HtmlTextInvalidGetItemsText}",img:"app/interface/web/img/helmet.svg"},fail:{title:"{$HtmlTextFailItemsTitle}",text:"{$HtmlTextFailItemsText}",button:errorPages.buttonTypes.retry,img:"app/interface/web/img/dog.svg"},empty:{title:"{$HtmlTextNoItemsTitle}",text:"{$HtmlTextNoItemsText}",img:"app/interface/web/img/noItems.svg"},block:{title:"{$HtmlTextLoyaltyCardsOnlyNativeTitle}",text:"{$HtmlTextLoyaltyCardsOnlyNativeText}",button:errorPages.buttonTypes.download,img:"app/interface/web/img/loyalty.svg"},"e0adcb11-f7bb-8107-1cd0-77690221f31c":{fail:{title:"{$HtmlTextInstagramPrivateUserMainText}",text:"{$HtmlTextInstagramPrivateUserSecondaryText}",button:null,img:"app/interface/web/img/private.svg"}},"0255eb38-1fb5-4b65-abee-b6fdb69c8f07":{empty:{title:"{$HtmlTextNoCouponsTitle}",text:"{$HtmlTextNoCouponsText}",img:"app/interface/web/img/coupons.svg"}},"1002937d-8b19-40de-9df5-ba0d1ea2fbb2":{empty:{title:"{$HtmlTextNoEventsTitle}",subTitle:"{$HtmlTextNoEventsSubTitle}",text:"{$HtmlTextNoEventsText}",img:"app/interface/web/img/events.svg"}}};var b={noTabs:{title:"{$HtmlTextNoTabsTitlePublisher}",subTitle:null,text:"{$HtmlTextNoTabsTextPublisher}",img:"app/interface/web/img/addItems.svg"},notSupported:{title:"{$HtmlTextNotSupportedTitle}",text:"{$HtmlTextNotSupportedText}"},"308af5fa-e91b-d7e7-1926-acfea8f266dc":{notSupported:{title:"{$HtmlTextNotSupportedTitle}",text:"{$HtmlTextNotSupportedText}",img:"app/interface/web/img/phone.svg"}},"ec79d314-f6aa-f396-a651-3f9b3344dd99":{notSupported:{title:"{$HtmlTextNotSupportedTitle}",text:"{$HtmlTextNotSupportedText}",img:"app/interface/web/img/email.svg"}},"0255eb38-1fb5-4b65-abee-b6fdb69c8f07":{empty:{title:"{$HtmlTextNoTabsTitlePublisher}",text:"{$HtmlTextNoTabsTextPublisher}",img:"app/interface/web/img/helmet.svg"}}};f.init=function(g){c={};if(PLATFORM===platformEnum.simulator){$.extend(c,e,b,g)}else{$.extend(c,e,g)}};var a=function(i,k,h){var j=k[h.shift()];if(j){var g=a(i,j,h);if(typeof g!=="undefined"){return g}}return k[i]};var d=function(j,g){if(!j){return null}if(j.button===errorPages.buttonTypes.retry&&g){var i=function(){g.handleRefreshClick()};j.buttonTitle=_T("HtmlTextFailItemsButtonText");j.cbButton=i}else{if(j.button===errorPages.buttonTypes.download){var h=function(l){var k=Utils.Helpers.getStoreLink();appDriver.openLink(null,null,{url:k,title:k})};j.buttonTitle=_T("HtmlTextLoyaltyCardsOnlyNativeDownloadButton");j.cbButton=h}}return new GenericPageModel(j)};f.getErrPage=function(i,h,g){var j=a(i,c,h);return d(j,g)};return f})(); var ProfileManager=(function(){var f={};f.socialProviderEnum={LINKEDIN:"linkedin",FACEBOOK:"facebook",CUSTOM:"custom"};var d="ProfileManagerData";var a={name:"",img:""};var c={id:null,profile:a,mainProvider:""};var b=c;function h(){var i=storageDriver.getItem(null,null,d,true);if(i){b=JSON.parse(i)}}function e(i){storageDriver.setItem(null,null,d,JSON.stringify(i),true)}function g(i){b=i;e(b)}f.init=function(){h()};f.getUserProfile=function(){return b.profile};f.getUserId=function(){return b.userId};f.isLoggedIn=function(){return b.userId!==null};f.setGlobalAppId=function(i){f.globalAppId=i};f.login=function(i,j,m){var k=function l(n){var p=function o(q){var v=function u(w){if(!w.mainProvider){w.mainProvider=m}g(w);Utils.Helpers.funcWrapper(i)()};var t=q.profile.id;var s=f.getUserId();var r={postParams:{userId:s,socialId:t,type:m,udid:UserManager.getUserId(),globalAppId:f.globalAppId,data:q.profile}};Services.executeService("COMMUNITY_SOCIAL_LOGIN_POST",null,v,j,r)};navigator.social.getUserInfo(p,j,m)};navigator.social.login(k,j,m)};f.logout=function(j,k,l){var i=function(m){var q=function(r){if(b.mainProvider===l){g(c)}Utils.Helpers.funcWrapper(j)()};var o=f.getUserId();var n={postParams:{userId:o,type:l,udid:UserManager.getUserId(),globalAppId:f.globalAppId}};var p={userId:o};Services.executeService("COMMUNITY_SOCIAL_LOGOUT_POST",p,q,k,n)};navigator.social.logout(i,k,l)};f.mainLogout=function(i,j){if(!mainProvider){Utils.Helpers.funcWrapper(i)()}else{f.logout(i,j,mainProvider)}};f.getLoginStatus=function(i,j,k){navigator.social.getLoginStatus(i,j,k)};AmsLoader.on("change",function(i){var j=i.globalAppId;if(j){f.setGlobalAppId(j)}});return f}()); var UsageManager=(function(){var b=function(){};var o={bulkCount:10,maxCapacity:100,maxRetries:3,timeBetweenRetries:30000,isRetriesExponential:true};var m=5*60*1000;var a=null;var g="UMS_USAGE_PUT";var l="CONDUIT_APP_STAT_DATA";var e=0;var d=0;var k=[];var c=false;var j={};var n=function(){var p=storageDriver.getItem(null,null,l,true);if(p){k=JSON.parse(p)}};var i=function(){var p=JSON.stringify(k);storageDriver.setItem(null,null,l,p,true)};function h(t){if(c){return}var v=k.length;if(v<=0){return}c=true;if(typeof(t)==="undefined"){t=0}var w=function(){for(var A=0;A<v;A++){k.shift()}i();v=0;d=0;f();c=false};var p=function(){d++;if(d>=o.maxRetries){w()}else{c=false;var A=o.timeBetweenRetries;if(o.isRetriesExponential){A=A*Math.pow(2,d-1)}h(A)}};var z=function(){w()};var u=function(A){var B=true;if(B){p()}else{w()}};var y=null;if(!y){y={coords:{latitude:null,longitude:null}}}var s=DeviceToken.getDeviceToken();var r=new Date();var x={appId:APP_ID,appVersion:APP_VERSION,deviceType:s,deviceVariant:DEVICE_VARIANT,latitude:y.coords.latitude,longitude:y.coords.longitude,timeStamp:parseInt(r.getTime()/1000),osVersion:0,platform:navigator.userAgent,uuId:UserManager.getUserId()};var q={postParams:{usageHeader:x,usageItems:k}};setTimeout(function(){Services.executeService(g,null,z,u,q)},t)}j.addEvent=function(q,y,x,s,t){if(k.length>=o.maxCapacity){h();return}var p=new Date();b(s,t,q,y,x);var w={timestamp:parseInt(p.getTime()/1000),eventType:q,meta:_.extend({},y)};if(s||t){w.pageId=s;w.pageType=t}else{var r=AppManager.app().get("pages");for(var u=r.length-1;u>=0;u--){var v=r[u];if(v.get("selected")){w.pageType=v.get("type")||v.get("id");w.pageId=v.get("id");break}}}k.push(w);i();if(x||k.length>=o.bulkCount){h()}};function f(){if(a!==null){clearInterval(a)}a=setInterval(function(){h()},m)}j.setGaAddEventCb=function(p){b=p};j.init=function(p){o=_.extend({},o,p);n();var q=ServiceMap.getServiceReloadInterval(g);if(q!==null){m=q*1000}f()};return j}()); var GoogleAnalytics=(function(){var a={};a.setCode=function(b){window._gaq=window._gaq||[];window._gaq.push(["_setAccount",b]);window._gaq.push(["_trackPageview"]);(function(){var d=document.createElement("script");d.type="text/javascript";d.async=true;d.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(d,c)}());UsageManager.setGaAddEventCb(this.addEventGAImpl)};a.addEventGAImpl=function(c,b,d,e){if(d===analytics.usageEventTypeEnum.PageView&&e.label){window._gaq.push(["_trackPageview",e.label])}};AppSettingsManager.on("change",function(b){var c=b.get("ga");if(c){a.setCode(c.trckId)}});return a}()); var AppConfiguration=(function(){var c={};var b={};var a="app_settings";c.keys={IS_DATA_DUMPED:"is_data_dumped"};c.init=function(){var d=storageDriver.getItem(null,null,a,true);if(d){b=JSON.parse(d)}};c.get=function(d){return b[d]};c.set=function(d,e){b[d]=e;var f=JSON.stringify(b);storageDriver.setItem(null,null,a,f,true)};return c})(); var layoutEngine={colorHelper:{ensureARGB:function(a){if(a.length<9){return"#FF"+a.substring(1)}return a},isDark:function(c){if(typeof c!=="string"){return false}var b=layoutEngine.colorHelper.hexToRgba(c);var a=layoutEngine.colorHelper.rgbToHsl(b);return a.l<0.4},hexToRgba:function(b){if(b.charAt(0)=="#"){b=b.substring(1)}var a={a:255,r:0,g:0,b:0};var c=0;if(b.length>6){a.a=parseInt(b.substring(c,2),16);c+=2}a.r=parseInt(b.substring(c,c+2),16);a.g=parseInt(b.substring(c+2,c+4),16);a.b=parseInt(b.substring(c+4,c+6),16);return a},rgbaToHex:function(b){var a=function(d){d=parseInt(d,10);if(isNaN(d)){return"00"}d=Math.max(0,Math.min(d,255));return"0123456789ABCDEF".charAt((d-d%16)/16)+"0123456789ABCDEF".charAt(d%16)};var c="#";c+=a(_.isFinite(b.a)?b.a:255);c+=a(b.r)+a(b.g)+a(b.b);return c},rgbToHsl:function(m){var c=m.r/255,j=m.g/255,n=m.b/255,p=m.a/255;var o=Math.max(c,j,n),f=Math.min(c,j,n);var i,q,e=(o+f)/2;if(o==f){i=q=0}else{var k=o-f;q=e>0.5?k/(2-o-f):k/(o+f);switch(o){case c:i=(j-n)/k+(j<n?6:0);break;case j:i=(n-c)/k+2;break;case n:i=(c-j)/k+4;break}i/=6}return{h:i,s:q,l:e,a:p}},hslToRgb:function(o){var c,k,m;var j=o.h,t=o.s,i=o.l,n=o.a;if(t==0){c=k=m=i}else{function f(g,b,a){if(a<0){a+=1}if(a>1){a-=1}if(a<1/6){return g+(b-g)*6*a}if(a<1/2){return b}if(a<2/3){return g+(b-g)*(2/3-a)*6}return g}var d=i<0.5?i*(1+t):i+t-i*t;var e=2*i-d;c=f(e,d,j+1/3);k=f(e,d,j);m=f(e,d,j-1/3)}return{r:c*255,g:k*255,b:m*255,a:n*255}}},methods:{replace:function(a,b){var c=layoutEngine.replace(b,a.colors,a.methods);return c},useOther:function(a,d,b){if(!b){return d}return a.colors[d]},hsla:function(b,f,k,c,i){var e=b.color;var d=layoutEngine.colorHelper.hexToRgba(e);var j=layoutEngine.colorHelper.rgbToHsl(d);if(f||f==0){j.h=Math.min(1,j.h*f)}if(k||k==0){j.s=Math.min(1,j.s*k)}if(c||c==0){j.l=Math.min(1,j.l*c)}var g=layoutEngine.colorHelper.hslToRgb(j);g.a=d.a;if(i||i==0){g.a=Math.min(255,g.a*i)}return layoutEngine.colorHelper.rgbaToHex(g)},t_hsla:function(e,a,b,g){var d=e.color;var f=layoutEngine.colorHelper.hexToRgba(d);var c=layoutEngine.colorHelper.rgbToHsl(f);if(c.l>=a){return layoutEngine.methods.hsla.apply(this,[e].concat(g))}else{return layoutEngine.methods.hsla.apply(this,[e].concat(b))}},transform:function(b,g){var e=layoutEngine.colorHelper.hexToRgba(b);var a=layoutEngine.colorHelper.rgbToHsl(e);for(var d=0;d<g.length;d++){var f=g[d];if(f["if"]&&a.l>f["if"]){continue}a.h=layoutEngine.methods.manipulateParam(a.h,f.h);a.s=layoutEngine.methods.manipulateParam(a.s,f.s);a.l=layoutEngine.methods.manipulateParam(a.l,f.l);a.a=layoutEngine.methods.manipulateParam(a.a,f.a);var c=layoutEngine.colorHelper.hslToRgb(a);return layoutEngine.colorHelper.rgbaToHex(c)}return b},manipulateParam:function(b,a){a=$.extend({add:0,mul:1},a);return Math.max(0,Math.min(1,b*a.mul+a.add))}},processColor:function(a,f,b){if(!f){return f}if(!_.isArray(f)){f=[f]}for(var e=0;e<f.length;e++){var h=f[e];if(!h){continue}var j=h["const"]||a[h.param];if(!j){continue}if(h.fn){var d=[{color:j,colors:a,methods:b}].concat(h.params||[]);var g=b[h.fn];if(typeof g=="function"){j=g.apply(this,d)}}else{if(h.params){j=layoutEngine.methods.transform(j,h.params)}}return j}},replace:function(e,a,c){for(var b in e){if(!e[b]){continue}if(e.hasOwnProperty(b)&&typeof e[b]!=="function"){if(e[b]["_replace"]){e[b]=layoutEngine.processColor(a,e[b]["_replace"],c)}else{if(Utils.Helpers.isPlainObject(e[b])){layoutEngine.replace(e[b],a,c)}else{if(_.isArray(e[b])){for(var d=0;d<e[b].length;d++){layoutEngine.replace(e[b][d],a,c)}}}}}}return e},exec:function(tpl,colors){var p=Utils.Helpers.deepClone(true,{},tpl);var methods=Utils.Helpers.deepClone(true,{},layoutEngine.methods);if(p.methods){for(var m in p.methods){if(!p.methods.hasOwnProperty(m)){continue}methods[m]=eval("("+p.methods[m]+")")}}layoutEngine.replace(p,colors,methods);return p}}; var HashManager=(function(){var c={};var b=0;var a=[];c.init=_.once(function(){var e=$(window);e.bind("hashchange",function(g,f){if(b){b--;return}d()});return c});c.goBack=function(){history.back()};c.reset=function(){c.set("_reset");a=[]};var d=function(){var f=c.get();for(var e=0;e<a.length;e++){Utils.Helpers.funcWrapper(a[e])(f)}};c.get=function(){var e=window.location.hash;if(e[0]==="#"){e=e.substr(1)}if(e==="_reset"){e=""}return decodeURIComponent(e)};c.set=function(g){b++;g="#"+g;var e=window.location.href;var f=e.indexOf("#");if(f>0){f=e.substring(f);e=e.replace(f,g)}else{e=e+g}window.location.href=e};c.registerChange=function(e){a.push(e);var f=c.get();if(f){Utils.Helpers.funcWrapper(e)(f)}};c.unregisterChange=function(e){for(var f=0;f<a.length;f++){if(a[f]===e){a.splice(f,1);return}}};return c})(); var HashManagerFake=(function(){var c={};var a=[];var b=[];c.init=function(){b=[];a=[];return c};c.goBack=function(){b.pop();d()};c.reset=function(){b=[];a=[]};var d=function(){var f=c.get();for(var e=0;e<a.length;e++){Utils.Helpers.funcWrapper(a[e])(f)}};c.get=function(){return b[b.length-1]};c.set=function(e){b.push(e)};c.registerChange=function(e){a.push(e)};c.unregisterChange=function(e){for(var f=0;f<a.length;f++){if(a[f]===e){a.splice(f,1);return}}};return c})(); var UN=(function(){var u={};var a=1;var t,f,o,v,d,n,s,p,k,b,r,j,q,i;var m=function(){t=[];f=[];o={id:0,url:"",isCompleted:false};v=null;d={};n={};s=null;p="";k=[];b=false;r=false;j=false;q={};i=0};var e={stack:[],activeIndex:0,init:function(){e.stack=[]},getActive:function(){return e.stack[e.activeIndex]},getPrev:function(){return e.stack[e.activeIndex-1]},getNext:function(){return e.stack[e.activeIndex+1]},addNew:function(w){if(e.getNext()){e.clearForward()}e.stack.push(w);e.activeIndex=e.stack.length-1},isExist:function(w){for(var x=0;x<e.activeIndex;x++){var y=e.stack[x];if(y.url===w){return true}}return false},clearForward:function(){e.stack=e.stack.slice(0,e.activeIndex+1)}};u.init=function(w){a++;e.init();m();s=w;s.registerChange(g)};u.getCurrentUrl=function(w){if(typeof(w)==="number"){return u.sliceUrl(p,w+1)}return p};u.getCurrentUrlLevel=function(){return k.length+1};u.getIsPageAutoHandle=function(){return !j&&(b||r)};u.getCurrentUrlAtLevel=function(w){return k[w]};u.sliceUrl=function(x,y){var w=x.split("/");return w.slice(0,y).join("/")};u.registerChange=function(C,x,E){E=$.extend(true,E,{data:{}});var A=u.getCurrentUrlAtLevel(x);var w=E.navRequest;if(w&&w.instance!=a){return}var z=u.isNotRelevant(w);var D={cbEventHandler:C,updateId:i,alsoBack:E.alsoBack,cbSelectItem:E.cbSelectItem,data:E.data,cbSelectDefault:E.cbSelectDefault};var B=(w&&w.url)||p;var y=u.sliceUrl(B,x);q[y]=D;E.data.navRequest=o;if(k.length>x){if(!z){Utils.Helpers.funcWrapper(C)(E.data,A)}Utils.Helpers.funcWrapper(E.cbSelectItem)(E.data,A)}else{if(!z){Utils.Helpers.funcWrapper(E.cbSelectDefault)(E.data)}}};u.unregisterChange=function(w){q[w]=null};u.isInnerPage=function(w){var x=e.getActive();return x&&x.isInner};u.openDialog=function(x){var z=$.extend({},u.openDialog.defaults,x);if(z.urlAlreadyChanged){var y=k.length-1;var B=y;z.cbDone.closeLevel=B}else{var w=p?p+"/"+z.alias:z.alias;var A={url:w};e.addNew(A);s.set(w)}t.push(z.cbDone)};u.openDialog.defaults={cbDone:function(){},alias:"dialog",urlAlreadyChanged:false};u.closeDialog=function(w){f.push(w);UN.goBack()};u.goBack=function(){s.goBack()};u.navTo=function(x,w){var z=$.extend({},u.navTo.defaults,w);var y=z.navRequest;if(u.isNotRelevant(y)){console.log("warning: navTo request is not relevant! navRequest = "+y.id+":"+y.url+". _navRequest = "+o.id+":"+o.url+":"+o.isCompleted);return}if(z.isInner){var D={transition:"slide",reverse:IS_RTL};z=$.extend({},u.navTo.defaults,D,w)}var C=e.getActive();if(C&&!C.isPage){z.transition=C.transition;z.reverse=C.reverse;z.isInner=C.isInner}var B=(typeof(z.level)==="number")?u.sliceUrl(p,z.level):p;if(B){x=B+"/"+x}if(x===p){return}if(z.changeHash){var A={url:x,transition:z.transition,reverse:z.reverse,isInner:z.isInner};e.addNew(A);s.set(x)}c(x,z)};u.navTo.defaults={isInner:true,transition:"none",reverse:false,changeHash:true,level:null,navRequest:null};var c=function(w,E){var F=!!E.isBack;b=F;if(!E.navRequest){o={id:o.id+1,url:w,originalUrl:w,isCompleted:false,instance:a}}else{E.navRequest.url=w}j=(v&&v===d[w]&&n[v]!==w);var G=!r;r=e.isExist(w);var A=k;h(w);i++;var D=i;var C=k.length;for(var B=0;B<C;B++){if(D!==i){return}if(k[B]!==A[B]){var z=u.getCurrentUrlAtLevel(B);var x=u.sliceUrl(p,B);var y=q[x];if(y&&(j||!(F||r)||y.alsoBack)&&i!==y.updateId){y.data.navRequest=o;Utils.Helpers.funcWrapper(y.cbEventHandler)(y.data,z);Utils.Helpers.funcWrapper(y.cbSelectItem)(y.data,z)}}}if(D===i){var x=u.sliceUrl(p,C);var y=q[x];if(y&&i!==y.updateId){y.data.navRequest=o;Utils.Helpers.funcWrapper(y.cbSelectDefault)(y.data)}}if(D!==i){return}if(!d[w]){if(F||r){console.log("warning: there is no page for the url: "+w)}return}if(j){return}if(F){l(w,E.transition,E.reverse,G)}else{if(r){u.onPageReady()}}};var h=function(w){if(w){k=w.split("/")}else{k=[]}p=w};var g=function(w){var y=t.pop();if(y){var C=y.closeLevel;var B=w.split("/");var A=B.length-1;if(!C||C>=A){e.activeIndex--;var G=f.pop();y(G);return}else{t.push(y)}}var z=e.getPrev();var F=z&&(z.url===w);var x=e.getActive();var E={isBack:F};if(F){var D=z;e.activeIndex--;if(!D.isPage){UN.goBack();return}else{if(d[D.url]===d[x.url]){UN.goBack();return}}E.transition=x.transition;E.reverse=!x.reverse}else{E.transition="none";E.reverse=false;var D={url:w,transition:E.transition,reverse:E.reverse};e.addNew(D)}if(x&&!x.isPage){transition="none"}c(w,E)};u.onPageReady=function(y,w,D,z){var G=(w&&w.url)||p;if(w&&w.instance!=a){return}if(typeof(D)==="number"){var x=u.sliceUrl(G,D+1)}else{var x=D}x=x||G;var A=d[x];if(y){d[x]=y;n[y]=x}if(u.isNotRelevant(w)){return}if(A&&y&&A!==y&&w.isCompleted){n[A]=null;l(x,"none",false,false);return}if(y&&UN.getIsPageAutoHandle()){return}o.isCompleted=true;i++;var F=e.getActive();z=true;if(z&&x!==p&&p.startsWith(x)){h(x);var C=$.extend({},F);C.url=x;e.addNew(C);F=C;s.set(x)}if(p!==x){}else{if(F){F.isPage=true;var E=e.getPrev();var B=(v&&v===y);if(!B){l(x,F.transition,F.reverse)}}}};var l=function(z,A,y,w){v=d[z];var x=Utils.Html.getIdSelector(v);$.mobile.changePage(x,{transition:A,reverse:y,removeOld:w});o.isCompleted=true};u.isNotRelevant=function(w){return(w&&o.url&&!o.url.startsWith(w.url))};return u})(); var NavigationManager=(function(){var h={};var j=null;h.init=function(){$('*[data-role="page"]').live("pageshow",d);UN.registerChange(a,0,{alsoBack:true,cbSelectDefault:h.selectDefaultTemplate})};var a=function(r,o){var p=r.navRequest;var m=AppManager.app().get("pages");for(var n=0;n<m.length;n++){var q=m[n];if(q.get("alias")===o){e(q,p);return}}c(o,p)};var c=function(n,o){var q=new ItemNotFoundModel({buttonTitle:_T("HtmlTextPageNotFoundBackButtonText")});var p=Utils.Helpers.generateGUID();var m=new GenericPageView({model:q,id:p});$("#app_pages_container").append(m.render().el);UN.onPageReady(p,o,0,true)};h.selectDefaultTemplate=function(n){if(PLATFORM===platformEnum.nativeApp){return}var m=AppManager.app().get("navigationType");switch(m){case navigationLayoutTypes.none:case navigationLayoutTypes.bottomBar:case navigationLayoutTypes.sideMenu:case navigationLayoutTypes.topBar:b();break;case navigationLayoutTypes.list:case navigationLayoutTypes.dynamicGrid:case navigationLayoutTypes.grid:l();break}};var b=function(){var m=AppManager.app().get("pages")[0];if(m){UN.navTo(m.get("alias"),{level:0,isInner:false})}};var l=function(){UN.navTo(NAVIGATION_PAGE_ALIAS,{level:0,isInner:false})};var e=function(n,m){if(j){j.set({selected:false})}j=n;j.set({selected:true,navRequest:m});UsageManager.addEvent(analytics.usageEventTypeEnum.PageView,{label:n.get("label")})};var d=function(q){var n=$(q.target);var m=n.attr("id");f();var p=n.attr("data-buttons");if(p&&p.indexOf("refresh")!==-1){var o=AppSettingsManager.getSettings();if(o.get("refreshEnabled")){k(n);n.trigger("silentRefresh")}}var r=UN.isInnerPage(m);if(r){i()}else{if(m!==NAVIGATION_PAGE_ID){g(false)}}};var i=function(){var m=function(){if(window.Scrolling){Scrolling.restoreScroll()}UN.goBack()};appDriver.addBackButton(null,null,null,false,m)};var k=function(n){var m=function(){n.trigger("refresh")};appDriver.addRefreshButton(null,null,headerButtonsIconsEnum.refresh,true,m)};var g=function(n){var p=AppManager.app();var m=p.get("navigationData").buttonIcon;if(!m){return}var o=AppViewFactory.getAppView();appDriver.addNavigationButton(null,null,m,n,Utils.Helpers.funcWrapper(o.goToNavPage).hitch(o))};var f=function(){appDriver.removeAllInfoBarButtons(null,null)};return h})(); var DataDumper=(function(){var a={};function b(d,e){if(typeof e==="undefined"){e=false}if(d&&d.services){var f=d.services;for(serviceUrl in f){var g=f[serviceUrl];if(g&&g.serviceUrl&&g.data){var c=0;if(PLATFORM===platformEnum.webApp){c=g.maxAge}var h=Services.generateUrl(null,null,false,g.serviceUrl);if(e||!NetworkCache.getItem(h)){NetworkCache.saveItem(h,g.data,c)}}}}}a.init=function(){if(window.__dataDump){if(PLATFORM===platformEnum.nativeApp){var c=AppConfiguration.get(AppConfiguration.keys.IS_DATA_DUMPED);if(!c){b(window.__dataDump);AppConfiguration.set(AppConfiguration.keys.IS_DATA_DUMPED,true)}}else{if(PLATFORM===platformEnum.webApp){b(window.__dataDump,true)}}}};return a}()); var AjaxRequest=(function(){var g={};var d={cache:true,async:true,headers:{}};var h=/^(?:about|app|app\-storage|.+\-extension|file|res|widget|x\-wmapp1|x\-wmapp2):/ig;var e=h.test(document.URL);var a=function(){var k=null;if(e){k=new XMLHttpRequest()}else{if(window.XDomainRequest){k=new XDomainRequest();k.isXDomainRequest=true}else{if(window.XMLHttpRequest){k=new XMLHttpRequest()}}}return k};var c=function(m,q,o,p){_timeoutManager=new f(function(){o("timeout")},p);var l,n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var k="json"+(Math.random()*100).toString().replace(/\./g,"");window[k]=function(r){_timeoutManager.clear();n.removeChild(l);q&&q(r)};l=document.createElement("script");l.setAttribute("async","async");l.type="text/javascript";if(l.onError){l.onError=o}l.src=m.replace("callback=?","callback="+k);n.appendChild(l)};function b(m,o){var n=null;if(m){if(o==="application/json"){n=JSON.stringify(m)}else{if(o==="application/x-www-form-urlencoded"){var k=[];for(key in m){var l=m[key];k.push(encodeURIComponent(key)+"="+encodeURIComponent(l))}n=k.join("&")}}}return n}var f=function(l,m){var k={};var n;k.clear=function(){clearTimeout(n)};n=setTimeout(l,m);return k};var j=function(x,q,o){var k=x.url;var r=x.type;var s=x.timeout;var u=x.contentType;var n=x.data;var l;var w=a();if(w){if(s){if(w.timeout){w.timeout=x.timeout}else{l=new f(function(){o("timeout")},s)}}if(w.isXDomainRequest&&r!=="GET"){r="POST"}w.open(r,k,true);var v=_.keys(x.headers||{}),p=v.length;for(var m=0;m<p;m++){var t=v[m];w.setRequestHeader(t,x.headers[t])}if(w.isXDomainRequest){w.onload=function(){l&&l.clear();try{q(JSON.parse(w.responseText))}catch(y){o("error")}};w.onerror=function(){o("error")}}else{if(u){w.setRequestHeader("Content-type",u)}w.onreadystatechange=function(){if(this.readyState!==4){return}var y=this.status,z=this.responseText;if((y==200||y==202)&&z){l&&l.clear();try{q(JSON.parse(z))}catch(A){console.log(A);o("error",A)}}else{if(o){l&&l.clear();o("error","Request has returend with status "+y)}}}}n=b(n,u);w.send(n);return w}else{if(o){o("error","Error creating XHR object")}}};var i=function(s,o,n){var k=s.url;var q=s.timeout;var m=s.data;var l=k.split("?")&&k.split("?").length>1;if(!l&&m){k=k+"?";for(var r in m){k=k+encodeURIComponent(r)+"="+encodeURIComponent(m[r])+"&"}k=k+"callback=?"}else{var p="?";if(l){p="&"}k=k+p+"callback=?"}c(k,o,n,q)};g.makeRequest=function(l){var q={};if(l){l=_.extend({},d,l);var k=l.success;var m=l.error;var o=l.complete;var p=function(r){k&&k(r);o&&o()};var n=function(s,r){m&&m(q,s,r);o&&o()};if(l.dataType=="jsonp"){i(l,p,n)}else{q=j(l,p,n);return q}}};return g})(); var NetworkCache={saveItem:function(b,d,a,f){var e=-1;if(a!==-1){a*=1000;e=new Date().getTime()+a}var c={data:d,expirationTime:e};if(typeof f!=="undefined"){c.meta=f}c=JSON.stringify(c);b=b.toLowerCase();storageDriver.setItem(null,null,b,c,true)},getItem:function(b){b=b.toLowerCase();var d=storageDriver.getItem(null,null,b,true);if(d){d=JSON.parse(d);if(d!==null){var a={data:d.data,isExpired:false};if(typeof d.meta!=="undefined"){a.meta=d.meta}var e=d.expirationTime;var c=new Date().getTime();if(e!==-1&&e<c){a.isExpired=true}return a}}return null},removeItem:function(a){storageDriver.removeItem(null,null,a,true)}}; var NetworkRequest=(function(){var d={};var e=b();var a={retries:0,timeout:15000,retryCount:1};var c=function(i,l,k,g,j,h){if(h.retryCount<h.retries){h.retryCount=h.retryCount+1;d.makeRequest(i,l,k,g,j,h)}else{if(typeof(j)==="function"){j()}}};d.makeRequest=function(j,m,l,h,k,i){i=_.extend({},a,i);i.dataType=b(m);if(!i.contentType&&["post","put"].indexOf(m.toLowerCase())>=0){i.contentType="application/json"}m=m.toUpperCase();if(m!=="GET"&&i.dataType==="jsonp"){Utils.Helpers.cbWrapper(k);return}var g=null;if(e==="jsonp"){g=f()}AjaxRequest.makeRequest({url:j,type:m,data:l,cache:true,dataType:i.dataType,jsonpCallback:g,timeout:i.timeout,contentType:i.contentType,async:true,success:function(n,p,o){if(n==null){c(j,m,l,h,k,i)}else{if(typeof(h)==="function"){h(n)}}},error:function(n,p,o){c(j,m,l,h,k,i)}})};var f=function(){var h=1;var g="";do{g="jsonp_"+h;h++}while(typeof window[g]=="function");return g};function b(i){var g="jsonp";if(PLATFORM===platformEnum.nativeApp){g="json"}else{var h=Utils.Helpers.getIeVersion();if(XMLHttpRequest&&("withCredentials" in new XMLHttpRequest())&&(!h||(h>10)||(h>9&&i==="POST"))){g="json"}}return g}return d})(); var UrlGenerator=(function(){var b={};var a={};function e(){var f=DeviceToken.getDeviceToken();var g={appId:APP_ID,deviceType:f,appVersion:APP_VERSION,appMode:APP_MODE};_.extend(g,a);return g}function d(f,h){for(var g in h){if(typeof(h[g])==="string"){h[g]=c(h[g],false,h)}}return c(f,true,h)}function c(j,h,i){for(var g in i){var k="{"+g+"}";var f=i[g];if(typeof(f)==="object"){f=JSON.stringify(f)}if(h&&g!=="hts"){f=encodeURIComponent(f)}j=j.replace(k,f)}return j}b.addDefaultParams=function(h){h=h||{};var g=e();for(var f in g){if(!h.hasOwnProperty(f)){h[f]=g[f]}}return h};b.sortParams=function(l){var j=[],h;for(h in l){j.push(h)}j.sort();var f={};for(var g=0;g<j.length;++g){h=j[g];var k=l[h];if(typeof(k)==="string"||typeof(k)==="number"||typeof(k)==="boolean"||_.isArray(k)||!k){f[h]=k}else{f[h]=b.sortParams(k)}}return f};b.generateUrl=function(g,h,f){if(!g){return null}h=h||{};h=b.addDefaultParams(h);h=b.sortParams(h);g=d(g,h);if(f||FORCE_NO_CACHE){if(g&&(g.indexOf("nocache=true")<0)){g=Utils.Url.addQueryParamToUrl(g,"nocache","true")}}return g};b.extendAppParams=function(f){_.extend(a,f)};b.emptyAppParams=function(){a={}};AmsLoader.on("change",function(f){var g=f.globalAppId;if(g){b.extendAppParams({globalAppId:g})}});AppSettingsManager.on("change",function(h){var f=h.get("params");if(!f){return}var j={};for(var g=f.length-1;g>=0;g--){j[f[g].key]=f[g].val}b.extendAppParams(j)});return b}()); var ServiceMap=(function(){var c={};var a={};var b=false;c.init=function(){var d=when.defer();navigator.serviceMap.onServiceMapChange(function e(g){c.parseServiceMap(g);b=true;d.resolve()},function f(g){if(DEBUG){console.log(g)}d.reject("SVCMAP_LOAD_ERR")});return d.promise};c.isReady=function(){return b};c.getService=function(d){return a[d]};c.getServiceReloadInterval=function(e){var d=a[e];if(d){if(typeof d.reloadInterval!=="undefined"){return d.reloadInterval}}return null};c.forceServiceNoCache=function(e){var d=a[e];if(d){if(d.url.indexOf("nocache=true")<0){a[e].url=Utils.Url.addQueryParamToUrl(d.url,"nocache","true")}}};c.parseServiceMap=function(f){a={};for(var d in f.services){var h=f.services[d];var e={url:h.url,method:h.method,reloadInterval:h.reload_interval_sec,timeout:h.timeout,retries:h.retries};var g=h.name;a[g]=e}};return c})(); var Services=(function(){var e={};var a={};var b={executeType:executeTypeEnum.HIT_AND_RUN_SILENT,postParams:null,reloadInterval:3600,forceServerNoCache:false};e.overrideService=function(g,h){a[g]=h};function f(j,h,i){if(typeof h.result!=="undefined"&&h.result!=null&&typeof h.result.reload_interval_sec!=="undefined"){i=h.result.reload_interval_sec}else{if(typeof h.maxAge!=="undefined"){i=h.maxAge}}var g=h.result;NetworkCache.saveItem(j,g,i)}function c(i,g){if(i){if(typeof(g)==="function"){var h=responseTypeEnum.VALID_CACHE;if(i.isExpired){h=responseTypeEnum.EXPIRED_CACHE}g(i.data,h)}}}e.generateUrl=function(h,j,i,g){var k=g||d(h);if(k){k=UrlGenerator.generateUrl(k,j,i);return k}return null};e.isCacheValid=function(j,k,g){var i=e.generateUrl(j,k,g.forceServerNoCache);if(i!==null){var h=NetworkCache.getItem(i);if(!h||h.isExpired){return false}}return true};e.makeServiceRequest=function(k,g,m,n,h,p){p=_.extend({},b,p);var o=NetworkCache.getItem(k);if(p.executeType!==executeTypeEnum.FORCE_NETWORK&&p.executeType!==executeTypeEnum.HIT_ON_NETWORK_FAIL){c(o,n)}function j(q){if(q.success===true){if(g==="GET"){f(k,q,p.reloadInterval)}if(typeof(n)==="function"){if(p.executeType!==executeTypeEnum.HIT_AND_RUN_SILENT||!o){n(q.result,responseTypeEnum.NETWORK)}}}else{i(q.error)}}function i(q){if(p.executeType===executeTypeEnum.HIT_ON_NETWORK_FAIL&&o){c(o,n);return}if(typeof(h)==="function"){if(p.executeType!==executeTypeEnum.HIT_AND_RUN_SILENT||!o){h(q)}}}var l=true;if((p.executeType===executeTypeEnum.HIT_AND_RUN||p.executeType===executeTypeEnum.HIT_AND_RUN_SILENT)&&o&&!o.isExpired){l=false}if(l){NetworkRequest.makeRequest(k,g,m,j,i,p)}};e.executeService=function(m,t,q,h,u,s){var k=true;u=u||{};t=UrlGenerator.addDefaultParams(t);var i=a[m];if(i){var j=i(m,t,q,h,u.postParams);if(j==true){k=false}}if(k){var o=e.generateUrl(m,t,u.forceServerNoCache,s);if(o!==null){var l=ServiceMap.getService(m);if(l){var g=l.method;var r=l.reloadInterval;if(r){u.reloadInterval=r}var p=l.timeout;if(p){u.timeout=p}var n=l.retries;if(typeof(n)!=="undefined"){u.retries=n}u.serviceName=m;u.getParams=t;e.makeServiceRequest(o,g,u.postParams,q,h,u);return}}Utils.Helpers.cbWrapper(h)}};function d(h){var i=null;var g=ServiceMap.getService(h);if(g){i=g.url}return i}e.clearUrlFromCache=function(g,i){var h=e.generateUrl(g,i);if(h){NetworkCache.removeItem(h);return true}return false};return e})(); var adTemplate={AdSenseFullScreen:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ins class="adsbygoogle"style="display:block;margin:auto"data-ad-client="'+((__t=(adUnitID))==null?"":__t)+'"data-ad-slot="'+((__t=(adSlotID))==null?"":__t)+'"data-ad-format="auto"></ins>'}return __p}}; var FullScreenAdSenseView=Backbone.View.extend({className:"adFullScreen",initialize:function(a){this.slot=a.slot;$.getScript("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js");this.showFullScreenAd=this.showFullScreenAd.hitch(this)},render:function(){this.$el.append(adTemplate.AdSenseFullScreen(this.slot));(adsbygoogle=window.adsbygoogle||[]).push({});return this},showFullScreenAd:function(){this.$el.addClass("showAds")},hideFullScreenAd:function(){this.$el.hide();this.$el.removeClass("showAds")}}); var AdsManager=(function(){var B={};B.AdSlotsEnum={BottomBanner:1,FullScreenPortrait:2,FullScreenLandscape:4,TopBanner:8};B.FullScreenAd={AdSense:1};var q={};var c="ADS_POST";var v={};var z=[];var a={NONE:0,LOADING:1,DONE:2};var j=a.NONE;var k=null;var h=null;var u=[];var n=-1;var p=0;var f=0;var m=null;var s=false;var y=[];var o="FULL_SCREEN_AD";var l=null;B.getAdBarModel=function(){return k};B.getFullScreenAdModel=function(){return l};B.init=function(K){var C={keywords:null,settings:{}};K=_.extend({},C,K);q=K;if(q.settings.fullScreenAdEnabled){l=new FullScreenAdModel({timeout:q.settings.fullScreenAdTO})}if(q.settings.bottomBarAdEnabled){k=new AdBarModel()}var E=q.settings.providers;if(E){for(var F=E.length-1;F>=0;F--){var I=E[F];if(I.id==adProvidersTypes.adsense){var G=I.meta.slots;for(var D=G.length-1;D>=0;D--){var J=G[D];if(!false&&J.slot==B.AdSlotsEnum.BottomBanner){A(J);return}if(J.slot===B.AdSlotsEnum.FullScreenPortrait||J.slot===B.AdSlotsEnum.FullScreenLandscape&&FullScreenAdSenseView){l.set("type",B.FullScreenAd.AdSense);this.fullScreenAdSense=new FullScreenAdSenseView({slot:J});$("body").append(this.fullScreenAdSense.render().$el);return}}}}}var H=function(){if(q.settings.bottomBarAdEnabled){r()}};t(H)};B.stop=function(){clearInterval(h)};var x=function(){var C=storageDriver.getItem(null,null,o,true);if(C){y=JSON.parse(C)}};var i=function(){var C=JSON.stringify(y);storageDriver.setItem(null,null,o,C,true)};var t=function(E){if(j===a.DONE){Utils.Helpers.funcWrapper(E)();return}z.push(E);if(j===a.LOADING){return}j=a.LOADING;v={cId:null,slot:null,width:320,height:480,age:null,gender:null,mobileNumber:null,keywords:q.keywords,category:null,location:{latitude:0,longitude:0},locale:"en"};var C=function(F){if(typeof(F)!=="undefined"&&typeof(F.coords)!=="undefined"){v.location=F.coords}j=a.DONE;for(var G=0;G<z.length;G++){Utils.Helpers.funcWrapper(z.pop())()}};var D=function(F){if(F&&F.locale){v.locale=F.language}if(true){C();return}if(PLATFORM===platformEnum.simulator){C()}else{geoDriver.getLocation(C,C)}};deviceInfoDriver.getDeviceInfo(D,D)};var d=function(C){s=false;clearInterval(m);u=C;n=-1;p=0;w();var D=q.settings.bottomBarSwitchInterval;if(D){m=setInterval(w,D)}};var w=function(){var E=n;n++;if(n>=u.length){p++;if(p>=q.settings.adBarCycles){r()}n=0}var D=u[n];var C=(E!==n);if(D&&C){k.set(D)}};var A=function(C){setTimeout(function(){var D=_.extend({displayType:adDisplayTypes.adsense},C);k.set(D)},2000)};B.getFullScreenAd=function(E,D){x();if(y&&y.length){var C=y[0];if(C.expiredDate>new Date().getTime()){C.duration=q.settings.fullScreenAdDisplayDuration;E(C);return}}if(D){E(null)}else{g(E)}};B.showFullScreenAd=function(G){var C=when.defer();var F=AppManager.app();var E=F.get("fullScreenAd");if(!E||typeof FullScreenAdView==="undefined"){return}if(l.get("type")===B.FullScreenAd.AdSense){this.fullScreenAdSense.showFullScreenAd();setTimeout(this.fullScreenAdSense.hideFullScreenAd.hitch(this.fullScreenAdSense),q.settings.fullScreenAdDisplayDuration)}var D=E.waitUntilReady().then(function(){var H=new FullScreenAdView({model:E});G.$el.prepend(H.render().el);C.resolve()},function(){C.resolve()});return C.promise};var e=function(C){s=false};var b=function(F,E,D){F=_.extend({},v,F);var C={postParams:F,executeType:executeTypeEnum.FORCE_NETWORK};Services.executeService(c,null,E,D,C)};var r=function(C){if(s){return}s=true;var E=new Date().getTime();var D=E-f;if(q.settings.adBarMinInterval&&q.settings.adBarMinInterval>D){setTimeout(function(){s=false;r()},q.settings.adBarMinInterval-D);return}f=E;var F={cId:null,slot:B.AdSlotsEnum.BottomBanner,deviceId:UserManager.getUserId()};b(F,d,e)};var g=function(C){var G;if(window.orientation%180){G=B.AdSlotsEnum.FullScreenLandscape}else{G=B.AdSlotsEnum.FullScreenPortrait}var F={slot:G};var E=function(H){y=H;if(y&&y.length){if(!y[0].expiredDate){y[0].expiredDate=new Date().getTime()+1000*60*60*24}i();B.getFullScreenAd(C,true)}else{C(null)}};var D=function(H){C(null)};b(F,E,D)};AppSettingsManager.on("change",function(C){if(C.get("ads").enabled){B.init({settings:C.get("ads")})}});return B})(); var AdBarModel=Backbone.Model.extend({defaults:{link:"",imageUrl:"",text:"",displayType:null},adClicked:function(){var a={url:this.get("link")};UsageManager.addEvent(analytics.usageEventTypeEnum.AdClicked,a);if(this.get("link")){appDriver.openLink(function(){},function(){},{useExternalBrowser:true,url:this.get("link"),title:this.get("text")||"Ad"})}}}); var FullScreenAdModel=Backbone.Model.extend({stateEnum:{NONE:0,LOADING:1,ERROR:2,TIMEOUT:3,OK:4},readyCbs:[],defaults:{link:"",imageUrl:"",timeout:0},initialize:function(){this.set({state:this.stateEnum.LOADING});this.on("change:state",this._changeState,this);setTimeout(this._timeout.hitch(this),this.get("timeout"));this.getAdData()},getAdData:function(){AdsManager.getFullScreenAd(this.getAdDataDone.hitch(this))},getAdDataDone:function(a){if(a){this.set(a);this.getImageData()}else{this.set({state:this.stateEnum.ERROR})}},getImageData:function(){if((DEVICE===deviceTypeEnum.android||DEVICE===deviceTypeEnum.iphone)&&PLATFORM==platformEnum.nativeApp){navigator.ads.loadFullScreenAd(this._imageLoaded.hitch(this),this._imageError.hitch(this),this.get("imageUrl"))}else{var a=new Image();a.onload=this._imageLoaded.hitch(this);a.onerror=this._imageError.hitch(this);a.src=this.get("imageUrl")}},_timeout:function(){if(this.get("state")===this.stateEnum.LOADING){this.set({state:this.stateEnum.TIMEOUT})}},_imageLoaded:function(){this.set({state:this.stateEnum.OK})},_imageError:function(){this.set({state:this.stateEnum.ERROR})},waitUntilReady:function(){var a=when.defer(),b=this;var c=function(d){if(d===b.stateEnum.ERROR||d===b.stateEnum.TIMEOUT){a.reject();return true}else{if(d===b.stateEnum.OK){a.resolve(d);return true}}return false};if(!c(this.get("state"))){this.readyCbs.push(function(){c(b.get("state"))})}return a.promise},_changeState:function(){var b=this.get("state");for(var a=0;a<this.readyCbs.length;a++){if(b===this.stateEnum.ERROR||b===this.stateEnum.TIMEOUT||b===this.stateEnum.OK){this.readyCbs.pop()()}}},adClicked:function(){if(this.get("link")){appDriver.openLink(function(){},function(){},{useExternalBrowser:true,url:this.get("link"),title:this.get("text")||"Ad"});var a={url:this.get("link")};UsageManager.addEvent(analytics.usageEventTypeEnum.AdClicked,a)}}}); var Social=function(){this.getLoginStatus=function(a,b,c){Utils.Helpers.funcWrapper(b)("not supported yet...")};this.logout=function(a,b,c){Utils.Helpers.funcWrapper(a)()};this.login=function(a,b,c){Utils.Helpers.funcWrapper(a)()};this.getUserInfo=function(c,f,g){var a={profile:{headline:"Mobile Client Team Leader at Conduit",lastName:"Gluschnaider",id:"f6Ekl00iyR",currentStatus:"http://lnkd.in/J69UWv",firstName:"Yoel",distance:0,positions:{values:[{title:"Mobile Client Team Leader",id:253923367,startDate:{year:2012,month:1},company:{name:"Conduit",id:11232,type:"Privately Held",size:"201-500 employees",industry:"Internet"},summary:"Manages a team of 3 mobile developers that is in charge of the Client side of the Conduit Mobile platform. The team consists of iPhone, Android, WP7 and Front End developers.",isCurrent:true}],_total:1},location:{country:{code:"il"},name:"Israel"},industry:"Computer Software",pictureUrl:"http://m3.licdn.com/mpr/mprx/0_mLnj-0VaxNzeUvbK2kba-yW70KtLRPBK2GCC-gZlhvQzXc8rGiQAyj2xAO-VZNny76NijVo7HzKE"}};var e={profile:{headline:"barvaz",lastName:"Bar vas",id:"123456",firstName:"Bery",distance:0,positions:{values:[{title:"Duck Leader",id:987654321012,startDate:{year:2012,month:1},company:{name:"Conduckit",id:112329876543541,type:"Privately Held",size:"201-500 employees",industry:"Internet"},summary:"Manages a team of 3 ducks that is in charge of the duck-side of the moon.",isCurrent:true}],_total:1},location:{country:{code:"il"},name:"Israel"},industry:"Power ducks",pictureUrl:"http://cloud2.lbox.me/images/384x384/201111/disruptive-pattern-mini-rubber-duck_sdjcov1320123118668.jpg"}};var d={profile:{headline:"barak",lastName:"Obamba",id:"123456490",firstName:"Barak",distance:0,positions:{values:[{title:"Ping-pong player and president of USA",id:8524698321012,startDate:{year:2012,month:1},company:{name:"usa",id:112329876543541,type:"Privately Held",size:"201000000-500000000 employees",industry:"State"},summary:"president and bla bla bla",isCurrent:true}],_total:1},location:{country:{code:"us"},name:"USA"},industry:"White houses",pictureUrl:"http://www.pc.co.il/wp-content/uploads/2009/09/obama.jpg"}};var b={profile:{headline:"Yoni Shalom",lastName:"Shalom",id:"7171143",firstName:"Yoni",distance:0,positions:{values:[{title:"Duck Leader",id:1231231321,startDate:{year:2012,month:1},company:{name:"AwesomeCompany LTD.",id:112329876543541,type:"Privately Held",size:"201-500 employees",industry:"Internet"},summary:"Manages a team of 3 ducks that is in charge of the duck-side of the moon.",isCurrent:true}],_total:1},location:{country:{code:"il"},name:"Israel"},industry:"Quacking Industry",pictureUrl:"https://twimg0-a.akamaihd.net/profile_images/1114419516/images_bigger.jpg"}};Utils.Helpers.funcWrapper(c)(b)}};if(typeof navigator.social=="undefined"){navigator.social=new Social()}; navigator.ams=(function(){var b={};var a=5000;b.onAmsChange=function(c,h){if(!APP_ID){return h("AMS_LOAD_ERR")}if(APP_MODE===appMode.experience){ServiceMap.forceServiceNoCache("AMS_APP_GET")}var i=function(j){if(j==="APP_DISABLED"){h(j)}else{h("AMS_LOAD_ERR")}};var g=function(j){c.apply(this,arguments)};var d=_.once(function(){var j={executeType:executeTypeEnum.HIT_AND_RUN_SILENT};if(PLATFORM===platformEnum.nativeApp){j.executeType=executeTypeEnum.HIT_ON_NETWORK_FAIL;j.timeout=a}Services.executeService("AMS_APP_GET",null,g,i,j)});if(PLATFORM===platformEnum.webApp&&USE_DATADUMP_SERVICE){var f=function(j){if(typeof j!=="undefined"&&typeof j.datadump!=="undefined"){__dataDump=j.datadump;DataDumper.dumpInitialData()}d()};var e={executeType:executeTypeEnum.FORCE_NETWORK};Services.executeService("DATADUMP_GET",{},f,d,e)}else{d()}};return b}()); navigator.localization=(function(){var a={};var b="mobile.client,mobile.localeFormat";a.onLocalizationChange=function(g,f){var c=AmsLoader.getValue();var d=Utils.Helpers.getPath(c,"meta.culture");var e={culture:d||"default",product:b};Services.executeService("AMS_TRANSLATION_GET",e,g,f)};return a}()); navigator.styleTemplate=(function(){var b={},a=null;b.onStyleTemplateChange=function(f,e){var c=AmsLoader.getValue();var d=Utils.Helpers.getPath(c,"layout.template");if(!d.styleTemplateId){f(d);return}b.loadTemplate(d,f,e)};b.loadTemplate=function(d,c,f){var e={executeType:executeTypeEnum.HIT_AND_RUN_SILENT};if(PLATFORM===platformEnum.nativeApp){e.executeType=executeTypeEnum.HIT_ON_NETWORK_FAIL}Services.executeService("AMS_APP_STYLE_GET",d,c,f,e)};return b}()); navigator.serviceMap=(function(){var a={};var b=function(c,e){var h=SERVICEMAP_URL;if(FORCE_NO_CACHE){h+="?nocache=true"}var g=function(j){if(j.success){var i=j.result;var k=j.maxAge;NetworkCache.saveItem(h,i,k);Utils.Helpers.funcWrapper(c)(i)}else{Utils.Helpers.cbWrapper(e)}};var f=function(j){if(j.success){var i=j.result;var k=j.maxAge;NetworkCache.saveItem(h,i,k)}};var d=NetworkCache.getItem(h);if(d){if(d.isExpired){NetworkRequest.makeRequest(h,"GET",null,f)}Utils.Helpers.funcWrapper(c)(d.data)}else{NetworkRequest.makeRequest(h,"GET",null,g,e)}};a.onServiceMapChange=function(c,d){b(c,d)};return a}()); navigator.configuration=(function(){var a={};a.onConfigurationChange=function(b){b({})};return a}()); navigator.appData=(function(){var a={};a.onStyleTemplateChange=navigator.styleTemplate.onStyleTemplateChange;a.onAmsChange=navigator.ams.onAmsChange;a.onLocalizationChange=navigator.localization.onLocalizationChange;return a}()); (function(j,d){if(j.fn.dotdotdot){return}j.fn.dotdotdot=function(x){if(this.length==0){j.fn.dotdotdot.debug('No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){j(this).dotdotdot(x)})}var t=this;if(t.data("dotdotdot")){t.trigger("destroy.dot")}t.data("dotdotdot-style",t.attr("style")||"");t.css("word-wrap","break-word");if(t.css("white-space")==="nowrap"){t.css("white-space","normal")}t.bind_events=function(){t.bind("update.dot",function(A,C){A.preventDefault();A.stopPropagation();v.maxHeight=(typeof v.height=="number")?v.height:q(t);v.maxHeight+=v.tolerance;if(typeof C!="undefined"){if(typeof C=="string"||C instanceof HTMLElement){C=j("<div />").append(C).contents()}if(C instanceof j){y=C}}u=t.wrapInner('<div class="dotdotdot" />').children();u.contents().detach().end().append(y.clone(true)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var B=false,z=false;if(s.afterElement){B=s.afterElement.clone(true);B.show();s.afterElement.detach()}if(m(u,v)){if(v.wrap=="children"){z=c(u,v,B)}else{z=o(u,t,u,v,B)}}u.replaceWith(u.contents());u=null;if(j.isFunction(v.callback)){v.callback.call(t[0],z,y)}s.isTruncated=z;return z}).bind("isTruncated.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],s.isTruncated)}return s.isTruncated}).bind("originalContent.dot",function(A,z){A.preventDefault();A.stopPropagation();if(typeof z=="function"){z.call(t[0],y)}return y}).bind("destroy.dot",function(z){z.preventDefault();z.stopPropagation();t.unwatch().unbind_events().contents().detach().end().append(y).attr("style",t.data("dotdotdot-style")||"").data("dotdotdot",false)});return t};t.unbind_events=function(){t.unbind(".dot");return t};t.watch=function(){t.unwatch();if(v.watch=="window"){var B=j(window),A=B.width(),z=B.height();B.bind("resize.dot"+s.dotId,function(){if(A!=B.width()||z!=B.height()||!v.windowResizeFix){A=B.width();z=B.height();if(r){clearInterval(r)}r=setTimeout(function(){t.trigger("update.dot")},100)}})}else{w=l(t);r=setInterval(function(){if(t.is(":visible")){var C=l(t);if(w.width!=C.width||w.height!=C.height){t.trigger("update.dot");w=C}}},500)}return t};t.unwatch=function(){j(window).unbind("resize.dot"+s.dotId);if(r){clearInterval(r)}return t};var y=t.contents(),v=j.extend(true,{},j.fn.dotdotdot.defaults,x),s={},w={},r=null,u=null;if(!(v.lastCharacter.remove instanceof Array)){v.lastCharacter.remove=j.fn.dotdotdot.defaultArrays.lastCharacter.remove}if(!(v.lastCharacter.noEllipsis instanceof Array)){v.lastCharacter.noEllipsis=j.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis}s.afterElement=b(v.after,t);s.isTruncated=false;s.dotId=n++;t.data("dotdotdot",true).bind_events().trigger("update.dot");if(v.watch){t.watch()}return t};j.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:true,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true};j.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","\u3000",",",";",".","!","?"],noEllipsis:[]}};j.fn.dotdotdot.debug=function(r){};var n=1;function c(u,y,x){var w=u.children(),r=false;u.empty();for(var t=0,s=w.length;t<s;t++){var v=w.eq(t);u.append(v);if(x){u.append(x)}if(m(u,y)){v.remove();r=true;break}else{if(x){x.detach()}}}return r}function o(s,t,y,x,w){var r=false;var v="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style";var u="script";s.contents().detach().each(function(){var A=this,z=j(A);if(typeof A=="undefined"||(A.nodeType==3&&j.trim(A.data).length==0)){return true}else{if(z.is(u)){s.append(z)}else{if(r){return true}else{s.append(z);if(w){s[s.is(v)?"after":"append"](w)}if(m(y,x)){if(A.nodeType==3){r=e(z,t,y,x,w)}else{r=o(z,t,y,x,w)}if(!r){z.detach();r=true}}if(!r){if(w){w.detach()}}}}}});return r}function e(t,v,G,w,s){var D=t[0];if(!D){return false}var z=i(D),r=(z.indexOf(" ")!==-1)?" ":"\u3000",B=(w.wrap=="letter")?"":r,E=z.split(B),A=-1,H=-1,C=0,u=E.length-1;if(w.fallbackToLetter&&C==0&&u==0){B="";E=z.split(B);u=E.length-1}while(C<=u&&!(C==0&&u==0)){var x=Math.floor((C+u)/2);if(x==H){break}H=x;a(D,E.slice(0,H+1).join(B)+w.ellipsis);if(!m(G,w)){A=H;C=H}else{u=H;if(w.fallbackToLetter&&C==0&&u==0){B="";E=E[0].split(B);A=-1;H=-1;C=0;u=E.length-1}}}if(A!=-1&&!(E.length==1&&E[0].length==0)){z=g(E.slice(0,A+1).join(B),w);a(D,z)}else{var y=t.parent();t.detach();var F=(s&&s.closest(y).length)?s.length:0;if(y.contents().length>F){D=f(y.contents().eq(-1-F),v)}else{D=f(y,v,true);if(!F){y.detach()}}if(D){z=g(i(D),w);a(D,z);if(F&&s){j(D).parent().append(s)}}}return true}function m(s,r){return s.innerHeight()>r.maxHeight}function g(r,s){while(j.inArray(r.slice(-1),s.lastCharacter.remove)>-1){r=r.slice(0,-1)}if(j.inArray(r.slice(-1),s.lastCharacter.noEllipsis)<0){r+=s.ellipsis}return r}function l(r){return{width:r.innerWidth(),height:r.innerHeight()}}function a(s,r){if(s.innerText){s.innerText=r}else{if(s.nodeValue){s.nodeValue=r}else{if(s.textContent){s.textContent=r}}}}function i(r){if(r.innerText){return r.innerText}else{if(r.nodeValue){return r.nodeValue}else{if(r.textContent){return r.textContent}else{return""}}}}function k(r){do{r=r.previousSibling}while(r&&r.nodeType!==1&&r.nodeType!==3);return r}function f(s,v,r){var u=s&&s[0],t;if(u){if(!r){if(u.nodeType===3){return u}if(j.trim(s.text())){return f(s.contents().last(),v)}}t=k(u);while(!t){s=s.parent();if(s.is(v)||!s.length){return false}t=k(s[0])}if(t){return f(j(t),v)}}return false}function b(r,s){if(!r){return false}if(typeof r==="string"){r=j(r,s);return(r.length)?r:false}return !r.jquery?false:r}function q(u){var v=u.innerHeight(),t=["paddingTop","paddingBottom"];for(var w=0,s=t.length;w<s;w++){var r=parseInt(u.css(t[w]),10);if(isNaN(r)){r=0}v-=r}return v}var p=j.fn.html;j.fn.html=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){return this.trigger("update",[r])}return p.apply(this,arguments)};var h=j.fn.text;j.fn.text=function(r){if(r!=d&&!j.isFunction(r)&&this.data("dotdotdot")){r=j("<div />").text(r).html();return this.trigger("update",[r])}return h.apply(this,arguments)}})(jQuery); var TouchHandler=(function(){var b={};var a=("ontouchstart" in window);b.START_EVENT=a?"touchstart":"mousedown";b.MOVE_EVENT=a?"touchmove":"mousemove";b.END_EVENT=a?"touchend":"mouseup";b.getXFromEvent=null;b.getYFromEvent=null;if(a){b.getXFromEvent=function(c){return c.changedTouches[0].pageX};b.getYFromEvent=function(c){return c.changedTouches[0].pageY}}else{if($.browser.msie){b.getXFromEvent=function(c){return c.clientX};b.getYFromEvent=function(c){return c.clientY}}else{b.getXFromEvent=function(c){return c.pageX};b.getYFromEvent=function(c){return c.pageY}}}return b}()); var AppViewFactory=(function(){var b={};var a=null;b.getAppView=function(c){if(c){if(a){a.remove();a=null}a=new AppView({model:c})}return a};return b}()); var templates={};templates.app=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="theme_background_image app_background_image"><div class="clr_appGeneral_bg"></div></div> <div class="app_content_container"></div>'}return __p};templates.appHeaderText=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="app_info_bar"><span class="info_bar_left"></span><h1 class="app_header_text_only app_header_text">'+((__t=(content))==null?"":__t)+'</h1><span class="info_bar_right"></span></div>'}return __p};templates.appHeaderEmpty=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="app_info_bar"><span class="info_bar_left"></span><span class="info_bar_right"></span></div>'}return __p};templates.appHeaderImage=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="app_info_bar"><span class="info_bar_left"></span><div class="app_header_image"></div><span class="info_bar_right"></span></div>'}return __p};templates.appHeaderImageAndText=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="app_info_bar"><span class="info_bar_left"></span><div class="app_header_image_text_container"><img id="favicon_header_img" alt="" src="'+((__t=(imageUrl))==null?"":__t)+'" /><h1 class="app_header_text_with_img app_header_text">'+((__t=(content))==null?"":__t)+'</h1></div><span class="info_bar_right"></span></div>'}return __p};templates.bottomBarItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a href="javascript:void(0)" data-role="button" class="navigation_bar_item clr_navBar_item_bg clr_navBar_item_brdr clr_navBar_item_hdlTxt" ><div class="navigation_bar_item_bubble clr_navBar_item_bubbleBg"><img class="item_image" src="'+((__t=(tabIconUrl))==null?"":__t)+'" alt=""><div class="navigation_bar_item_text item_text">'+((__t=(label))==null?"":__t)+"</div></div></a>"}return __p};templates.bottomBarMoreItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a href="javascript:void(0)" data-role="button" class="navigation_bar_item clr_navBar_item_bg clr_navBar_item_brdr clr_navBar_item_hdlTxt" ><div class="navigation_bar_item_bubble clr_navBar_item_bubbleBg"><div class="item_image mask_sprite sprite-more_btn clr_navBar_item_icn"></div><div class="navigation_bar_item_text item_text">'+((__t=(label))==null?"":__t)+"</div></div></a>"}return __p};templates.listNavItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a class="clr_navList_item_bg clr_navList_item_brdr clr_navList_item_txt" data-role="button" href="javascript:void(0)" class="navigation_list_item"><img class="navigation_bar_item_img" src="'+((__t=(listIconUrl))==null?"":__t)+'" alt="" /><span class="navigation_bar_item_text item_text">'+((__t=(label))==null?"":__t)+"</span></a>"}return __p};templates.gridNavItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a data-role="button" href="javascript:void(0)" class="navigation_grid_item clr_navGrid_btn_bg clr_navGrid_btn_brdr clr_navGrid_btn_txt" ><img class="navigation_bar_item_img" src="'+((__t=(gridIconUrl))==null?"":__t)+'" alt="" /><div class="navigation_bar_item_text item_text">'+((__t=(label))==null?"":__t)+"</div></a>"}return __p};templates.dynamicGridNavItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div data-role="button" class="animation1 fake_element_for_border clr_dynamicGrid_slot_bg clr_dynamicGrid_slot_brdr"><div class="navigation_item clr_dynamicGrid_slot_bg2" ><div class="animation1 iconContainer borderBox contain_image clr_dynamicGrid_slot_icon_bg clr_dynamicGrid_slot_icon_brdr" style="background-image:url(\''+((__t=(gridIconUrl))==null?"":__t)+'\')"></div><div class="animation1 textContainer borderBox text clr_dynamicGrid_slot_text_bg clr_dynamicGrid_slot_text_brdr clr_dynamicGrid_slot_text_hdlTxt">'+((__t=(label))==null?"":__t)+"</div></div></div>"}return __p};templates.navImagesModule=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<ul class="images_list"></ul><div class="circles_list_container"><ul class="circles_list"></ul></div>'}return __p};templates.navImagesModuleImageItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<li class="image_item sliced_image load_color" style="background-image:url(\''+((__t=(imageUrl))==null?"":__t)+"'); left:"+((__t=(left))==null?"":__t)+'"><div class="loader center_icon"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></li>'}return __p};templates.navImagesModuleCircleItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<li class="circle_item clr_aaa_bg ';if(selected){__p+=" selected "}__p+='"></li>'}return __p};templates.navEmptyModule=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+=""}return __p};templates.sideMenuNav=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="side_area clr_navSide_bg"><div class="scroll_wrapper"><div class="scroller"><ul></ul></div></div></div><div class="app_container"><div class="page_transparent_overlay"></div></div>'}return __p};templates.sideMenuNavItem=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a class="" data-role="button" href="javascript:void(0)" class="navigation_list_item"><img class="navigation_bar_item_img" src="'+((__t=(listIconUrl))==null?"":__t)+'" alt="" /><span class="navigation_bar_item_text item_text">'+((__t=(label))==null?"":__t)+"</span></a>"}return __p};templates.imageAd=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(imageUrl){__p+='<div class="ad_content ad_img_container"><img alt="" src="'+((__t=(imageUrl))==null?"":__t)+'" /></div>'}__p+=""}return __p};templates.textAd=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(text){__p+='<div class="ad_content ad_text">'+((__t=(text))==null?"":__t)+'</div><div class="ad_text_img mask_sprite sprite-arrow clr_contTypeB_icn"/></div>'}__p+=""}return __p};templates.adsenseAd=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="ad_content ad_img_container"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"><\/script><ins class="adsbygoogle" style="display:inline-block;width:'+((__t=(width))==null?"":__t)+"px;height:"+((__t=(height))==null?"":__t)+'px" data-ad-client="'+((__t=(adUnitID))==null?"":__t)+'" data-ad-slot="'+((__t=(adSlotID))==null?"":__t)+'"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});<\/script></div>'}return __p};templates.fullScreenAd=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="fullScreenImage sliced_image" style="background-image:url(\''+((__t=(imageUrl))==null?"":__t)+"')\"></div>"}return __p};templates.infoBarButton=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(icon===headerButtonsIconsEnum.back){__p+='<div class="mask_sprite sprite-back clr_appHeader_btn_icn" ></div>'}else{if(icon===headerButtonsIconsEnum.list){__p+='<div class="mask_sprite sprite-list clr_appHeader_btn_icn" ></div>'}else{if(icon===headerButtonsIconsEnum.grid){__p+='<div class="mask_sprite sprite-grid clr_appHeader_btn_icn" ></div>'}else{if(icon===headerButtonsIconsEnum.refresh){__p+='<div class="mask_sprite sprite-refresh clr_appHeader_btn_icn" ></div>'}else{if(icon===headerButtonsIconsEnum.star){__p+='<div class="mask_sprite sprite-starHeaderFull clr_appHeader_btn_icn" ></div>'}else{if(icon===headerButtonsIconsEnum.emptyStar){__p+='<div class="mask_sprite sprite-starHeaderEmpty clr_appHeader_btn_icn" ></div>'}else{__p+='<img class="button_external_img" src="'+((__t=(icon))==null?"":__t)+'"/>'}}}}}}__p+=""}return __p};templates.viewOriginalTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="view-orig-container"><a class="view_original_button clr_contTypeA_actBtn_bg clr_contTypeA_actBtn_brdr clr_contTypeA_actBtn_hdlTxt" data-role="button"><span class="view-orig-text">'+((__t=(text))==null?"":__t)+"</span></a></div>"}return __p}; var AppView=Backbone.View.extend({id:"app",initialize:function(){this.model.bind("destroy",this.destroy,this);this.render()},goToNavPage:function(){var a=this.model.get("navigationType");if(a===navigationLayoutTypes.list||a===navigationLayoutTypes.dynamicGrid||a===navigationLayoutTypes.grid){UN.navTo(this.navTemplateView.model.get("alias"),{level:0,isInner:false})}else{if(a===navigationLayoutTypes.sideMenu){this.side_menu_view.toggleSideMenu()}else{this.goToPageIndex(0)}}},goToPageId:function(b){var a=this.model.get("pages");var e=a.length;for(var c=0;c<e;c++){var d=a[c];if(d.get("id")===b){UN.navTo(d.get("alias"),{level:0,isInner:false});return true}}return false},goToPageIndex:function(b){var a=this.model.get("pages");var c=a[b];if(c){UN.navTo(c.get("alias"),{level:0,isInner:false});return true}return false},render:function(){var b=$("body");b.append(this.el);var c;var a=this.model.get("navigationType");if(a!==navigationLayoutTypes.sideMenu){c=this.$el}else{this.side_menu_view=new SideMenuNavView({model:this.model});this.$el.html(this.side_menu_view.render().el);c=this.side_menu_view.$appContainer}c.append(templates.app({}));c=c.find(".app_content_container");this.templatesView=new TemplatesView({model:this.model});this.footerView=new FooterView({model:this.model});if(!AppSettingsManager.getSettings().get("isHeaderScrollable")){this.headerView=new HeaderView({model:this.model.get("header")});c.append(this.headerView.render().el)}c.append(this.templatesView.el).append(this.footerView.render().el);this.templatesView.render();var d=this.model.get("adBar");if(d){var e=new AdBarView({model:d});e.render();if(AppSettingsManager.getSettings().get("showAdsBarOnHeader")){this.headerView.$el.prepend(e.el)}else{this.footerView.$mainFooter.prepend(e.el)}}this.renderNavigation();return this},renderNavigation:function(){var a=this.model.get("navigationType");switch(a){case navigationLayoutTypes.none:break;case navigationLayoutTypes.bottomBar:var c=new TabBarView({model:this.model});this.footerView.$mainFooter.append(c.render().el);break;case navigationLayoutTypes.sideMenu:break;case navigationLayoutTypes.topBar:var c=new TabBarView({model:this.model});this.headerView.$el.append(c.render().el);break;case navigationLayoutTypes.list:case navigationLayoutTypes.grid:case navigationLayoutTypes.dynamicGrid:var b=new Template({id:NAVIGATION_PAGE_GUID,appModel:this.model,alias:NAVIGATION_PAGE_ALIAS,navType:a,navigationData:this.model.get("navigationData")});this.navTemplateView=new NavTemplateView({model:b});this.model.trigger("addNavPage",b);$(this.templatesView.el).prepend(this.navTemplateView.el);this.navTemplateView.init();var d=$(this.templatesView.el).find(".scroll_wrapper");Scrolling.onContentChanged(d);break}},destroy:function(){cqm.hideLoading();this.model.unbind("destroy",this.destroy);$('*[data-role="page"]').die("pageshow").die("pagebeforehide");this.remove();if(window.$&&$.mobile&&$.mobile.resetNavigation){$.mobile.resetNavigation()}this.model.trigger("destroyed")}}); var InfoBarButtonView=Backbone.View.extend({className:"t3d info_bar_btn clr_appHeader_btn_bg clr_appHeader_btn_brdr",events:{tap:"buttonClicked"},initialize:function(){this.model.bind("removed",this.remove,this)},render:function(){var a=templates.infoBarButton;this.$el.attr("data-role","button");this.$el.html(a(this.model.toJSON()));return this},buttonClicked:function(a){a.preventDefault();this.model.buttonClicked()}}); var HeaderView=Backbone.View.extend({className:"app_header clr_appHeader_bg clr_appHeader_brdr clr_appHeader_hdlTxt",attributes:{"data-role":"header","data-position":"fixed"},initialize:function(){var a=this.model.get("buttons");if(a){a.each(this.buttonAdded,this);a.bind("add",this.buttonAdded,this);a.bind("remove",this.buttonRemoved,this)}},buttonAdded:function(a){var b=new InfoBarButtonView({model:a});if(a.get("addToRight")){this.$el.find(".info_bar_right").prepend(b.render().el)}else{this.$el.find(".info_bar_left").append(b.render().el)}},buttonRemoved:function(a){a.trigger("removed")},_loadImage:function(){var b=this.model.get("content");var a=new Image();var c=function(j){var f=j.target||j.srcElement;var l="url("+f.src+")";var k=44;var d=f.height;var h=f.width;var i=0;if(d>k){h=Math.floor(h*(k/d));d=k}else{i=Math.floor((k-d)/2)}var g=this.$(".app_header_image");g.css({"background-image":l,"background-size":h+"px "+d+"px",top:i,bottom:i})};a.onload=c.hitch(this);a.src=b},render:function(){var b;var a=this.model.get("type");switch(a){case headerTypes.textHeader:b=templates.appHeaderText;break;case headerTypes.imageHeader:b=templates.appHeaderImage;break;case headerTypes.imageAndTextHeader:b=templates.appHeaderImageAndText;break;default:b=templates.appHeaderEmpty;break}this.$el.html(b(this.model.toJSON()));if(a===headerTypes.imageHeader){this._loadImage()}return this}}); var TemplatesView=Backbone.View.extend({id:"app_pages_container",initialize:function(){this.model.bind("addMorePage",this.addMorePage,this)},render:function(){var b=this;this.$el.attr("data-role","pages_container");var a=this.model.get("pages");$.each(a,function(e){var f=this;var g=b._createTemplateView(f);if(g){b.$el.append(g.el);g.init();var d="";var c=f.get("meta");if(c&&c.layout&&c.layout.meta&&c.layout.meta.bgImage){d=c.layout.meta.bgImage}if(Utils&&Utils.ImageLoader){Utils.ImageLoader.load(d)}}});return this},addMorePage:function(a){var b=new MorePageView({model:a});b.init();this.$el.append(b.el)},_fixTemplateViewName:function(c,b,a){if(LAYOUT===layoutFormat.wide&&(b==="a7bf6078-3f92-4b90-acf2-b122903bc846"||b==="4680c3f3-e767-4ebf-b112-9ba769c3ff2a")&&a===2){return pageTypes[b].templateViewName}else{return c}},_createTemplateView:function(d){var e=null;var c=d.get("type");var b=pageTypes[c].templateViewName;if(LAYOUT===layoutFormat.wide&&pageTypes[c].wideTemplateViewName){b=pageTypes[c].wideTemplateViewName}var a=d.get("meta")["pageLayout"];b=this._fixTemplateViewName(b,c,a);if(b&&window[b]){e=new window[b]({model:d});e.$el.addClass(pageTypes[c].cssClass)}return e}}); var FooterView=Backbone.View.extend({id:"app_footer",render:function(){var a=this.$el,b=$(document.body);a.attr("data-role","footer");this.$mainFooter=$('<div class="mainFooter clr_appGeneral_footer_bg"></div>');a.html(this.$mainFooter);b.bind("focusin",function(){a.addClass("on_input_focus")});b.bind("focusout",function(){a.removeClass("on_input_focus")});return this}}); var TemplateView=Backbone.View.extend({defaultExecuteOptions:{executeType:executeTypeEnum.HIT_AND_RUN},init:function(){this.$el.data("id",this.model.get("id"));if(this.model.get("selected")){this.handleSelectedStateChange()}this.model.bind("change:selected",this.handleSelectedStateChange,this);this.$el.addClass("template_view");if(AppSettingsManager.getSettings().get("isHeaderScrollable")){$('*[data-role="page"]',this.$el).live("pagebeforeshow",this._handlePageBeforeShow)}var c=this.model.get("meta");var b=c&&c.layout&&c.layout.meta&&c.layout.meta.bgImage;if(b){var a=this.$el;if(ScrollingFactory.getScrollerName()===ScrollingFactory.FIXED_SCROLL_NAME){a=$("<div></div>");this.$el.prepend(a)}b="url("+b+")";a.css("background-image",b).addClass("page_background_image")}},_unbind:function(){this.model.unbind("change:selected",this.handleSelectedStateChange,this)},_handlePageBeforeShow:function(){$this=$(this);if(!$this.data("header")){var a=AppManager.app().get("header");var b=new HeaderView({model:a});$this.find(".scroller").prepend(b.render().el);$this.data("header",true)}},addTabsToView:function(b,a){var f=this.model.get("meta");var c=f.items;if(c.length>1){var e=new PageTabsModel({items:c});var d=new PageTabsView({model:e,selectedIndex:a});b.addTabsView(d.render().el)}},handleSelectedStateChange:function(){if(this.model.get("selected")){this.$el.show();if(!UN.getIsPageAutoHandle()){this._handleSelected()}}else{this.$el.hide()}},_onSelectDefaultTab:function(c){var b=c.navRequest;if(this._shouldSelectDefaultTab()){var a=this.model.get("defaultTabIndex")||0;UN.navTo(this.model.tabIndexToAlias(a),{isInner:false,navRequest:b})}else{if(!UN.getIsPageAutoHandle()){this._noDefaultTab(b)}}},_handleSelected:function(){var b=this.model.get("navRequest");var d=ErrPagesManager.getErrPage(this.model.get("errPageView"),this.model.getArrContext());if(d){var c=Utils.Helpers.generateGUID();var a=new GenericPageView({model:d,id:c});this.$el.append(a.render().el);UN.onPageReady(c,b,1,true);return}if(this._shouldRenderTemplate()){this._renderTemplate(b)}if(this._isTabRelevant()){UN.registerChange(this._onSelectedTabChanged.hitch(this),1,{alsoBack:true,cbSelectDefault:this._onSelectDefaultTab.hitch(this),navRequest:b})}},_noDefaultTab:function(a){console.log('no implementation to "_noDefaultTab"')},_isTabRelevant:function(){return true},_shouldRenderTemplate:function(){return false},_shouldSelectDefaultTab:function(){return !this._shouldRenderTemplate()},_renderTemplate:function(a){console.log("warning: _renderTemplate is not implemented!")},_renderTab:function(a,b){console.log("warning: _renderTab is not implemented!")},_onSelectedTabChanged:function(e,f){var a=e.navRequest;var j=this.model.get("meta");var h=j&&j.items;if(!h||!h.length){console.log("no tabs in the template");this._renderNoData(a);return}var g=this.model.tabAliasToIndex(f);var c=h[g];if(!c){console.log("bad tab alias");this.tabNotFound(f,a);return}if(c.id){UsageManager.addEvent(analytics.usageEventTypeEnum.TabView,{viewId:c.id})}this.model.set({currTabIndex:g});if(UN.getIsPageAutoHandle()){return}var d=ErrPagesManager.getErrPage(c.errPageView,this.model.getArrContext());if(d){var b=Utils.Helpers.generateGUID();var i=new GenericPageView({model:d,id:b});this.$el.append(i.render().el);UN.onPageReady(b,a,1,true);return}this._renderTab(g,a)},_renderNoData:function(b){var d=ErrPagesManager.getErrPage(errorPages.errorPagesTypes.noTabs,this.model.getArrContext());var c=Utils.Helpers.generateGUID();var a=new GenericPageView({model:d,id:c});this.$el.append(a.render().el);UN.onPageReady(c,b,1,true);return a},getNoItemsView:function(a){var c=ErrPagesManager.getErrPage(errorPages.errorPagesTypes.empty,this.model.getArrContext());var b=Utils.Helpers.generateGUID();return new GenericPageView({model:c,id:b})},_renderNoItems:function(a){if(!a.noItemsView){a.noItemsView=this.getNoItemsView(a);a.noItemsView.render().addRefreshButton(a.view);if(a.addTabs){this.addTabsToView(a.noItemsView,a.tabIndex)}}if(a.dividedScreen){var b=a.pageView.id;if(a.isListOnRight){a.pageView.setView2(a.noItemsView)}else{a.pageView.setView1(a.noItemsView);a.pageView.setView2(new EmptyPageView().render())}}else{var b=a.noItemsView.id;this.$el.append(a.noItemsView.el)}a.navRequest.url=UN.sliceUrl(a.navRequest.url,a.level+1);UN.onPageReady(b,a.navRequest,a.level,true)},renderListPageDefaults:{navRequest:null,model:null,view:null,dividedScreenView:null,dividedScreenOptions:null,dividedScreen:false,isListOnRight:false,pageView:null,tabIndex:0,level:1,errorMessage:"{$ToastMessagePaginationFailedGetItems}",addTabs:true,useGenericNoItems:true},onGetItemsSuccess:function(b,a){if(UN.isNotRelevant(a.navRequest)){return}if(b.length===0&&a.useGenericNoItems){if(a.dividedScreen){a.view.$el.detach()}UN.unregisterChange(a.navRequest.url);this._renderNoItems(a)}else{if(a.dividedScreen){if(a.isListOnRight){a.pageView.setView2(a.view);a.view.trigger("pageshow")}else{a.pageView.setView1(a.view)}}UN.registerChange(this.onItemSelected.hitch(this),a.level+1,{data:a,cbSelectDefault:this.selectDefaultItem.hitch(this),cbSelectItem:this.selectItemInList.hitch(this),navRequest:a.navRequest})}},onGetItemsFail:function(d,e,c){var b=Utils.String.translateIfNeed(d.errorMessage);uiDriver.showToastMessage(null,null,b,this.$el);var a=d.model.get("items").length;if(!a){UN.unregisterChange(d.navRequest.url);this.onGetDataFail(e,c,d)}},renderListPage:function(a){var b=$.extend({},this.renderListPageDefaults,a);b.dividedScreen=(b.dividedScreenOptions&&(LAYOUT===layoutFormat.wide))||b.dividedScreenView;if(b.dividedScreenView){b.pageView=b.dividedScreenView;b.isListOnRight=true}else{if(b.dividedScreen){b.pageView=new DividedScreenView(b.dividedScreenOptions);b.pageView.addRefreshButton(true);b.isListOnRight=false}else{b.pageView=b.view}}b.tabIndex=this.model.get("currTabIndex");var d=b.pageView.id;if(!d){d=Utils.Helpers.generateGUID();b.pageView.id=d;b.pageView.$el.attr({id:d})}b.view.render();this.$el.append(b.pageView.el);if(b.addTabs){this.addTabsToView(b.view,b.tabIndex)}var c=b.model.get("items");c.unbind("getItemsSuccess",null,this);c.unbind("getItemsFail",null,this);c.bind("getItemsSuccess",_.bind(this.onGetItemsSuccess,this,c,b),this);c.bind("getItemsFail",_.bind(this.onGetItemsFail,this,b),this);this.handleListLoading(b.model);b.model.getItems(this.defaultExecuteOptions)},onGetDataFail:function(g,d,e){var f=this;var c=function(){if(!e.failItemsView){var j=ErrPagesManager.getErrPage(errorPages.errorPagesTypes.fail,f.model.getArrContext(),e.view);var i=Utils.Helpers.generateGUID();e.failItemsView=new GenericPageView({model:j,id:i});e.failItemsView.render().addRefreshButton(e.view);if(e.addTabs){f.addTabsToView(e.failItemsView,e.tabIndex)}}return e.failItemsView};var b=function(){if(!e.invalidView){var j=ErrPagesManager.getErrPage(errorPages.errorPagesTypes.invalid,f.model.getArrContext());var i=Utils.Helpers.generateGUID();e.invalidView=new GenericPageView({model:j,id:i});e.invalidView.render();if(e.addTabs){f.addTabsToView(e.invalidView,e.tabIndex)}}return e.invalidView};if((PLATFORM===platformEnum.simulator)&&d){var a=b()}else{var a=c()}if(e.dividedScreen){var h=e.pageView.id;if(e.isListOnRight){e.pageView.setView2(a)}else{e.pageView.setView1(a);e.pageView.setView2(new EmptyPageView().render())}}else{var h=a.id;this.$el.append(a.el)}e.navRequest.url=UN.sliceUrl(e.navRequest.url,e.level+1);UN.onPageReady(h,e.navRequest,e.level,true)},handleListLoading:function(a){var b=this;var c=function(){var e=a.get("loadingType");if(e!==loadingTypeEnum.NORMAL&&e!==loadingTypeEnum.REFRESH){return}if(a.get("isLoading")){var d=true;cqm.showLoading(_T("HtmlTextPaginationRefreshItems"),b.$el,d)}else{cqm.hideLoading(b.$el)}};a.bind("change:isLoading",c);c()},selectItemInList:function(d,b){var a=d.model;var c=a.getItemForAlias(b);if(!c){return}a.setSelectedItem(c)},selectDefaultItem:function(c){if(!c.pageView.$el.parent().length){return}var b=c.navRequest;var a=this.getDefaultItemAlias(c);if(a){UN.navTo(a,{navRequest:b,isInner:false})}else{UN.onPageReady(c.pageView.id,b)}},getDefaultItemAlias:function(c){if(c.dividedScreen&&!c.isListOnRight){var a=c.model;var b=a.get("items");if(b.length>0){var d=b.at(0);return d.get("alias")}}return null},aliasToItemAlias:function(a){return a},onItemSelected:function(c,b){var a=c.model.getItemForAlias(this.aliasToItemAlias(b));if(!a){this.itemNotFound(c);return}UsageManager.addEvent(analytics.usageEventTypeEnum.ItemView,this.getItemViewUsageMeta(a,b));var d=this.getDetailsView(a,c,b);if(!d){return}if(c.dividedScreen&&!c.isListOnRight){var e=c.pageView.id;c.pageView.setView2(d.render())}else{var e=d.id;if(!e){e=Utils.Helpers.generateGUID();d.id=e;d.$el.attr({id:e})}this.$el.append(d.render().el)}UN.onPageReady(e,c.navRequest,c.level+1,true)},getItemViewUsageMeta:function(a,b){return{id:a.get("id")}},getDetailsView:function(a,b){console.log("warning: getDetailsView is not implemented");return null},itemNotFound:function(c){var b=UN.getCurrentUrlAtLevel(0);var e=new ItemNotFoundModel({buttonTitle:_T("HtmlTextBadPermalinkButtonText",{alias:b})});var d=Utils.Helpers.generateGUID();var a=new GenericPageView({model:e,id:d});if(c.dividedScreen&&!c.isListOnRight){if(!c.pageView._view2){c.pageView.setView2(a.render())}d=c.pageView.id}else{this.$el.append(a.render().el)}UN.onPageReady(d,c.navRequest,c.level+1,true)},tabNotFound:function(c,d){var b=UN.getCurrentUrlAtLevel(0);var f=new ItemNotFoundModel({buttonTitle:_T("HtmlTextBadPermalinkButtonText",{alias:b})});var e=Utils.Helpers.generateGUID();var a=new GenericPageView({model:f,id:e});this.$el.append(a.render().el);UN.onPageReady(e,d,1,true)}}); var MorePageView=TemplateView.extend({_shouldRenderTemplate:function(){return true},_isTabRelevant:function(){return false},_renderTemplate:function(a){var c=Utils.Helpers.generateGUID();var b=new NavView({model:this.model,id:c,navType:navigationLayoutTypes.list});this.$el.html(b.render().el);UN.onPageReady(c,a,0,true)}}); var FullScreenAdView=Backbone.View.extend({id:"full_screen_ad_container",events:{tap:"adClicked"},render:function(){this.$el.html(templates.fullScreenAd(this.model.toJSON()));setTimeout(function(){this.$el.css({"-webkit-transition-property":"opacity","-webkit-transition-duration":"0.5s","-webkit-transition-timing-function":"ease-out",opacity:"0.0"});setTimeout(function(){this.$el.hide();if(navigator.appManager&&navigator.appManager.unlockScreen){navigator.appManager.unlockScreen()}}.hitch(this),500)}.hitch(this),this.model.get("duration"));return this},adClicked:function(a){a.preventDefault();this.model.adClicked()}}); var AdBarView=Backbone.View.extend({id:"ad_container",className:"clr_appGeneral_adBar_bg clr_appGeneral_adBar_brdr clr_appGeneral_adBar_hdlTxt",initialize:function(){this.model.bind("change",this.render,this)},events:{tap:"adClicked"},render:function(){var b=this.model.get("displayType");if(b==adDisplayTypes.image){var a=templates.imageAd}else{if(b==adDisplayTypes.text){var a=templates.textAd}else{if(b==adDisplayTypes.adsense){var a=templates.adsenseAd}else{return this}}}this.$el.html(a(this.model.toJSON()));var c=$(".ui-page-active .scroll_wrapper");Scrolling.onWrapperResize(c);return this},adClicked:function(a){a.preventDefault();this.model.adClicked()}}); var BaseNavItemView=Backbone.View.extend({_isButton:false,initialize:function(){var b=this.model.get("meta");var a={};if(b&&b.items&&b.items[0]){a=b.items[0]}a.pageType=this.model.get("type");a.pageId=this.model.get("id");a.pageSubType=this.model.get("subType");switch(a.pageType){case"308af5fa-e91b-d7e7-1926-acfea8f266dc":if(PLATFORM!=platformEnum.simulator){if(a.phone){a.link="tel:"+a.phone;this._makeOpenLinkButton(a)}}break;case"ec79d314-f6aa-f396-a651-3f9b3344dd99":if(PLATFORM!=platformEnum.simulator){if(a.email){a.link="mailto:"+a.email;this._makeOpenLinkButton(a)}}break;case"c54d24ef-faf5-45dd-8859-85e3ebe7cecf":if(PLATFORM!=platformEnum.simulator){this._makeOpenLinkButton(a)}break;case"9eea8149-956c-46f9-8597-167401c63cd7":if(PLATFORM===platformEnum.webApp){this._makeOpenLinkButton(a)}break;case"8901e95e-4dc9-411f-835a-0f18a7872122":if(PLATFORM!=platformEnum.simulator&&a.type=="menulink"){this._makeOpenLinkButton(a)}break}if(!this._isButton){this.$el.tap(this.itemClicked.hitch(this))}},_makeOpenLinkButton:function(b){this._isButton=true;var a=PLATFORM===platformEnum.webApp;if(typeof(b.openInExternalBrowser)!=="undefined"){a=b.openInExternalBrowser}this.$el.tap(function(){appDriver.openLink(null,null,{useExternalBrowser:a,url:b.link,title:b.title,pageType:b.pageType,pageId:b.pageId,pageSubType:b.pageSubType})})},itemClicked:function(a){a.stopImmediatePropagation();a.preventDefault();UN.navTo(this.model.get("alias"),{level:0,isInner:false})}}); var TabBarView=Backbone.View.extend({tagName:"table",MAX_PAGES:5,id:"app_navigation_bar",render:function(){this.$el.attr({cellpadding:"0",cellspacing:"0",border:"0"});var b=this.model.get("pages");var a=b.length;var f=Math.min(this.MAX_PAGES,a);var c=100/f;var e=f-1;for(var d=0;d<e;d++){var g=b[d];var h=new TabItemView({model:g});this.$el.append($(h.render().el).attr("style","width: "+c+"%"))}if(a>this.MAX_PAGES){var g=new Template({label:_T("HtmlTextMorePages"),alias:NAVIGATION_PAGE_ALIAS,pages:b,id:NAVIGATION_PAGE_GUID});var h=new TabItemView({model:g});this.model.trigger("addMorePage",g);h.template=templates.bottomBarMoreItem;this.$el.append($(h.render().el).attr("style","width: "+c+"%"))}else{if(e!==-1){var g=b[e];var h=new TabItemView({model:g});this.$el.append($(h.render().el).attr("style","width: "+c+"%"))}}return this}}); var TabItemView=BaseNavItemView.extend({template:templates.bottomBarItem,tagName:"td",className:"ui-btn-up",initialize:function(){BaseNavItemView.prototype.initialize.apply(this);this.model.bind("change:selected",this.renderSelected,this)},render:function(){this.$el.html(this.template(this.model.toJSON()));this.renderSelected();return this},renderSelected:function(){if(!this._isButton){if(this.model.get("selected")){this.$el.find("*").addClass("selected")}else{this.$el.find("*").removeClass("selected")}}}}); var NavView=Backbone.View.extend({render:function(){this.$el.attr("data-role","page");var b;switch(this.options.navType){case navigationLayoutTypes.grid:b=new GridNavView({model:this.model});this.$el.bind("pageshow",function(){b.onPageShow()});this.$el.bind("pagehide",function(){b.onPageHide()});this.$el.addClass("clr_navGrid_bg");b.onPageHide();break;case navigationLayoutTypes.list:b=new ListNavView({model:this.model});this.$el.addClass("clr_navList_bg");break}var c=document.createElement("div");c.className="scroll_wrapper";var a=document.createElement("div");a.className="scroller";c.appendChild(a);this.el.appendChild(c);a.appendChild(b.render().el);var d=$(c);Scrolling.init(d);this.$el.append(this.scrollerElement);return this}}); var DynamicGridNavView=Backbone.View.extend({className:"horizontalWrapper app_navigation_dynamic_grid clr_dynamicGrid_bg",attributes:{dir:"ltr"},updateGridSizes:function(p,n){var A=Utils.Html.getInnerSize();var u=p.preset;var m=u.size,z=u.elements.icon,q=u.elements.text;if(u.scroll===gridScrollTypes.vertical){var h=A.width/u.reference.w;var g=this.items.length;for(var v=0;v<g;v++){var c=v%u.columns;var f=Math.floor(v/u.columns);var l=u.margins.left+c*(m.w+u.margins.cols);var j=u.margins.top+f*(m.h+u.margins.rows);if(IS_RTL){l=A.width/h-l-m.w}var o="translate3d("+Math.floor(l*h)+"px,"+Math.floor(j*h)+"px,0)";var w="-webkit-transform:"+o+";transform:"+o+";-ms-transform:"+o;this.items[v].$el.attr({style:w});this.items[v].$el.css({width:Math.floor(m.w*h),height:Math.floor(m.h*h)})}var k=Math.ceil(g/u.columns);var t=u.margins.top+u.margins.bottom+k*(u.size.h+u.margins.rows);this.$ul.css({height:Math.floor(t*h),width:"100%"});this.$horizontalScroll.css({width:"100%",height:"auto"});this.hScrollObject.scrollTo(0,0,0);this.hScrollObject.disable()}else{if(u.scroll===gridScrollTypes.horizontal){var h=n/u.reference.h;var g=this.items.length;for(var v=0;v<g;v++){var f=v%u.rows;var c=Math.floor(v/u.rows);var l=u.margins.left+c*(m.w+u.margins.cols);var j=u.margins.top+f*(m.h+u.margins.rows);var b=Math.ceil(g/u.rows);var s=u.margins.left+u.margins.right+b*(u.size.w+u.margins.cols)-u.margins.cols;if(IS_RTL){l=s-l-m.w}var o="translate3d("+Math.floor(l*h)+"px,"+Math.floor(j*h)+"px,0)";var w="-webkit-transform:"+o+";transform:"+o+";-ms-transform:"+o;this.items[v].$el.attr({style:w});this.items[v].$el.css({width:Math.floor(m.w*h),height:Math.floor(m.h*h)})}s=Math.floor(s*h);this.$ul.css({width:s,height:n});this.$horizontalScroll.css({width:s,height:n});this.hScrollObject.enable();this.hScrollObject.refresh()}}this.$el.css({height:n});this.$(".fake_element_for_border").css({borderRadius:m.radius?Math.floor(m.radius*h):0});var d=IS_RTL?"right":"left";var r={top:Math.floor(z.box.top*h),width:Math.floor(z.box.w*h),height:Math.floor(z.box.h*h),borderRadius:z.box.radius?Math.floor(z.box.radius*h):0};r[d]=Math.floor(z.box.left*h);this.$(".iconContainer").css(r);var a={top:Math.floor(q.box.top*h),width:Math.floor(q.box.w*h),height:Math.floor(q.box.h*h),borderRadius:q.box.radius?Math.floor(q.box.radius*h):0};a[d]=Math.floor(q.box.left*h);this.$(".textContainer").css(a);var e=q.align||"center";if(IS_RTL){if(e==="left"){e="right"}else{if(e==="right"){e="left"}}}this.$(".text").css({lineHeight:Math.floor(q.font.lineHeight*h)+"px",fontSize:Math.floor(q.font.size*h),textAlign:e})},render:function(){var a=this.model.get("pages");this.$ul=$('<ul class="dynamicNavList"></ul>');this.items=[];_.each(a,function(e,d){if(e.get("id")!=NAVIGATION_PAGE_GUID){var c=new DynamicGridNavItemView({model:e});this.items.push(c);this.$ul.append(c.render().el)}}.hitch(this));this.$horizontalScroll=$('<div class="horizontalScroller"></div>');this.$horizontalScroll.append(this.$ul);this.$el.append(this.$horizontalScroll);var b={vScroll:false,hScroll:true,hScrollbar:true,useTransition:true,onScrollMove:function(){$.mobile.setPageScrolling(true)},onScrollEnd:function(){$.mobile.setPageScrolling(false)}};this.hScrollObject=new iScroll(this.$el[0],b);return this}}); var DynamicNavView=Backbone.View.extend({className:"clr_dynamicGrid_fullPage_bg t3d",initialize:function(){$(window).bind("throttledresize",this.onResize.hitch(this));this.$el.attr("data-role","page");this.$el.bind("pageshow",this.onPageShow.hitch(this));this.$el.bind("pagehide",this.onPageHide.hitch(this));this.onPageHide()},onResize:function(){if(this.isPageShow){this.updateGridSizes()}},onPageShow:function(){this.isPageShow=true;this.updateGridSizes()},onPageHide:function(){this.isPageShow=false},updateGridSizes:function(){var a=Utils.Html.getInnerSize();var g=this.options.navigationData;var f=g.meta;f=(f.landscape&&a.width>a.height)?f.landscape:f.portrait;var d=f.preset;var e=(this.moduleView&&!f.noModule)?f.moduleHeight:0;if(d.scroll===gridScrollTypes.vertical){var c="auto";this.gridView.updateGridSizes(f,c);Scrolling.enableScroll(this.$scrollerWrapper)}else{if(d.scroll===gridScrollTypes.horizontal){e=e&&f.moduleMinHeight||e;var c=Math.floor(a.width*d.reference.h/d.reference.w);var b=Utils.Html.getInnerHeight();var h=!e||(e+c>b);if(h){e=0;c=b}else{e=b-c}this.gridView.updateGridSizes(f,c);Scrolling.disableScroll(this.$scrollerWrapper)}}if(this.moduleView){if(e){this.moduleView.$el.show().height(e);this.moduleView.recalcSize()}else{this.moduleView.$el.hide()}}Scrolling.onWrapperResize(this.$scrollerWrapper)},render:function(){var b=document.createElement("div");b.className="scroll_wrapper";var a=document.createElement("div");a.className="scroller";b.appendChild(a);this.$scroller=$(a);this.$scrollerWrapper=$(b);this.$scrollerWrapper.addClass("no_generic_resize");this.renderModule();this.renderItems();this.$el.html(this.$scrollerWrapper);Scrolling.init(this.$scrollerWrapper);return this},renderModule:function(){var c=this.options.navigationData;if(c.module){var b=new Backbone.Model(c.module);var a=new NavModuleView({model:b});this.moduleView=a.render();this.$scroller.append(this.moduleView.$el)}},renderItems:function(){this.gridView=new DynamicGridNavView({model:this.model});this.$scroller.append(this.gridView.render().el)}}); var NavModuleView=Backbone.View.extend({className:"navModule clr_dynamicGrid_blabla_bg",render:function(){var a=this.model.get("type");var b=modulesTypes[a].moduleViewName;if(b&&window[b]){this.innerView=new window[b]({model:this.model});this.$el.append(this.innerView.render().el)}return this},recalcSize:function(){if(this.innerView&&this.innerView.recalcSize){this.innerView.recalcSize()}}}); var NavImagesModuleView=Backbone.View.extend({className:"navImagesModule",render:function(){var a=templates.navImagesModule;this.$el.html(a({}));this._$iconsStrip=this.$(".images_list");this.$circles=this.$(".circles_list");this.renderImages();this.bindEvents();return this},bindEvents:function(){var c=this;var f=_.map(this.model.get("meta").images,function(l){return{title:l.title,photoTime:l.time,largeImage:l.imageUrl}});var h=f.length;this.$el.bind("tap",function(l){l.preventDefault();new PhotoGalleryManager().pressedImage(f,c._currImageIndex);return false});var b=("ontouchstart" in window);var j=("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix());if(j){this._setStripLeft=function(l,m){this._$iconsStrip.css({"-webkit-transition":"all "+m+"ms","-webkit-transition-timing-function":"ease-out","-webkit-transform":"translate3d("+l+"px,0,0)"})}}if(b){_getXFromEvent=function(l){return l.changedTouches[0].pageX}}else{if($.browser.msie){_getXFromEvent=function(l){return l.clientX}}else{_getXFromEvent=function(l){return l.pageX}}}var e=b?"touchstart":"mousedown";var g=b?"touchmove":"mousemove";var d=b?"touchend":"mouseup";var k=function(l){c._touchNavStarted=true;c._totalXDiff=0;if(l.originalEvent){l=l.originalEvent}if(l.preventDefault){l.preventDefault()}c._curX=_getXFromEvent(l);return true};var a=function(n){if(!c._touchNavStarted){return false}if(n.originalEvent){n=n.originalEvent}if(n.preventDefault){n.preventDefault()}var l=_getXFromEvent(n);var m=l-c._curX;c._totalXDiff+=m;c._curX=l;c._setStripLeft(-(c._currImageIndex*c._imageWidth)+c._totalXDiff,0);return true};var i=function(o){if(c._touchNavStarted){if(o.originalEvent){o=o.originalEvent}if(o.preventDefault){o.preventDefault()}var l=_getXFromEvent(o);var m=l-c._curX;c._totalXDiff+=m;var p=-c._totalXDiff/c._imageWidth;if(p>0.2&&p<1){p=1}if(p<-0.2&&p>-1){p=-1}p=Math.round(p);var n=c._currImageIndex+p;c.setImage(n,250);c._touchNavStarted=false}return true};c.$el.bind(e,k);c.$el.bind(g,a);c.$el.bind(d,i)},_setStripLeft:function(a,b){this._$iconsStrip.animate({left:a},b)},renderImages:function(){var a=this.model.get("meta").images;var e=templates.navImagesModuleImageItem;for(var d=0;d<a.length;d++){var c=a[d].imageUrl;var g={left:(d*100)+"%",imageUrl:c};var b=$(e(g));this._$iconsStrip.append(b);var f=new Image();f.onload=function(){this.html("").removeClass("load_color")}.bind(b);f.onerror=function(){this.html('<div class="center_icon sprite sprite-ps-close"></div>')}.bind(b);f.src=c}},reset:function(){this._currImageIndex=this._currImageIndex||0;this._imageWidth=this.$el.width();this.setImage(this._currImageIndex,250)},recalcSize:function(){this.reset()},setImage:function(a,b){var f=this.model.get("meta").images.length;this._currImageIndex=Math.min(f-1,Math.max(0,a));this._setStripLeft(-this._currImageIndex*this._imageWidth,b);if(f>1){var d=templates.navImagesModuleCircleItem;this.$circles.html("");for(var c=0;c<f;c++){var e={selected:(c==this._currImageIndex)};this.$circles.append(d(e))}}}}); var NavEmptyModuleView=Backbone.View.extend({className:"navEmptyModule",render:function(){var a=templates.navEmptyModule;this.$el.html(a({}));return this},recalcSize:function(){}}); var NavTemplateView=TemplateView.extend({_shouldRenderTemplate:function(){return true},_isTabRelevant:function(){return false},_renderTemplate:function(b){var d=NAVIGATION_PAGE_ID;var a=this.model.get("navType");var c;if(a===navigationLayoutTypes.dynamicGrid){c=new DynamicNavView({model:this.model.get("appModel"),id:d,navigationData:this.model.get("navigationData")})}else{c=new NavView({model:this.model.get("appModel"),id:d,navType:a})}this.$el.html(c.render().el);UN.onPageReady(d,b,0,true);return this}}); var ListNavView=Backbone.View.extend({tagName:"ul",id:"app_navigation_list",render:function(){var a=this.model.get("pages");var b=this;_.each(a,function(d){if(d.get("id")!=NAVIGATION_PAGE_GUID){var c=new ListNavItemView({model:d});$(b.el).append(c.render().el)}});this.trigger("contentChanged");return this}}); var ListNavItemView=BaseNavItemView.extend({template:templates.listNavItem,tagName:"li",className:"navigation_list_item_wrapper",render:function(){this.$el.html(this.template(this.model.toJSON()));return this}}); var GridNavView=Backbone.View.extend({tagName:"ul",id:"app_navigation_grid",initialize:function(){$(window).bind("throttledresize",this.onResize.hitch(this))},render:function(){var a=this.model.get("pages");var b=this;_.each(a,function(d){if(d.get("id")!=NAVIGATION_PAGE_GUID){var c=new GridNavItemView({model:d});$(b.el).append(c.render().el)}});this.trigger("contentChanged");return this},onResize:function(){if(this.isPageShow){this.updateThumbnailsMargin()}},onPageShow:function(){this.isPageShow=true;this.updateThumbnailsMargin();this.$el.css({visibility:"visible"})},onPageHide:function(){this.isPageShow=false;this.$el.css({visibility:"hidden"})},updateThumbnailsMargin:function(){this.$el.find(".navigation_bar_item_img").css({"margin-left":"3px"});Utils.Html.setGridMargin(this.$el,{minMargin:8-5,centerFewItems:true,alsoTop:false})}}); var GridNavItemView=BaseNavItemView.extend({template:templates.gridNavItem,tagName:"li",className:"navigation_list_item_wrapper",render:function(){this.$el.html(this.template(this.model.toJSON()));return this}}); var DynamicGridNavItemView=BaseNavItemView.extend({template:templates.dynamicGridNavItem,tagName:"li",className:"navigation_list_item_wrapper animation",render:function(){this.$el.html(this.template(this.model.toJSON()));return this}}); var SideMenuNavView=Backbone.View.extend({template:templates.sideMenuNav,id:"app_navigation_sideMenu",className:"clr_navSidebar_bg",animationDuration:300,initialize:function(){this.onOrinetationChange=this.onOrinetationChange.hitch(this)},_addAnimationClasses:function(){this.$appContainer.css({"-webkit-transition-property":"all","-webkit-transition-duration":this.animationDuration+"ms","-webkit-transition-timing-function":"linear"})},_removeAnimationClasses:function(){this.$appContainer.css({"-webkit-transition-duration":"0ms"})},toggleSideMenu:function(){if(this.sideMenuOpen){this._closeSideMenu()}else{this.openSideMenu()}},_closeSideMenu:function(a){var c=this;$(window).unbind("orientationchange throttledresize scroll",this.onOrinetationChange);var d="webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd";var b=function(){if(ScrollingFactory.getScrollerName()!==ScrollingFactory.ISCROLL_NAME){c._removeAnimationClasses();c.$appContainer.css({"max-height":"",overflow:""});c._addAnimationClasses()}c.$appContainer.unbind(d,b);c.$sideArea.hide();if(a){UN.navTo(a,{level:0,isInner:false,transition:"none"})}};c.$appContainer.bind(d,b);c.$el.removeClass("sideMenuOpen");this.sideMenuOpen=false},openSideMenu:function(){this.updateMinHeight();this.$sideArea.show();$(window).bind("orientationchange throttledresize scroll",this.onOrinetationChange);UN.openDialog({alias:"menu",cbDone:this._closeSideMenu.hitch(this),isInner:true});this._removeAnimationClasses();if(ScrollingFactory.getScrollerName()!==ScrollingFactory.ISCROLL_NAME){var a=this.$sideArea.height();this.$appContainer.css({"max-height":a,overflow:"hidden"})}setTimeout(function(){this._addAnimationClasses();this.$el.addClass("sideMenuOpen");var b=this.$sideArea.find(".scroll_wrapper");Scrolling.onContentChanged(b)}.hitch(this),0);this.sideMenuOpen=true},_refreshScroll:function(){var a=Utils.Html.getInnerSize(window).height;Scrolling.refreshScroll(this.$scrollWrapper,a)},render:function(){this.$el.html(this.template(this.model.toJSON()));this.$appContainer=this.$(".app_container");this.$sideArea=this.$(".side_area");var a=this.model.get("pages");var b=this.$("ul");_.each(a,function(e){if(e.get("id")!=NAVIGATION_PAGE_GUID){var d=new SideMenuNavItemView({model:e,sideMenu:this});b.append(d.render().el)}}.hitch(this));this.$scrollWrapper=this.$(".scroll_wrapper");Scrolling.init(this.$scrollWrapper);this._refreshScroll();var c=this;this.$(".page_transparent_overlay").bind("vmousedown",function(){UN.closeDialog();return false});this.$sideArea.hide();this.trigger("contentChanged");return this},updateMinHeight:function(){var a=Utils.Html.getInnerSize().height;this.$sideArea.css("min-height",a+"px");this.$appContainer.css("min-height",a+"px");this.$(".page_transparent_overlay").css("height",a+"px")},onOrinetationChange:function(){this.updateMinHeight();this._refreshScroll()}}); var SideMenuNavItemView=BaseNavItemView.extend({template:templates.sideMenuNavItem,tagName:"li",className:"navigation_list_item_wrapper clr_navSidebar_item_bg clr_navSidebar_item_txt clr_navSidebar_item_brdr",render:function(){this.$el.html(this.template(this.model.toJSON()));this.model.on("change:selected",this.updateStatus.hitch(this));this.updateStatus();return this},itemClicked:function(a){a.stopImmediatePropagation();a.preventDefault();if(!this.model.get("selected")){UN.closeDialog(this.model.get("alias"))}else{UN.closeDialog()}},updateStatus:function(){if(this.model.get("selected")){this.$el.addClass("selected")}else{this.$el.removeClass("selected")}}}); /*!
 * jQuery Smart Banner
 * Copyright (c) 2012 Arnold Daniels <arnold@jasny.net>
 * Based on 'jQuery Smart Web App Banner' by Kurt Zenisek @ kzeni.com
 */
;!function(b){var a=function(d){this.origHtmlMargin=parseFloat(b("html").css("margin-top"));this.options=b.extend({},b.smartbanner.defaults,d);var c=navigator.standalone;if(this.options.force){this.type=this.options.force}else{if(navigator.userAgent.match(/iPad|iPhone|iPod/i)!=null){if(navigator.userAgent.match(/Safari/i)!=null&&(navigator.userAgent.match(/CriOS/i)!=null||window.Number(navigator.userAgent.substr(navigator.userAgent.indexOf("OS ")+3,3).replace("_","."))<6)){this.type="ios"}}else{if(navigator.userAgent.match(/Android/i)!=null){this.type="android"}}}if(!this.type||c||this.getCookie("sb-closed"+this.options.cookiePostfix)||this.getCookie("sb-installed"+this.options.cookiePostfix)){return}if(this.scale<1){this.scale=1}var g=b(this.type=="android"?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]');if(g.length==0&&!this.options.url){return}var f=g.length>0?/app-id=([^\s,]+)/.exec(g.attr("content")):null;var e=g.length>0?/store-url=([^\s,]+)/.exec(g.attr("content")):null;this.options.url=this.options.url?this.options.url:((e&&e.length>1)?e[1]:null);this.appId=(f&&f.length>1)?(f[1]):null;this.title=this.options.title?this.options.title:b("title").text().replace(/\s*[|\-].*$/,"");this.author=this.options.author?this.options.author:(b('meta[name="author"]').length?b('meta[name="author"]').attr("content"):window.location.hostname);this.create();this.show();this.listen()};a.prototype={constructor:a,create:function(){var e,d=(this.options.url?this.options.url:(this.type=="android"?"market://details?id=":("https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"))+this.appId),h=(this.type=="android"?this.options.inGooglePlay:this.options.inAppStore),g=this.options.price?this.options.price+" - "+h:h,f=this.options.iconGloss===null?(this.type=="ios"):this.options.iconGloss;var c=this.options.targetElement||b("body");c.prepend('<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close"></a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+g+'</span></div><a href="'+d+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>");if(this.options.icon){e=this.options.icon}else{if(b('link[rel="apple-touch-icon-precomposed"]').length>0){e=b('link[rel="apple-touch-icon-precomposed"]').attr("href");if(this.options.iconGloss===null){f=false}}else{if(b('link[rel="apple-touch-icon"]').length>0){e=b('link[rel="apple-touch-icon"]').attr("href")}}}if(e){b("#smartbanner .sb-icon").css("background-image","url("+e+")");if(f){b("#smartbanner .sb-icon").addClass("gloss")}}else{b("#smartbanner").addClass("no-icon")}this.bannerHeight=b("#smartbanner").outerHeight()+2;if(this.scale>1){b("#smartbanner").css("top",parseFloat(b("#smartbanner").css("top"))*this.scale).css("height",parseFloat(b("#smartbanner").css("height"))*this.scale);b("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",b(window).width()/this.scale)}},listen:function(){b("#smartbanner .sb-close").bind("click",b.proxy(this.close,this));b("#smartbanner .sb-button").bind("click",b.proxy(this.install,this))},show:function(c){b("#smartbanner .sb-container").stop().animate({top:0},this.options.speedIn);b("#smartbanner").stop().animate({height:this.bannerHeight*this.scale},this.options.speedIn).addClass("shown")},hide:function(c){b("#smartbanner .sb-container").stop().animate({top:-1*this.bannerHeight*this.scale},this.options.speedOut);b("#smartbanner").stop().animate({height:0},this.options.speedOut,function(){b(this).css("border-style","none")}).removeClass("shown")},close:function(c){c.preventDefault();this.hide();this.setCookie("sb-closed"+this.options.cookiePostfix,"true",this.options.daysHidden);if(this.options.onClose&&typeof this.options.onClose==="function"){this.options.onClose()}},install:function(c){this.hide();this.setCookie("sb-installed"+this.options.cookiePostfix,"true",this.options.daysReminder)},setCookie:function(c,e,d){var f=new Date();f.setDate(f.getDate()+d);e=escape(e)+((d==null)?"":"; expires="+f.toUTCString());document.cookie=c+"="+e+"; path=/;"},getCookie:function(d){var e,c,g,f=document.cookie.split(";");for(e=0;e<f.length;e++){c=f[e].substr(0,f[e].indexOf("="));g=f[e].substr(f[e].indexOf("=")+1);c=c.replace(/^\s+|\s+$/g,"");if(c==d){return unescape(g)}}return null},switchType:function(){var c=this;this.hide(function(){c.type=c.type=="android"?"ios":"android";var d=b(c.type=="android"?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");c.appId=/app-id=([^\s,]+)/.exec(d)[1];b("#smartbanner").detach();c.create();c.show()})}};b.smartbanner=function(d){var f=b(window),e=f.data("typeahead"),c=typeof d=="object"&&d;if(!e){f.data("typeahead",(e=new a(c)))}if(typeof d=="string"){e[d]()}};b.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,targetElement:null,cookiePostfix:""};b.smartbanner.Constructor=a}(window.jQuery); window.SmartBanner=(function(){var f={daysHidden:1,daysReminder:7,price:null};var a=null;var c=function(){window.setTimeout(Scrolling.triggerWrapperResize,50)};var e=function(i){var h;var g={title:i.get("appLabel"),icon:i.get("appIcon"),author:" ",inAppStore:_T("SmartBannerInAppStore"),inGooglePlay:_T("SmartBannerInGooglePlay"),button:_T("SmartBannerButtonText"),cookiePostfix:"_"+APP_ID,price:"",onClose:c};a=_.extend({},f,g)};var b=function(){var g=_.extend({},a,{targetElement:$(".app_header")});$.smartbanner(g)};var d={show:b,init:e};AppManager.on("change",function(g){e(g)});AppSettingsManager.on("change",function(g){smbSettings=g.get("smartbanner");_.extend(a,smbSettings)});return d}()); var commonTemplates={};commonTemplates.emptyPage=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div id="'+((__t=(id))==null?"":__t)+'" data-role="page"></div>'}return __p};commonTemplates.feedsHomePage=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div id="home_'+((__t=(pageID))==null?"":__t)+'" data-role="page" class="controller"><div data-role="header"><table class="top_tabs_table theme_topbar_background" cellpadding="0" cellspacing="0"border="0"><tr class="top_tabs"></tr></table></div><div class="scroll_wrapper"><div class="scroller"><ul class="feeds_list"></ul></div></div></div>'}return __p};commonTemplates.feedsDetailsPage=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div id="details_screen_'+((__t=(pageID))==null?"":__t)+'" data-role="page" class="controller with_back_button"><div data-role="header"><div class="feed_details_share theme_infobar_background"></div></div><div class="scroll_wrapper"><div class="scroller"><div class="theme_item title_frame"></div></div></div></div>'}return __p};commonTemplates.shareView=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div style="width:'+((__t=(btnWidth))==null?"":__t)+'%;" class="share_bar_button" share-service="'+((__t=(service))==null?"":__t)+'"><div class="share_button_image '+((__t=(serviceImageClass))==null?"":__t)+' mask_sprite clr_appGeneral_shareViewIcn" /></div>'}return __p};commonTemplates.showMoreButton=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="more_container"><a class="button clr_contTypeA_btn_bg clr_contTypeA_btn_brdr clr_contTypeA_btn_hdlTxt" data-role="button"><div class="button_text">'+((__t=(showMoreStr))==null?"":__t)+'</div><div class="loading_text"><div class="loading_icon mask_sprite sprite-ajax-loader_small spin clr_contTypeA_btn_icn"></div><div class="loading_string">'+((__t=(loadingStr))==null?"":__t)+"</div></div></a></div>"}return __p};commonTemplates.showMoreButtonWithoutLoading=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="more_container"><a class="button clr_contTypeA_btn_bg clr_contTypeA_btn_brdr clr_contTypeA_btn_hdlTxt" data-role="button"><div class="button_text">'+((__t=(showMoreStr))==null?"":__t)+"</div></a></div>"}return __p};commonTemplates.pageTabViewTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<span class="page-tab-title clr_tabBar_item_bubble_bg clr_tabBar_item_bubble_brdr clr_tabBar_item_bubble_txt" >'+((__t=(title))==null?"":__t)+"</span>"}return __p}; PhotoGalleryManager=function(a){this._container=a};PhotoGalleryManager.constructor=PhotoGalleryManager;PhotoGalleryManager.prototype={AUTO_HIDE_DELAY:60000,URL_ALIAS:"gallery",pressedImage:function(c,a){if(!c||!c.length){return}if(PLATFORM==platformEnum.nativeApp){var b=function(){this.innerPressedImage(c,a)};navigator.photoGallery.startGallery(b.hitch(this),a,c)}else{this.innerPressedImage(c,a)}},innerPressedImage:function(d,b){if(this._isGallerySupported()){UsageManager.addEvent(analytics.usageEventTypeEnum.OpenPhotosGallery,{index:b,count:d.length});UN.openDialog({cbDone:this._onDialogDone.hitch(this),alias:this.URL_ALIAS});this.isOpen=true;var a={jQueryMobile:false,backButtonHideEnabled:false,minUserZoom:1,getImageSource:this._getImageSource,getImageCaption:this._getImageCaption,captionAndToolbarAutoHideDelay:this.AUTO_HIDE_DELAY,enableUIWebViewRepositionTimeout:true};var c=this;this._galleryInstance=window.Code.PhotoSwipe.attach(d,a);this._galleryInstance.addEventHandler(window.Code.PhotoSwipe.EventTypes.onShow,function(){$("html").addClass("photoswipe")});this._galleryInstance.addEventHandler(window.Code.PhotoSwipe.EventTypes.onBeforeHide,function(){$("html").removeClass("photoswipe")});this._galleryInstance.show(b);this._galleryInstance.documentOverlay.el.dir="ltr";this._galleryInstance.toolbar.captionEl.dir="ltr";this._galleryInstance.toolbar.toolbarEl.dir="ltr";this._galleryInstance.uiLayer.el.dir="ltr";this._galleryInstance.carousel.el.dir="ltr";this._galleryInstance.addEventHandler(Code.PhotoSwipe.EventTypes.onHide,function(){if(this.isOpen){UN.closeDialog()}$(window).trigger("resize")}.hitch(this))}else{if(PLATFORM==platformEnum.simulator){cqm.showToastMessage("Photo gallery view is not supported in simulator mode")}else{cqm.showToastMessage(_T("DialogCaptionPhotosManagerDeviceNotSupported"))}}},_isGallerySupported:function(){return window.getComputedStyle},_getImageSource:function(a){return a.largeImage},_getImageCaption:function(g){var c="";if(g.photoTime){c=dateFormat(g.photoTime*1000,"dateTime")}var e=Utils.String.trailString(g.title,80);var f=photoGalleryTemplates.imageCaptionMarkup({title:e,time:c});var b=$(f);if(g.shareInfo){var d=b.find(".ps-share-button-container");var a=$(photoGalleryTemplates.shareButtonMarkup({}));ShareControlHelper.addShareControlButton(d,new Backbone.Model({shareInfo:g.shareInfo}),a)}return b[0]},_onDialogDone:function(a){this.isOpen=false;this._galleryInstance.hide()}}; var photoGalleryTemplates={imageCaptionMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="photo_swipe_caption">'+((__t=(title))==null?"":__t)+'<BR /><div class="ps-caption-date">'+((__t=(time))==null?"":__t)+'</div><div class="ps-share-button-container"></div></div>'}return __p},shareButtonMarkup:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="icon sprite sprite-sharePhotos"></div>'}return __p}}; var DividedScreenView=Backbone.View.extend({tagName:"div",className:"divided_screen",initialize:function(){this.$page1container=$('<div class="page1_container clr_appGeneral_scrnDiv_bg clr_appGeneral_scrnDiv_brdr"></div>');this.$page2container=$('<div class="page2_container"></div>');this.$el.append(this.$page1container).append(this.$page2container);this._view1=null;this._view2=null;var b=this.options.leftWidth||"33%";var a=this.options.minWidth||"300px";this.$page1container.css({width:b,"min-width":a});this.$el.attr({"data-role":"page"});this.$el.bind("pageshow",function(){if(this._view1){this._view1.trigger("pageshow")}if(this._view2){this._view2.trigger("pageshow")}}.hitch(this));this.$el.bind("pagehide",function(){if(this._view1){this._view1.trigger("pagehide")}if(this._view2){this._view2.trigger("pagehide")}}.hitch(this))},addRefreshButton:function(b,a){var c=this.$el.attr("data-buttons")+" refresh";this.$el.attr({"data-buttons":c});this.$el.bind("refresh",function(){if(b&&this._view1){this._view1.handleRefreshClick()}if(a&&this._view2){this._view2.handleRefreshClick()}}.hitch(this));this.$el.bind("silentRefresh",function(){if(b&&this._view1){this._view1.handleSilentRefresh()}if(a&&this._view2){this._view2.handleSilentRefresh()}}.hitch(this));return this},render:function(){return this},_setViewInContainer:function(b,a){if(b.$el.parent().length>0){return false}b.$el.attr("data-role","minipage");a.empty().append(b.$el);return true},setView1:function(a){if(this._setViewInContainer(a,this.$page1container)){this._view1=a}},setView2:function(a){if(this._setViewInContainer(a,this.$page2container)){this._view2=a}},addTabsView:function(a){if(this._view1){this._view1.addTabsView(a)}}}); var VideoPlayerUtils={removeRelatedVideos:function(a){if(a.indexOf("?")>-1){return a+"&rel=0"}else{return a+"?rel=0"}}}; var VideoPlayerModel=Backbone.Model.extend({defaults:{isYoutube:false,picture:"",videoUrl:"",rtspUrl:""}}); var VideoPlayerView=Backbone.View.extend({tagName:"div",events:{tap:"itemClicked"},render:function(){var b=this.model.get("picture");if(!b){b=""}if(this.options.useBigIcon){var d="play_circle"}else{var d="playVideo"}var a='<span class="video_player_play_icon sprite sprite-'+d+'"></span>';if(this.options.isSliced){this.$el.addClass("video_player_sliced_poster sliced_image clr_appGeneral_bg").html(a).css("background-image","url('"+b+"')")}else{var c='<img class="video_player_image" src="'+b+'" />'+a;this.$el.addClass("video_player_poster clr_appGeneral_bg").html(c);this.$el.find("IMG").error(function(){$(this).remove()})}return this},itemClicked:function(f){f.preventDefault();var d=this.model.get("isYoutube");if(PLATFORM===platformEnum.nativeApp){var c=this.model.get("videoUrl");if(d){c=VideoPlayerUtils.removeRelatedVideos(c)}navigator.video.play(c,d?VideoTypes.YOUTUBE:VideoTypes.GENERAL);return}if(d&&DEVICE===deviceTypeEnum.android&&PLATFORM!==platformEnum.simulator){var c=this.model.get("videoUrl");if(d){c=VideoPlayerUtils.removeRelatedVideos(c)}window.location=c;return}var a=new FullScreenVideoPlayerView({model:this.model});$("body").append(a.render().el);var b=function(){a.$el.remove()};UN.openDialog({cbDone:b});a.bind("closePlayer",function(){UN.closeDialog()})}}); var FullScreenVideoPlayerView=Backbone.View.extend({render:function(){var videoUrl=this.model.get("videoUrl"),isYoutube=this.model.get("isYoutube"),video;videoUrl=videoUrl.replace("youtube.com/v/","youtube.com/embed/");if(isYoutube){videoUrl=VideoPlayerUtils.removeRelatedVideos(videoUrl);var additionalParams="html5=0&autoplay=1";videoUrl+=videoUrl.indexOf("?")?"&":"?";videoUrl+=additionalParams;video=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<iframe width="100%" height="100%" src="'+((__t=(videoUrl))==null?"":__t)+'" allowfullscreen="true" autohide="1" autoplay="1" width="100%" height="100%"></iframe>'}return __p};video=video({videoUrl:videoUrl})}else{var previewImageUrl=this.model.get("imageUrl")||this.model.get("picture");var video=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<video controls autoplay="1" class="video_player t3d" poster="'+((__t=(poster))==null?"":__t)+'"><source src="'+((__t=(videoUrl))==null?"":__t)+'"></video>'}return __p};video=video({videoUrl:videoUrl,poster:previewImageUrl})}var header='<div class="full_video_player_header"><div class="video_close_button sprite sprite-ps-close"></div></div>';var html=header+'<div class="full_video_player_body">'+video+"</div>";this.$el.addClass("video_full_player").html(html);var $closeButton=this.$el.find(".video_close_button");$closeButton.tap(function(e){e.preventDefault();this.trigger("closePlayer")}.hitch(this),false);$(window).bind("throttledresize",this._resizePlayer.hitch(this));this._resizePlayer();return this},_resizePlayer:function(){var a=window.innerHeight+"px";var b=window.innerWidth+"px";this.$el.css({height:a,width:b})}}); var LogoHeaderView=Backbone.View.extend({className:"logo_img_header",render:function(){var a=this.model.get("logoImgUrl");if(a){this.$el.html(logoHeaderTemplates.tpl({logoImgUrl:a}));this.$el.find("IMG").load(function(){var b=Scrolling.getMyScrollerWrapper(this.$el);Scrolling.onContentChanged(b)}.hitch(this)).error(function(){$(this).remove()})}return this}}); var logoHeaderTemplates={tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<img class="logo_header_image" src="'+((__t=(logoImgUrl))==null?"":__t)+'" />'}return __p}}; var PurchaseItemModel=Backbone.Model.extend({defaults:{methods:[],itemModel:null},methodTypeEnum:{externalLink:2},_checkiTunes:function(b){if(DEVICE===deviceTypeEnum.iphone&&PLATFORM===platformEnum.nativeApp){function a(){function g(h){}var d=encodeURIComponent(b.get("author"))||"";var e=encodeURIComponent(b.get("collectionTitle"))||"";var f=encodeURIComponent(b.get("title"))||"";var c=[{artistName:d,albumName:e,songName:f}];Cordova.exec(g,null,"iPodLib","queryMediaItems",[{items:c}]);document.removeEventListener("itunesLibraryChanged")}document.addEventListener("itunesLibraryChanged",a,false)}},buy:function(d,c,b){if(!d){return}if(d.type===this.methodTypeEnum.externalLink&&d.url){var a=UrlGenerator.generateUrl(d.url,{});appDriver.openLink(null,null,{url:a,title:a});this._checkiTunes(this.get("itemModel"))}}}); var PurchaseItemView=Backbone.View.extend({tagName:"div",events:{tap:"itemClicked"},initialize:function(){this.buyString=_T("HtmlTextPurchaseItemBuy");this.colorClass="clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt"},render:function(){var a=purchaseItemTemplates.defaultBuyButton({buyString:this.buyString,colorClass:this.colorClass});this.$el.html(a);return this},chooseMethod:function(c){var a=this.model.get("methods");if(a&&a.length>0){if(a.length===1){Utils.Helpers.funcWrapper(c)(a[0])}else{var d=[];_.each(a,function(k,f){var j=k.title||"";var g=k.price||"";var h=purchaseItemTemplates.chooseMethodButton({title:j,price:g});d[f]={title:h,returnValue:k}});var e=purchaseItemTemplates.cancelMethodButton({cancelString:_T("ButtonCancel")});var b={dialogTitle:_T("DialogCaptionPurchaseChooseMethod"),cancelTitle:e,dialogWidth:260};ChooseDialog.execute(d,c,c,b)}}else{Utils.Helpers.funcWrapper(c)(null)}},itemClicked:function(b){b.preventDefault();var a=function(e){var d=function(f){};var c=function(g){var h=_T("DialogMessagePurchaseFail");var f=[{text:_T("ButtonClose")}];uiDriver.showDialogBox(null,null,{title:_T("DialogCaptionError"),message:h,buttons:f})};this.model.buy(e,d,c)};this.chooseMethod(a.hitch(this))}}); var purchaseItemTemplates={};purchaseItemTemplates.defaultBuyButton=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="purchase_item_button '+((__t=(colorClass))==null?"":__t)+'" data-role="button">'+((__t=(buyString))==null?"":__t)+"</div>"}return __p};purchaseItemTemplates.chooseMethodButton=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="puechase_method_item"><span class="puechase_method_text title">'+((__t=(title))==null?"":__t)+'</span><span class="puechase_method_text price">'+((__t=(price))==null?"":__t)+"</span></div"}return __p};purchaseItemTemplates.cancelMethodButton=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="puechase_cancel_item">'+((__t=(cancelString))==null?"":__t)+"</div"}return __p}; var MapPageView=Backbone.View.extend({className:"map-page-view",events:{pageshow:"onPageShow"},_googleMapsView:null,attributes:{"data-role":"page"},initialize:function(){var a=this.model.toJSON();a.callback=this.onGoogleReady.hitch(this);this._googleMapsView=new GoogleMapsView(a)},render:function(){return this},onPageShow:function(){if(!this._needToRender){this._needToRender=true;cqm.showLoading(_T("HtmlTextMapLoading"),this.$el,false);if(this._googleReady){this.renderMap()}}},onGoogleReady:function(){if(!window.GoogleMarkerLabel.draw){GoogleMarkerLabelClassCreator.createClass()}this._googleReady=true;if(this._needToRender){this.renderMap()}Utils.Helpers.funcWrapper(this.model.get("callback"))()},renderMap:function(){this.$el.html(this._googleMapsView.render().el);cqm.hideLoading(this.$el)}}); var ListItemView=Backbone.View.extend({tagName:"li",initialize:function(){this.model.bind("change:selected",this.onSelectedChange,this)},onSelectedChange:function(){if(LAYOUT===layoutFormat.wide){if(this.model.get("selected")){this.$el.addClass("selected");Scrolling.scrollToScope(this.$el)}else{this.$el.removeClass("selected")}}}}); var BaseItemsView=(function(){var a=5;return Backbone.View.extend({events:{"tap .more_container":"_onShowMoreTap"},_initOptions:function(){var b={showMoreStr:_T("HtmlTextPaginationShowMoreItems"),loadingStr:_T("HtmlTextPaginationLoadingItems")};this.options=$.extend({},b,this.options)},initialize:function(){this._initOptions();var b=this.model.get("items");b.bind("getItemsSuccess",this._onGetItemsSuccess,this);b.bind("getItemsFail",this.onGetDataFail,this);b.bind("add",this._renderOneItem,this);b.bind("singleAdd",this._refreshScroll,this);b.bind("reset",this._reset,this)},handleRefreshClick:function(){this.model.set("loadingType",loadingTypeEnum.REFRESH);this.model.getItems(executeTypeEnum.FORCE_NETWORK)},handleSilentRefresh:_.throttle(function(){if(this.model.isExpiredCache()){this.model.set("loadingType",loadingTypeEnum.SILENT_REFRESH);this.model.getItems(executeTypeEnum.FORCE_NETWORK)}},a*1000*60),render:function(){this._reset();this._renderItems();this._renderShowMoreButton();return this},_onGetItemsSuccess:function(b,e,d){this._renderShowMoreButton();this._refreshScroll();var c=this.model.get("items")},_refreshScroll:function(){var b=this.getRootView();if(b){this.$myScrollWrapper=this.$myScrollWrapper||Scrolling.getMyScrollerWrapper(b);Scrolling.onContentChanged(this.$myScrollWrapper)}},_reset:function(){},_renderItems:function(){var b=this.model.get("items");if(b){b.each(this._renderOneItem.hitch(this))}},_renderOneItem:function(b){},_renderShowMoreButton:function(){var c=this.model.get("items");if(!c||c.EOF||c.length===0){this._removeShowMoreButton();return}var b=this.getRootView();if(!b){return}if(!this.$showMoreButton){this.$showMoreButton=$(commonTemplates.showMoreButton(this.options));this.$getMoreButton=this.$showMoreButton.find(".button_text");this.$getMoreLoading=this.$showMoreButton.find(".loading_text");b.append(this.$showMoreButton)}this.$getMoreLoading.hide();this.$getMoreButton.show();this.$showMoreButton.addClass("read_more_button")},_removeShowMoreButton:function(){if(this.$showMoreButton){this.$showMoreButton.remove();this.$showMoreButton=null}},onGetDataFail:function(c,b){this._removeShowMoreButton()},_onShowMoreTap:function(b){b.stopImmediatePropagation();b.preventDefault();this.$getMoreButton.hide();this.$getMoreLoading.show();this.$showMoreButton.removeClass("read_more_button");this.model.set("loadingType",loadingTypeEnum.SHOW_MORE);this.model.getNextPage(executeTypeEnum.HIT_AND_RUN_SILENT)},getRootView:function(){return null}})}()); var ItemsView=BaseItemsView.extend({initialize:function(){BaseItemsView.prototype.initialize.apply(this);this.$itemsList=$('<ul class="feeds_items_list"></ul>');this.getRootView().append(this.$itemsList)},_reset:function(){this.$itemsList.html("")},_renderOneItem:function(c,d,a){var b=this.createItemView(c);if(b){if(a&&a.index===0){this.$itemsList.prepend(b.render().el)}else{this.$itemsList.append(b.render().el)}}},createItemView:function(a){return null},getRootView:function(){return null}}); var PageTabModel=Backbone.Model.extend({defaults:{title:""}}); var PageTabsModel=Backbone.Model.extend({defaults:{items:[]}}); var PageTabView=Backbone.View.extend({tagName:"td",className:"page-tab-view clr_tabBar_item_bg clr_tabBar_item_brdr",events:{tap:"tabClicked"},initialize:function(){var a=this.options.width+"%";this.$el.attr("data-role","button").css({width:a})},render:function(){this.$el.html(commonTemplates.pageTabViewTemplate(this.model.toJSON()));if(this.options.selected){this.$el.addClass("selected");this.$el.find("SPAN").addClass("selected")}return this},tabClicked:function(a){a.preventDefault();this.trigger("tabClicked",this)}}); var PageTabsView=Backbone.View.extend({tagName:"table",className:"page-tabs-view clr_tabBar_bg clr_tabBar_brdr",_pageTabViews:[],render:function(){var h=$("<tr></tr>");this.$el.append(h);var a=this.model.get("items");var b=a.length;var f=Math.floor(100/b);for(var d=0;d<b;++d){var g=a[d];var e=new PageTabModel(g);var c=new PageTabView({model:e,index:d,width:f,selected:d==this.options.selectedIndex});c.bind("tabClicked",this._onTabClicked,this);h.append(c.render().el)}return this},_onTabClicked:function(a){if(a.options.index!=this.options.selectedIndex){UN.navTo(a.model.get("alias"),{level:1,isInner:false})}}}); HtmlContainerControl=function(){};HtmlContainerControl.constructor=HtmlContainerControl;HtmlContainerControl.prototype={renderHtml:function(d,e,c){if(!e){return}var a={zoomOnWide:true,changeColors:false,colorType:"A"};c=_.extend({},a,c);this.$myScrollWrapper=this.$myScrollWrapper||Scrolling.getMyScrollerWrapper(d);var b=$('<div class="html_container_control">'+e+"</div>");if((LAYOUT===layoutFormat.wide)&&c.zoomOnWide){b.addClass("zoom")}this._stylizeHtml(b,c);d.html(b);this._bindEvents(d)},_stylizeHtml:function(e,c){e.find("iframe").each(function(){$(this).replaceWith($(this).text())});e.find("object,style,link,script").remove();if(c.changeColors){var d="clr_contType"+c.colorType+"_lnkTxt";var b="clr_contType"+c.colorType+"_txt";var a="clr_contType"+c.colorType+"hdlTxt";e.find("a").addClass(d);e.find(":header").addClass(a);e.addClass(b);e.find("*").css({color:"","background-color":""})}e.find("IMG").css({"max-width":"100%",width:"auto",height:"auto"});e.find("P").css({margin:"0px 0px 7px 0px"});Scrolling.onContentChanged(this.$myScrollWrapper)},_bindEvents:function(a){var b=a.find("a");$.each(b,function(d,e){var c=$(e).attr("href");$(e).attr("href","javascript:void(0)");$(e).attr("data-href",c)});a.find("a").tap(function(f){var d=$(this);var c=d.attr("data-href");appDriver.openLink(null,null,{url:c,title:d.text()});f.preventDefault();return false});a.find("IMG").load(function(){Scrolling.onContentChanged(this.$myScrollWrapper)}.hitch(this)).error(function(){$(this).remove()})}}; LinksTextControl=function(){};LinksTextControl.constructor=LinksTextControl;LinksTextControl.prototype={_rgxLink:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[.\!\/\\w]*))?)/g,renderText:function(d,c,b){if(!c){return}var a={changeColors:true,sanitize:true};b=_.extend({},a,b);if(b.sanitize){c=Utils.String.sanitizeText(c,true)}replacment='<span class="link" data-link="$1">$1</span>';c=c.replace(this._rgxLink,replacment);d.html(c);this._stylizeHtml(d,b);this._bindEvents(d)},_stylizeHtml:function(b,a){if(a.changeColors){b.find(".link").addClass("clr_contTypeA_lnkTxt")}},_bindEvents:function(a){a.find(".link").tap(function(d){var c=$(this);var b=c.attr("data-link");if(b.substr(0,3)==="www"){b="http://"+b}appDriver.openLink(null,null,{url:b,title:c.text()})})}}; var AudioPlayer=function(){var y={};y.modeEnum={stop:0,play:1,loading:2};y.errorEnum={ok:0,noPlayer:-1,errorOccured:-2};var o=null;var e=y.modeEnum.stop;var q=false;var d=1;var i=0;var h=0;var k=false;var t=false;var f=false;var s=false;var l=-1;var p=null;var m=null;var b=null;var n=null;var u=null;var g=null;var c={pageId:"a"};function x(z){if(typeof(p)==="function"){p(z)}}function j(z){if(d===z){return}d=z;if(typeof(b)==="function"){b(z)}}function a(A,z){if((e===A)&&(q===z)){return}if(o!==null){clearTimeout(o);o=null}e=A;q=z;if(typeof(n)==="function"){n(A,z)}}function v(z){if(i===z){return}i=z;if(typeof(u)==="function"){u(z)}}var w=function(D){l=D;var H=function(){a(y.modeEnum.stop,false)};audioDriver.registerMediaPause(null,null,l,H,c);var B=function(){a(y.modeEnum.play,false)};audioDriver.registerMediaPlaying(null,null,l,B,c);var E=function(){if(typeof(m)==="function"){m()}};audioDriver.registerMediaEnded(null,null,l,E,c);var F=function(K){v(K)};audioDriver.registerMediaTimeUpdate(null,null,l,F,c);var I=function(K){a(e,false)};audioDriver.registerMediaSeeked(null,null,l,I,c);var z=function(K){a(e,true)};audioDriver.registerMediaSeeking(null,null,l,z,c);var J=function(){cbGetDurationSuccess=function(K){h=K;if(typeof(g)==="function"){g()}};audioDriver.getDuration(cbGetDurationSuccess,null,l,c)};audioDriver.registerLoadedMetaData(null,null,l,J,c);var G=function(){k=true;if(f){f=false;audioDriver.play(null,null,l,c)}};audioDriver.registerMediaCanPlay(null,null,l,G,c);var C=function(){if(DEVICE===deviceTypeEnum.iphone){k=true;if(f){f=false;audioDriver.play(null,null,l,c)}}};audioDriver.registerLoadStart(null,null,l,C,c);var A=function(){t=true};audioDriver.registerError(null,null,l,A,c)};audioDriver.createPlayer(w,null,c);var r=function(z){j(z)};audioDriver.registerVolumeChanged(null,null,r,c);y.getVolume=function(){return d};y.getCurrentTime=function(){return i};y.getDuration=function(){return h};y.getIsMute=function(){return s};y.getMode=function(){return e};y.getSeekingMode=function(){return q};y.isLoading=function(){return(q||(e===y.modeEnum.loading))};y.play=function(){if(l<0){x(y.errorEnum.noPlayer);return y.errorEnum.noPlayer}if(t){x(y.errorEnum.errorOccured);return y.errorEnum.errorOccured}a(y.modeEnum.loading,q);if(o!==null){clearTimeout(o);o=null}o=setTimeout(function(){x(y.errorEnum.errorOccured);y.pause()},30000);if(k){audioDriver.play(null,null,l,c)}else{f=true}return y.errorEnum.ok};y.pause=function(){if(l<0){return y.errorEnum.noPlayer}audioDriver.pause(null,null,l,c);a(y.modeEnum.stop,false);return y.errorEnum.ok};y.setUrl=function(A){if(l<0){return y.errorEnum.noPlayer}if(o!==null){clearTimeout(o);o=null}var B=e;k=false;t=false;h=0;a(y.modeEnum.loading,false);audioDriver.pause(null,null,l,c);var z=function(){if(B===y.modeEnum.stop){a(y.modeEnum.stop,q)}else{y.play()}};audioDriver.setUrl(z,null,l,A,c);return y.errorEnum.ok};y.setCurrentTime=function(z){if(l<0){return y.errorEnum.noPlayer}audioDriver.setCurrentTime(null,null,l,z,c);return y.errorEnum.ok};y.setVolume=function(z){s=false;audioDriver.setVolume(null,null,z,c)};y.doMute=function(){s=true;audioDriver.setVolume(null,null,0,c)};y.doUnMute=function(){s=false;audioDriver.setVolume(null,null,d,c)};y.switchMuteMode=function(){if(s){y.doUnMute()}else{y.doMute()}};y.registerErrorPlaying=function(z){p=z};y.registerMediaEnded=function(z){m=z};y.registerVolumeChanged=function(z){b=z};y.registerModeChanged=function(z){n=z};y.registerCurrentTimeChanged=function(z){u=z};y.registerLoadedMetaData=function(z){g=z};return y}; !function(v,u){function m(B,A){function z(){}z[r]=this[r];var y=this,x=new z,w=q(B),i=w?B:this,f=w?{}:B,e=function(){this.initialize?this.initialize.apply(this,arguments):(A||w&&y.apply(this,arguments),i.apply(this,arguments))};e.methods=function(b){n(x,b,y),e[r]=x;return this},e.methods.call(e,f).prototype.constructor=e,e.extend=arguments.callee,e[r].implement=e.statics=function(d,c){d=typeof d=="string"?function(){var a={};a[d]=c;return a}():d,n(this,d,y);return this};return e}function n(e,c,h){for(var f in c){c.hasOwnProperty(f)&&(e[f]=q(c[f])&&q(h[r][f])&&t.test(c[f])?o(f,c[f],h):c[f])}}function o(e,d,f){return function(){var b=this.supr;this.supr=f[r][e];var a=d.apply(this,arguments);this.supr=b;return a}}function p(b){return m.call(q(b)?b:s,b,1)}var t=/xyz/.test(function(){xyz})?/\bsupr\b/:/.*/,s=function(){},r="prototype",q=function(b){return typeof b===u};if(typeof module!="undefined"&&module.exports){module.exports=p}else{var l=v.klass;p.noConflict=function(){v.klass=l;return this},v.klass=p}}(this,"function"); (function(a){if(!Function.prototype.bind){Function.prototype.bind=function(e){var f=[].slice,c=f.call(arguments,1),b=this,g=function(){},d=function(){return b.apply(this instanceof g?this:(e||{}),c.concat(f.call(arguments)))};g.prototype=b.prototype;d.prototype=new g();return d}}if(typeof a.Code==="undefined"){a.Code={}}a.Code.Util={registerNamespace:function(){var g=arguments,e=null,f,d,h,c,k,b,l;for(f=0,b=g.length;f<b;f++){h=g[f];c=h.split(".");k=c[0];if(typeof a[k]==="undefined"){a[k]={}}e=a[k];for(d=1,l=c.length;d<l;++d){e[c[d]]=e[c[d]]||{};e=e[c[d]]}}},coalesce:function(){var c,b;for(c=0,b=arguments.length;c<b;c++){if(!this.isNothing(arguments[c])){return arguments[c]}}return null},extend:function(b,c,d){var e;if(this.isNothing(d)){d=true}if(b&&c&&this.isObject(c)){for(e in c){if(this.objectHasProperty(c,e)){if(d){b[e]=c[e]}else{if(typeof b[e]==="undefined"){b[e]=c[e]}}}}}},clone:function(c){var b={};this.extend(b,c);return b},isObject:function(b){return b instanceof Object},isFunction:function(b){return({}).toString.call(b)==="[object Function]"},isArray:function(b){return b instanceof Array},isLikeArray:function(b){return typeof b.length==="number"},isNumber:function(b){return typeof b==="number"},isString:function(b){return typeof b==="string"},isNothing:function(b){if(typeof b==="undefined"||b===null){return true}return false},swapArrayElements:function(b,e,d){var c=b[e];b[e]=b[d];b[d]=c},trim:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},toCamelCase:function(b){return b.replace(/(\-[a-z])/g,function(c){return c.toUpperCase().replace("-","")})},toDashedCase:function(b){return b.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})},arrayIndexOf:function(f,h,g){var e,d,c,b;c=-1;for(e=0,d=h.length;e<d;e++){b=h[e];if(!this.isNothing(g)){if(this.objectHasProperty(b,g)){if(b[g]===f){c=e;break}}}else{if(b===f){c=e;break}}}return c},objectHasProperty:function(c,b){if(c.hasOwnProperty){return c.hasOwnProperty(b)}else{return("undefined"!==typeof c[b])}}}}(window));(function(a,b){b.Browser={ua:null,version:null,safari:null,webkit:null,opera:null,msie:null,chrome:null,mozilla:null,android:null,blackberry:null,iPad:null,iPhone:null,iPod:null,iOS:null,is3dSupported:null,isCSSTransformSupported:null,isTouchSupported:null,isGestureSupported:null,_detect:function(){this.ua=a.navigator.userAgent;this.version=(this.ua.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[]);this.safari=(/Safari/gi).test(a.navigator.appVersion);this.webkit=/webkit/i.test(this.ua);this.opera=/opera/i.test(this.ua);this.msie=/msie/i.test(this.ua)&&!this.opera;this.chrome=/Chrome/i.test(this.ua);this.firefox=/Firefox/i.test(this.ua);this.fennec=/Fennec/i.test(this.ua);this.mozilla=/mozilla/i.test(this.ua)&&!/(compatible|webkit)/.test(this.ua);this.android=/android/i.test(this.ua);this.blackberry=/blackberry/i.test(this.ua);this.iOS=(/iphone|ipod|ipad/gi).test(a.navigator.platform);this.iPad=(/ipad/gi).test(a.navigator.platform);this.iPhone=(/iphone/gi).test(a.navigator.platform);this.iPod=(/ipod/gi).test(a.navigator.platform);var c=document.createElement("div");this.is3dSupported=!b.isNothing(c.style.WebkitPerspective);this.isCSSTransformSupported=(!b.isNothing(c.style.WebkitTransform)||!b.isNothing(c.style.MozTransform)||!b.isNothing(c.style.transformProperty));this.isTouchSupported=this.isEventSupported("touchstart");this.isGestureSupported=this.isEventSupported("gesturestart")},_eventTagNames:{select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},isEventSupported:function(c){var e=document.createElement(this._eventTagNames[c]||"div"),d;c="on"+c;d=b.objectHasProperty(e,c);if(!d){e.setAttribute(c,"return;");d=typeof e[c]==="function"}e=null;return d},isLandscape:function(){return(b.DOM.windowWidth()>b.DOM.windowHeight())}};b.Browser._detect()}(window,window.Code.Util));(function(a,b){b.extend(b,{Events:{add:function(e,d,c){this._checkHandlersProperty(e);if(d==="mousewheel"){d=this._normaliseMouseWheelType()}if(typeof e.__eventHandlers[d]==="undefined"){e.__eventHandlers[d]=[]}e.__eventHandlers[d].push(c);if(this._isBrowserObject(e)){e.addEventListener(d,c,false)}},remove:function(h,g,f){this._checkHandlersProperty(h);if(g==="mousewheel"){g=this._normaliseMouseWheelType()}if(h.__eventHandlers[g] instanceof Array){var e,d,c=h.__eventHandlers[g];if(b.isNothing(f)){if(this._isBrowserObject(h)){for(e=0,d=c.length;e<d;e++){h.removeEventListener(g,c[e],false)}}h.__eventHandlers[g]=[];return}for(e=0,d=c.length;e<d;e++){if(c[e]===f){c.splice(e,1);break}}if(this._isBrowserObject(h)){h.removeEventListener(g,f,false);return}}},fire:function(g,l){var h,f,d,m,e,k=Array.prototype.slice.call(arguments).splice(2),c;if(l==="mousewheel"){l=this._normaliseMouseWheelType()}if(this._isBrowserObject(g)){if(typeof l!=="string"){throw"type must be a string for DOM elements"}c=this._NATIVE_EVENTS[l];d=document.createEvent(c?"HTMLEvents":"UIEvents");d[c?"initEvent":"initUIEvent"](l,true,true,a,1);if(k.length<1){g.dispatchEvent(d);return}}this._checkHandlersProperty(g);if(typeof l==="string"){d={type:l}}else{d=l}if(!d.target){d.target=g}if(!d.type){throw new Error("Event object missing 'type' property.")}if(g.__eventHandlers[d.type] instanceof Array){m=g.__eventHandlers[d.type];k.unshift(d);for(h=0,f=m.length;h<f;h++){e=m[h];if(!b.isNothing(e)){e.apply(g,k)}}}},getMousePosition:function(d){var c={x:0,y:0};if(d.pageX){c.x=d.pageX}else{if(d.clientX){c.x=d.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)}}if(d.pageY){c.y=d.pageY}else{if(d.clientY){c.y=d.clientY+(document.documentElement.scrollTop||document.body.scrollTop)}}return c},getTouchEvent:function(c){return c},getWheelDelta:function(c){var d=0;if(!b.isNothing(c.wheelDelta)){d=c.wheelDelta/120}else{if(!b.isNothing(c.detail)){d=-c.detail/3}}return d},domReady:function(c){document.addEventListener("DOMContentLoaded",c,false)},_checkHandlersProperty:function(c){if(b.isNothing(c.__eventHandlers)){b.extend(c,{__eventHandlers:{}})}},_isBrowserObject:function(c){if(c===a||c===a.document){return true}return this._isElement(c)||this._isNode(c)},_isElement:function(c){return(typeof a.HTMLElement==="object"?c instanceof a.HTMLElement:typeof c==="object"&&c.nodeType===1&&typeof c.nodeName==="string")},_isNode:function(c){return(typeof a.Node==="object"?c instanceof a.Node:typeof c==="object"&&typeof c.nodeType==="number"&&typeof c.nodeName==="string")},_normaliseMouseWheelType:function(){if(b.Browser.isEventSupported("mousewheel")){return"mousewheel"}return"DOMMouseScroll"},_NATIVE_EVENTS:{click:1,dblclick:1,mouseup:1,mousedown:1,contextmenu:1,mousewheel:1,DOMMouseScroll:1,mouseover:1,mouseout:1,mousemove:1,selectstart:1,selectend:1,keydown:1,keypress:1,keyup:1,orientationchange:1,touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,focus:1,blur:1,change:1,reset:1,select:1,submit:1,load:1,unload:1,beforeunload:1,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1}}})}(window,window.Code.Util));(function(a,b){b.extend(b,{DOM:{setData:function(f,e,g){if(b.isLikeArray(f)){var d,c;for(d=0,c=f.length;d<c;d++){b.DOM._setData(f[d],e,g)}}else{b.DOM._setData(f,e,g)}},_setData:function(d,c,e){b.DOM.setAttribute(d,"data-"+c,e)},getData:function(e,d,c){return b.DOM.getAttribute(e,"data-"+d,c)},removeData:function(f,e){if(b.isLikeArray(f)){var d,c;for(d=0,c=f.length;d<c;d++){b.DOM._removeData(f[d],e)}}else{b.DOM._removeData(f,e)}},_removeData:function(d,c){b.DOM.removeAttribute(d,"data-"+c)},isChildOf:function(c,d){if(d===c){return false}while(c&&c!==d){c=c.parentNode}return c===d},find:function(g,h){if(b.isNothing(h)){h=a.document}var f=h.querySelectorAll(g),c=[],e,d;for(e=0,d=f.length;e<d;e++){c.push(f[e])}return c},createElement:function(e,d,g){var f,c=document.createElement(e);for(f in d){if(b.objectHasProperty(d,f)){c.setAttribute(f,d[f])}}c.innerHTML=g||"";return c},appendChild:function(c,d){d.appendChild(c)},insertBefore:function(e,c,d){d.insertBefore(e,c)},appendText:function(d,c){b.DOM.appendChild(document.createTextNode(d),c)},appendToBody:function(c){this.appendChild(c,document.body)},removeChild:function(c,d){d.removeChild(c)},removeChildren:function(c){if(c.hasChildNodes()){while(c.childNodes.length>=1){c.removeChild(c.childNodes[c.childNodes.length-1])}}},hasAttribute:function(d,c){return !b.isNothing(d.getAttribute(c))},getAttribute:function(f,e,d){var c=f.getAttribute(e);if(b.isNothing(c)&&!b.isNothing(d)){c=d}return c},setAttribute:function(f,d,g){if(b.isLikeArray(f)){var e,c;for(e=0,c=f.length;e<c;e++){b.DOM._setAttribute(f[e],d,g)}}else{b.DOM._setAttribute(f,d,g)}},_setAttribute:function(d,c,e){d.setAttribute(c,e)},removeAttribute:function(f,d){if(b.isLikeArray(f)){var e,c;for(e=0,c=f.length;e<c;e++){b.DOM._removeAttribute(f[e],d)}}else{b.DOM._removeAttribute(f,d)}},_removeAttribute:function(d,c){if(this.hasAttribute(d,c)){d.removeAttribute(c)}},addClass:function(f,e){if(b.isLikeArray(f)){var d,c;for(d=0,c=f.length;d<c;d++){b.DOM._addClass(f[d],e)}}else{b.DOM._addClass(f,e)}},_addClass:function(f,e){var c=b.DOM.getAttribute(f,"class",""),d=new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)");if(!d.test(c)){if(c!==""){c=c+" "}c=c+e;b.DOM.setAttribute(f,"class",c)}},removeClass:function(f,e){if(b.isLikeArray(f)){var d,c;for(d=0,c=f.length;d<c;d++){b.DOM._removeClass(f[d],e)}}else{b.DOM._removeClass(f,e)}},_removeClass:function(h,g){var c=b.DOM.getAttribute(h,"class",""),f=b.trim(c).split(" "),k="",e,d;for(e=0,d=f.length;e<d;e++){if(f[e]!==g){if(k!==""){k+=" "}k+=f[e]}}if(k===""){b.DOM.removeAttribute(h,"class")}else{b.DOM.setAttribute(h,"class",k)}},hasClass:function(e,d){var c=new RegExp("(?:^|\\s+)"+d+"(?:\\s+|$)");return c.test(b.DOM.getAttribute(e,"class",""))},setStyle:function(f,e,g){if(b.isLikeArray(f)){var d,c;for(d=0,c=f.length;d<c;d++){b.DOM._setStyle(f[d],e,g)}}else{b.DOM._setStyle(f,e,g)}},_setStyle:function(d,c,e){var g,f;if(b.isObject(c)){for(g in c){if(b.objectHasProperty(c,g)){if(g==="width"){b.DOM.width(d,c[g])}else{if(g==="height"){b.DOM.height(d,c[g])}else{d.style[g]=c[g]}}}}}else{d.style[c]=e}},getStyle:function(e,d){var c=a.getComputedStyle(e,"").getPropertyValue(d);if(c===""){c=e.style[d]}return c},hide:function(e){if(b.isLikeArray(e)){var d,c;for(d=0,c=e.length;d<c;d++){b.DOM._hide(e[d])}}else{b.DOM._hide(e)}},_hide:function(c){b.DOM.setData(c,"ccl-disp",b.DOM.getStyle(c,"display"));b.DOM.setStyle(c,"display","none")},show:function(e){if(b.isLikeArray(e)){var d,c;for(d=0,c=e.length;d<c;d++){b.DOM._show(e[d])}}else{b.DOM._show(e)}},_show:function(c){if(b.DOM.getStyle(c,"display")==="none"){var d=b.DOM.getData(c,"ccl-disp","block");if(d==="none"||d===""){d="block"}b.DOM.setStyle(c,"display",d)}},width:function(c,d){if(!b.isNothing(d)){if(b.isNumber(d)){d=d+"px"}c.style.width=d}return this._getDimension(c,"width")},outerWidth:function(d){var c=b.DOM.width(d);c+=parseInt(b.DOM.getStyle(d,"padding-left"),10)+parseInt(b.DOM.getStyle(d,"padding-right"),10);c+=parseInt(b.DOM.getStyle(d,"margin-left"),10)+parseInt(b.DOM.getStyle(d,"margin-right"),10);c+=parseInt(b.DOM.getStyle(d,"border-left-width"),10)+parseInt(b.DOM.getStyle(d,"border-right-width"),10);return c},height:function(c,d){if(!b.isNothing(d)){if(b.isNumber(d)){d=d+"px"}c.style.height=d}return this._getDimension(c,"height")},_getDimension:function(e,f){var c=a.parseInt(a.getComputedStyle(e,"").getPropertyValue(f)),d;if(isNaN(c)){d={display:e.style.display,left:e.style.left};e.style.display="block";e.style.left="-1000000px";c=a.parseInt(a.getComputedStyle(e,"").getPropertyValue(f));e.style.display=d.display;e.style.left=d.left}return c},outerHeight:function(d){var c=b.DOM.height(d);c+=parseInt(b.DOM.getStyle(d,"padding-top"),10)+parseInt(b.DOM.getStyle(d,"padding-bottom"),10);c+=parseInt(b.DOM.getStyle(d,"margin-top"),10)+parseInt(b.DOM.getStyle(d,"margin-bottom"),10);c+=parseInt(b.DOM.getStyle(d,"border-top-width"),10)+parseInt(b.DOM.getStyle(d,"border-bottom-width"),10);return c},documentWidth:function(){return b.DOM.width(document.documentElement)},documentHeight:function(){return b.DOM.height(document.documentElement)},documentOuterWidth:function(){return b.DOM.width(document.documentElement)},documentOuterHeight:function(){return b.DOM.outerHeight(document.documentElement)},bodyWidth:function(){return b.DOM.width(document.body)},bodyHeight:function(){return b.DOM.height(document.body)},bodyOuterWidth:function(){return b.DOM.outerWidth(document.body)},bodyOuterHeight:function(){return b.DOM.outerHeight(document.body)},windowWidth:function(){return a.innerWidth},windowHeight:function(){return a.innerHeight},windowScrollLeft:function(){return a.pageXOffset},windowScrollTop:function(){return a.pageYOffset}}})}(window,window.Code.Util));(function(a,b){b.extend(b,{Animation:{_applyTransitionDelay:50,_transitionEndLabel:(a.document.documentElement.style.webkitTransition!==undefined)?"webkitTransitionEnd":"transitionend",_transitionEndHandler:null,_transitionPrefix:(a.document.documentElement.style.webkitTransition!==undefined)?"webkitTransition":(a.document.documentElement.style.MozTransition!==undefined)?"MozTransition":"transition",_transformLabel:(a.document.documentElement.style.webkitTransform!==undefined)?"webkitTransform":(a.document.documentElement.style.MozTransition!==undefined)?"MozTransform":"transform",_getTransitionEndHandler:function(){if(b.isNothing(this._transitionEndHandler)){this._transitionEndHandler=this._onTransitionEnd.bind(this)}return this._transitionEndHandler},stop:function(d){if(b.Browser.isCSSTransformSupported){var e=d.style[this._transitionPrefix+"Property"],f=(e!=="")?"ccl"+e+"callback":"cclallcallback",c={};b.Events.remove(d,this._transitionEndLabel,this._getTransitionEndHandler());if(b.isNothing(d.callbackLabel)){delete d.callbackLabel}c[this._transitionPrefix+"Property"]="";c[this._transitionPrefix+"Duration"]="";c[this._transitionPrefix+"TimingFunction"]="";c[this._transitionPrefix+"Delay"]="";c[this._transformLabel]="";b.DOM.setStyle(d,c)}else{if(!b.isNothing(a.jQuery)){a.jQuery(d).stop(true,true)}}},fadeIn:function(e,g,h,f,d){d=b.coalesce(d,1);if(d<=0){d=1}if(g<=0){b.DOM.setStyle(e,"opacity",d);if(!b.isNothing(h)){h(e);return}}var c=b.DOM.getStyle(e,"opacity");if(c>=1){b.DOM.setStyle(e,"opacity",0)}if(b.Browser.isCSSTransformSupported){this._applyTransition(e,"opacity",d,g,h,f)}else{if(!b.isNothing(a.jQuery)){a.jQuery(e).fadeTo(g,d,h)}}},fadeTo:function(d,c,f,g,e){this.fadeIn(d,f,g,e,c)},fadeOut:function(c,e,f,d){if(e<=0){b.DOM.setStyle(c,"opacity",0);if(!b.isNothing(f)){f(c);return}}if(b.Browser.isCSSTransformSupported){this._applyTransition(c,"opacity",0,e,f,d)}else{a.jQuery(c).fadeTo(e,0,f)}},slideBy:function(e,c,i,g,h,f){var d={};c=b.coalesce(c,0);i=b.coalesce(i,0);f=b.coalesce(f,"ease-out");d[this._transitionPrefix+"Property"]="all";d[this._transitionPrefix+"Delay"]="0";if(g===0){d[this._transitionPrefix+"Duration"]="";d[this._transitionPrefix+"TimingFunction"]=""}else{d[this._transitionPrefix+"Duration"]=g+"ms";d[this._transitionPrefix+"TimingFunction"]=b.coalesce(f,"ease-out");b.Events.add(e,this._transitionEndLabel,this._getTransitionEndHandler())}d[this._transformLabel]=(b.Browser.is3dSupported)?"translate3d("+c+"px, "+i+"px, 0px)":"translate("+c+"px, "+i+"px)";if(!b.isNothing(h)){e.cclallcallback=h}b.DOM.setStyle(e,d);if(g===0){a.setTimeout(function(){this._leaveTransforms(e)}.bind(this),this._applyTransitionDelay)}},resetTranslate:function(d){var c={};c[this._transformLabel]=c[this._transformLabel]=(b.Browser.is3dSupported)?"translate3d(0px, 0px, 0px)":"translate(0px, 0px)";b.DOM.setStyle(d,c)},_applyTransition:function(d,g,h,f,i,e){var c={};e=b.coalesce(e,"ease-in");c[this._transitionPrefix+"Property"]=g;c[this._transitionPrefix+"Duration"]=f+"ms";c[this._transitionPrefix+"TimingFunction"]=e;c[this._transitionPrefix+"Delay"]="0";b.Events.add(d,this._transitionEndLabel,this._getTransitionEndHandler());b.DOM.setStyle(d,c);if(!b.isNothing(i)){d["ccl"+g+"callback"]=i}a.setTimeout(function(){b.DOM.setStyle(d,g,h)},this._applyTransitionDelay)},_onTransitionEnd:function(c){b.Events.remove(c.currentTarget,this._transitionEndLabel,this._getTransitionEndHandler());this._leaveTransforms(c.currentTarget)},_leaveTransforms:function(f){var l=f.style[this._transitionPrefix+"Property"],k=(l!=="")?"ccl"+l+"callback":"cclallcallback",n,g=b.coalesce(f.style.webkitTransform,f.style.MozTransform,f.style.transform),i,m,j=a.parseInt(b.DOM.getStyle(f,"left"),0),h=a.parseInt(b.DOM.getStyle(f,"top"),0),e,d,c={};if(g!==""){if(b.Browser.is3dSupported){i=g.match(/translate3d\((.*?)\)/)}else{i=g.match(/translate\((.*?)\)/)}if(!b.isNothing(i)){m=i[1].split(", ");e=a.parseInt(m[0],0);d=a.parseInt(m[1],0)}}c[this._transitionPrefix+"Property"]="";c[this._transitionPrefix+"Duration"]="";c[this._transitionPrefix+"TimingFunction"]="";c[this._transitionPrefix+"Delay"]="";b.DOM.setStyle(f,c);a.setTimeout(function(){if(!b.isNothing(m)){c={};c[this._transformLabel]="";c.left=(j+e)+"px";c.top=(h+d)+"px";b.DOM.setStyle(f,c)}if(!b.isNothing(f[k])){n=f[k];delete f[k];n(f)}}.bind(this),this._applyTransitionDelay)}}})}(window,window.Code.Util));(function(b,a,c){c.registerNamespace("Code.Util.TouchElement");c.TouchElement.EventTypes={onTouch:"CodeUtilTouchElementOnTouch"};c.TouchElement.ActionTypes={touchStart:"touchStart",touchMove:"touchMove",touchEnd:"touchEnd",touchMoveEnd:"touchMoveEnd",tap:"tap",doubleTap:"doubleTap",swipeLeft:"swipeLeft",swipeRight:"swipeRight",swipeUp:"swipeUp",swipeDown:"swipeDown",gestureStart:"gestureStart",gestureChange:"gestureChange",gestureEnd:"gestureEnd"}}(window,window.klass,window.Code.Util));(function(b,a,c){c.registerNamespace("Code.Util.TouchElement");c.TouchElement.TouchElementClass=a({el:null,captureSettings:null,touchStartPoint:null,touchEndPoint:null,touchStartTime:null,doubleTapTimeout:null,touchStartHandler:null,touchMoveHandler:null,touchEndHandler:null,mouseDownHandler:null,mouseMoveHandler:null,mouseUpHandler:null,mouseOutHandler:null,gestureStartHandler:null,gestureChangeHandler:null,gestureEndHandler:null,swipeThreshold:null,swipeTimeThreshold:null,doubleTapSpeed:null,dispose:function(){var d;this.removeEventHandlers();for(d in this){if(c.objectHasProperty(this,d)){this[d]=null}}},initialize:function(d,e){this.el=d;this.captureSettings={swipe:false,move:false,gesture:false,doubleTap:false,preventDefaultTouchEvents:true};c.extend(this.captureSettings,e);this.swipeThreshold=50;this.swipeTimeThreshold=250;this.doubleTapSpeed=250;this.touchStartPoint={x:0,y:0};this.touchEndPoint={x:0,y:0}},addEventHandlers:function(){if(c.isNothing(this.touchStartHandler)){this.touchStartHandler=this.onTouchStart.bind(this);this.touchMoveHandler=this.onTouchMove.bind(this);this.touchEndHandler=this.onTouchEnd.bind(this);this.mouseDownHandler=this.onMouseDown.bind(this);this.mouseMoveHandler=this.onMouseMove.bind(this);this.mouseUpHandler=this.onMouseUp.bind(this);this.mouseOutHandler=this.onMouseOut.bind(this);this.gestureStartHandler=this.onGestureStart.bind(this);this.gestureChangeHandler=this.onGestureChange.bind(this);this.gestureEndHandler=this.onGestureEnd.bind(this)}c.Events.add(this.el,"touchstart",this.touchStartHandler);if(this.captureSettings.move){c.Events.add(this.el,"touchmove",this.touchMoveHandler)}c.Events.add(this.el,"touchend",this.touchEndHandler);c.Events.add(this.el,"mousedown",this.mouseDownHandler);if(c.Browser.isGestureSupported&&this.captureSettings.gesture){c.Events.add(this.el,"gesturestart",this.gestureStartHandler);c.Events.add(this.el,"gesturechange",this.gestureChangeHandler);c.Events.add(this.el,"gestureend",this.gestureEndHandler)}},removeEventHandlers:function(){c.Events.remove(this.el,"touchstart",this.touchStartHandler);if(this.captureSettings.move){c.Events.remove(this.el,"touchmove",this.touchMoveHandler)}c.Events.remove(this.el,"touchend",this.touchEndHandler);c.Events.remove(this.el,"mousedown",this.mouseDownHandler);if(c.Browser.isGestureSupported&&this.captureSettings.gesture){c.Events.remove(this.el,"gesturestart",this.gestureStartHandler);c.Events.remove(this.el,"gesturechange",this.gestureChangeHandler);c.Events.remove(this.el,"gestureend",this.gestureEndHandler)}},getTouchPoint:function(d){return{x:d[0].pageX,y:d[0].pageY}},fireTouchEvent:function(k){var j,f=0,d=0,l=0,h,g,i;f=this.touchEndPoint.x-this.touchStartPoint.x;d=this.touchEndPoint.y-this.touchStartPoint.y;l=Math.sqrt((f*f)+(d*d));if(this.captureSettings.swipe){g=new Date();i=g-this.touchStartTime;if(i<=this.swipeTimeThreshold){if(b.Math.abs(f)>=this.swipeThreshold){c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:(f<0)?c.TouchElement.ActionTypes.swipeLeft:c.TouchElement.ActionTypes.swipeRight,targetEl:k.target,currentTargetEl:k.currentTarget});return}if(b.Math.abs(d)>=this.swipeThreshold){c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:(d<0)?c.TouchElement.ActionTypes.swipeUp:c.TouchElement.ActionTypes.swipeDown,targetEl:k.target,currentTargetEl:k.currentTarget});return}}}if(l>1){c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchMoveEnd,point:this.touchEndPoint,targetEl:k.target,currentTargetEl:k.currentTarget});return}if(!this.captureSettings.doubleTap){c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:c.TouchElement.ActionTypes.tap,targetEl:k.target,currentTargetEl:k.currentTarget});return}if(c.isNothing(this.doubleTapTimeout)){this.doubleTapTimeout=b.setTimeout(function(){this.doubleTapTimeout=null;c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:c.TouchElement.ActionTypes.tap,targetEl:k.target,currentTargetEl:k.currentTarget})}.bind(this),this.doubleTapSpeed);return}else{b.clearTimeout(this.doubleTapTimeout);this.doubleTapTimeout=null;c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:c.TouchElement.ActionTypes.doubleTap,targetEl:k.target,currentTargetEl:k.currentTarget})}},onTouchStart:function(g){if(this.captureSettings.preventDefaultTouchEvents){g.preventDefault()}c.Events.remove(this.el,"mousedown",this.mouseDownHandler);var d=c.Events.getTouchEvent(g),f=d.touches;if(f.length>1&&this.captureSettings.gesture){this.isGesture=true;return}this.touchStartTime=new Date();this.isGesture=false;this.touchStartPoint=this.getTouchPoint(f);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:g.target,currentTargetEl:g.currentTarget})},onTouchMove:function(g){if(this.captureSettings.preventDefaultTouchEvents){g.preventDefault()}if(this.isGesture&&this.captureSettings.gesture){return}var d=c.Events.getTouchEvent(g),f=d.touches;c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchMove,point:this.getTouchPoint(f),targetEl:g.target,currentTargetEl:g.currentTarget})},onTouchEnd:function(g){if(this.isGesture&&this.captureSettings.gesture){return}if(this.captureSettings.preventDefaultTouchEvents){g.preventDefault()}var d=c.Events.getTouchEvent(g),f=(!c.isNothing(d.changedTouches))?d.changedTouches:d.touches;this.touchEndPoint=this.getTouchPoint(f);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:g.target,currentTargetEl:g.currentTarget});this.fireTouchEvent(g)},onMouseDown:function(d){d.preventDefault();c.Events.remove(this.el,"touchstart",this.mouseDownHandler);c.Events.remove(this.el,"touchmove",this.touchMoveHandler);c.Events.remove(this.el,"touchend",this.touchEndHandler);if(this.captureSettings.move){c.Events.add(this.el,"mousemove",this.mouseMoveHandler)}c.Events.add(this.el,"mouseup",this.mouseUpHandler);c.Events.add(this.el,"mouseout",this.mouseOutHandler);this.touchStartTime=new Date();this.isGesture=false;this.touchStartPoint=c.Events.getMousePosition(d);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:d.target,currentTargetEl:d.currentTarget})},onMouseMove:function(d){d.preventDefault();c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchMove,point:c.Events.getMousePosition(d),targetEl:d.target,currentTargetEl:d.currentTarget})},onMouseUp:function(d){d.preventDefault();if(this.captureSettings.move){c.Events.remove(this.el,"mousemove",this.mouseMoveHandler)}c.Events.remove(this.el,"mouseup",this.mouseUpHandler);c.Events.remove(this.el,"mouseout",this.mouseOutHandler);this.touchEndPoint=c.Events.getMousePosition(d);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:d.target,currentTargetEl:d.currentTarget});this.fireTouchEvent(d)},onMouseOut:function(f){var d=f.relatedTarget;if(this.el===d||c.DOM.isChildOf(d,this.el)){return}f.preventDefault();if(this.captureSettings.move){c.Events.remove(this.el,"mousemove",this.mouseMoveHandler)}c.Events.remove(this.el,"mouseup",this.mouseUpHandler);c.Events.remove(this.el,"mouseout",this.mouseOutHandler);this.touchEndPoint=c.Events.getMousePosition(f);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:f.target,currentTargetEl:f.currentTarget});this.fireTouchEvent(f)},onGestureStart:function(f){f.preventDefault();var d=c.Events.getTouchEvent(f);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.gestureStart,scale:d.scale,rotation:d.rotation,targetEl:f.target,currentTargetEl:f.currentTarget})},onGestureChange:function(f){f.preventDefault();var d=c.Events.getTouchEvent(f);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.gestureChange,scale:d.scale,rotation:d.rotation,targetEl:f.target,currentTargetEl:f.currentTarget})},onGestureEnd:function(f){f.preventDefault();var d=c.Events.getTouchEvent(f);c.Events.fire(this,{type:c.TouchElement.EventTypes.onTouch,target:this,action:c.TouchElement.ActionTypes.gestureEnd,scale:d.scale,rotation:d.rotation,targetEl:f.target,currentTargetEl:f.currentTarget})}})}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Image");var b=c.Code.PhotoSwipe;b.Image.EventTypes={onLoad:"onLoad",onError:"onError"}}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Image");var b=c.Code.PhotoSwipe;b.Image.ImageClass=a({refObj:null,imageEl:null,src:null,caption:null,metaData:null,imageLoadHandler:null,imageErrorHandler:null,dispose:function(){var f,e;this.shrinkImage();for(f in this){if(d.objectHasProperty(this,f)){this[f]=null}}},initialize:function(g,h,f,e){this.refObj=g;this.originalSrc=h;this.src=h;this.caption=f;this.metaData=e;this.imageEl=new c.Image();this.imageLoadHandler=this.onImageLoad.bind(this);this.imageErrorHandler=this.onImageError.bind(this)},load:function(){this.imageEl.originalSrc=d.coalesce(this.imageEl.originalSrc,"");if(this.imageEl.originalSrc===this.src){if(this.imageEl.isError){d.Events.fire(this,{type:b.Image.EventTypes.onError,target:this})}else{d.Events.fire(this,{type:b.Image.EventTypes.onLoad,target:this})}return}this.imageEl.isError=false;this.imageEl.isLoading=true;this.imageEl.naturalWidth=null;this.imageEl.naturalHeight=null;this.imageEl.isLandscape=false;this.imageEl.onload=this.imageLoadHandler;this.imageEl.onerror=this.imageErrorHandler;this.imageEl.onabort=this.imageErrorHandler;this.imageEl.originalSrc=this.src;this.imageEl.src=this.src},shrinkImage:function(){if(d.isNothing(this.imageEl)){return}if(this.imageEl.src.indexOf(this.src)>-1){this.imageEl.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";if(!d.isNothing(this.imageEl.parentNode)){d.DOM.removeChild(this.imageEl,this.imageEl.parentNode)}}},onImageLoad:function(f){this.imageEl.onload=null;this.imageEl.naturalWidth=d.coalesce(this.imageEl.naturalWidth,this.imageEl.width);this.imageEl.naturalHeight=d.coalesce(this.imageEl.naturalHeight,this.imageEl.height);this.imageEl.isLandscape=(this.imageEl.naturalWidth>this.imageEl.naturalHeight);this.imageEl.isLoading=false;d.Events.fire(this,{type:b.Image.EventTypes.onLoad,target:this})},onImageError:function(f){this.imageEl.onload=null;this.imageEl.onerror=null;this.imageEl.onabort=null;this.imageEl.isLoading=false;this.imageEl.isError=true;d.Events.fire(this,{type:b.Image.EventTypes.onError,target:this})}})}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Cache");var b=c.Code.PhotoSwipe;b.Cache.Mode={normal:"normal",aggressive:"aggressive"};b.Cache.Functions={getImageSource:function(e){return e.href},getImageCaption:function(h){if(h.nodeName==="IMG"){return d.DOM.getAttribute(h,"alt")}var g,f,e;for(g=0,f=h.childNodes.length;g<f;g++){e=h.childNodes[g];if(h.childNodes[g].nodeName==="IMG"){return d.DOM.getAttribute(e,"alt")}}},getImageMetaData:function(e){return{}}}}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Cache");var b=c.Code.PhotoSwipe;b.Cache.CacheClass=a({images:null,settings:null,dispose:function(){var g,f,e;if(!d.isNothing(this.images)){for(f=0,e=this.images.length;f<e;f++){this.images[f].dispose()}this.images.length=0}for(g in this){if(d.objectHasProperty(this,g)){this[g]=null}}},initialize:function(m,o){var k,h,l,g,e,n,f;this.settings=o;this.images=[];for(k=0,h=m.length;k<h;k++){g=m[k];e=this.settings.getImageSource(g);n=this.settings.getImageCaption(g);f=this.settings.getImageMetaData(g);this.images.push(new b.Image.ImageClass(g,e,n,f))}},getImages:function(h){var k,g,f=[],e;for(k=0,g=h.length;k<g;k++){e=this.images[h[k]];if(this.settings.cacheMode===b.Cache.Mode.aggressive){e.cacheDoNotShrink=true}f.push(e)}if(this.settings.cacheMode===b.Cache.Mode.aggressive){for(k=0,g=this.images.length;k<g;k++){e=this.images[k];if(!d.objectHasProperty(e,"cacheDoNotShrink")){e.shrinkImage()}else{delete e.cacheDoNotShrink}}}return f}})}(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Image));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.DocumentOverlay");var b=c.Code.PhotoSwipe;b.DocumentOverlay.CssClasses={documentOverlay:"ps-document-overlay"}}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.DocumentOverlay");var b=c.Code.PhotoSwipe;b.DocumentOverlay.DocumentOverlayClass=a({el:null,settings:null,initialBodyHeight:null,dispose:function(){var e;d.Animation.stop(this.el);d.DOM.removeChild(this.el,this.el.parentNode);for(e in this){if(d.objectHasProperty(this,e)){this[e]=null}}},initialize:function(e){this.settings=e;this.el=d.DOM.createElement("div",{"class":b.DocumentOverlay.CssClasses.documentOverlay},"");d.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,zIndex:this.settings.zIndex});d.DOM.hide(this.el);if(this.settings.target===c){d.DOM.appendToBody(this.el)}else{d.DOM.appendChild(this.el,this.settings.target)}d.Animation.resetTranslate(this.el);this.initialBodyHeight=d.DOM.bodyOuterHeight()},resetPosition:function(){var f,e,g;if(this.settings.target===c){f=d.DOM.windowWidth();e=d.DOM.bodyOuterHeight()*2;g=(this.settings.jQueryMobile)?d.DOM.windowScrollTop()+"px":"0px";if(e<1){e=this.initialBodyHeight}if(d.DOM.windowHeight()>e){e=d.DOM.windowHeight()}}else{f=d.DOM.width(this.settings.target);e=d.DOM.height(this.settings.target);g="0px"}d.DOM.setStyle(this.el,{width:f,height:e,top:g})},fadeIn:function(e,f){this.resetPosition();d.DOM.setStyle(this.el,"opacity",0);d.DOM.show(this.el);d.Animation.fadeIn(this.el,e,f)}})}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Carousel");var b=c.Code.PhotoSwipe;b.Carousel.EventTypes={onSlideByEnd:"PhotoSwipeCarouselOnSlideByEnd",onSlideshowStart:"PhotoSwipeCarouselOnSlideshowStart",onSlideshowStop:"PhotoSwipeCarouselOnSlideshowStop"};b.Carousel.CssClasses={carousel:"ps-carousel",content:"ps-carousel-content",item:"ps-carousel-item",itemLoading:"ps-carousel-item-loading",itemError:"ps-carousel-item-error"};b.Carousel.SlideByAction={previous:"previous",current:"current",next:"next"}}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Carousel");var b=c.Code.PhotoSwipe;b.Carousel.CarouselClass=a({el:null,contentEl:null,settings:null,cache:null,slideByEndHandler:null,currentCacheIndex:null,isSliding:null,isSlideshowActive:null,lastSlideByAction:null,touchStartPoint:null,touchStartPosition:null,imageLoadHandler:null,imageErrorHandler:null,slideshowTimeout:null,dispose:function(){var g,f,e;for(f=0,e=this.cache.images.length;f<e;f++){d.Events.remove(this.cache.images[f],b.Image.EventTypes.onLoad,this.imageLoadHandler);d.Events.remove(this.cache.images[f],b.Image.EventTypes.onError,this.imageErrorHandler)}this.stopSlideshow();d.Animation.stop(this.el);d.DOM.removeChild(this.el,this.el.parentNode);for(g in this){if(d.objectHasProperty(this,g)){this[g]=null}}},initialize:function(e,f){var h,j,g;this.cache=e;this.settings=f;this.slideByEndHandler=this.onSlideByEnd.bind(this);this.imageLoadHandler=this.onImageLoad.bind(this);this.imageErrorHandler=this.onImageError.bind(this);this.currentCacheIndex=0;this.isSliding=false;this.isSlideshowActive=false;if(this.cache.images.length<3){this.settings.loop=false}this.el=d.DOM.createElement("div",{"class":b.Carousel.CssClasses.carousel},"");d.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex});d.DOM.hide(this.el);this.contentEl=d.DOM.createElement("div",{"class":b.Carousel.CssClasses.content},"");d.DOM.setStyle(this.contentEl,{display:"block",position:"absolute",left:0,top:0});d.DOM.appendChild(this.contentEl,this.el);j=(e.images.length<3)?e.images.length:3;for(h=0;h<j;h++){g=d.DOM.createElement("div",{"class":b.Carousel.CssClasses.item+" "+b.Carousel.CssClasses.item+"-"+h},"");d.DOM.setAttribute(g,"style","float: left;");d.DOM.setStyle(g,{display:"block",position:"relative",left:0,top:0,overflow:"hidden"});if(this.settings.margin>0){d.DOM.setStyle(g,{marginRight:this.settings.margin+"px"})}d.DOM.appendChild(g,this.contentEl)}if(this.settings.target===c){d.DOM.appendToBody(this.el)}else{d.DOM.appendChild(this.el,this.settings.target)}},resetPosition:function(){var f,p,n,l,m,e,k,h,o,g;if(this.settings.target===c){f=d.DOM.windowWidth();p=d.DOM.windowHeight();n=d.DOM.windowScrollTop()+"px"}else{f=d.DOM.width(this.settings.target);p=d.DOM.height(this.settings.target);n="0px"}l=(this.settings.margin>0)?f+this.settings.margin:f;m=d.DOM.find("."+b.Carousel.CssClasses.item,this.contentEl);e=l*m.length;d.DOM.setStyle(this.el,{top:n,width:f,height:p});d.DOM.setStyle(this.contentEl,{width:e,height:p});for(k=0,h=m.length;k<h;k++){o=m[k];d.DOM.setStyle(o,{width:f,height:p});g=d.DOM.find("img",o)[0];if(!d.isNothing(g)){this.resetImagePosition(g)}}this.setContentLeftPosition()},resetImagePosition:function(g){if(d.isNothing(g)){return}var e=d.DOM.getAttribute(g,"src"),h,i,f,j,k,m=d.DOM.width(this.el),l=d.DOM.height(this.el);if(this.settings.imageScaleMethod==="fitNoUpscale"){i=g.naturalWidth;f=g.naturalHeight;if(i>m){h=m/i;i=Math.round(i*h);f=Math.round(f*h)}if(f>l){h=l/f;f=Math.round(f*h);i=Math.round(i*h)}}else{if(g.isLandscape){h=m/g.naturalWidth}else{h=l/g.naturalHeight}i=Math.round(g.naturalWidth*h);f=Math.round(g.naturalHeight*h);if(this.settings.imageScaleMethod==="zoom"){h=1;if(f<l){h=l/f}else{if(i<m){h=m/i}}if(h!==1){i=Math.round(i*h);f=Math.round(f*h)}}else{if(this.settings.imageScaleMethod==="fit"){h=1;if(i>m){h=m/i}else{if(f>l){h=l/f}}if(h!==1){i=Math.round(i*h);f=Math.round(f*h)}}}}j=Math.round(((l-f)/2))+"px";k=Math.round(((m-i)/2))+"px";d.DOM.setStyle(g,{position:"absolute",width:i,height:f,top:j,left:k,display:"block"})},setContentLeftPosition:function(){var e,g,f;if(this.settings.target===c){e=d.DOM.windowWidth()}else{e=d.DOM.width(this.settings.target)}g=this.getItemEls();f=0;if(this.settings.loop){f=(e+this.settings.margin)*-1}else{if(this.currentCacheIndex===this.cache.images.length-1){f=((g.length-1)*(e+this.settings.margin))*-1}else{if(this.currentCacheIndex>0){f=(e+this.settings.margin)*-1}}}d.DOM.setStyle(this.contentEl,{left:f+"px"})},show:function(f){this.currentCacheIndex=f;this.resetPosition();this.setImages(false);d.DOM.show(this.el);d.Animation.resetTranslate(this.contentEl);var h=this.getItemEls(),g,e;for(g=0,e=h.length;g<e;g++){d.Animation.resetTranslate(h[g])}d.Events.fire(this,{type:b.Carousel.EventTypes.onSlideByEnd,target:this,action:b.Carousel.SlideByAction.current,cacheIndex:this.currentCacheIndex})},setImages:function(f){var g,i=this.getItemEls(),e=this.currentCacheIndex+1,h=this.currentCacheIndex-1;if(this.settings.loop){if(e>this.cache.images.length-1){e=0}if(h<0){h=this.cache.images.length-1}g=this.cache.getImages([h,this.currentCacheIndex,e]);if(!f){this.addCacheImageToItemEl(g[1],i[1])}this.addCacheImageToItemEl(g[2],i[2]);this.addCacheImageToItemEl(g[0],i[0])}else{if(i.length===1){if(!f){g=this.cache.getImages([this.currentCacheIndex]);this.addCacheImageToItemEl(g[0],i[0])}}else{if(i.length===2){if(this.currentCacheIndex===0){g=this.cache.getImages([this.currentCacheIndex,this.currentCacheIndex+1]);if(!f){this.addCacheImageToItemEl(g[0],i[0])}this.addCacheImageToItemEl(g[1],i[1])}else{g=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex]);if(!f){this.addCacheImageToItemEl(g[1],i[1])}this.addCacheImageToItemEl(g[0],i[0])}}else{if(this.currentCacheIndex===0){g=this.cache.getImages([this.currentCacheIndex,this.currentCacheIndex+1,this.currentCacheIndex+2]);if(!f){this.addCacheImageToItemEl(g[0],i[0])}this.addCacheImageToItemEl(g[1],i[1]);this.addCacheImageToItemEl(g[2],i[2])}else{if(this.currentCacheIndex===this.cache.images.length-1){g=this.cache.getImages([this.currentCacheIndex-2,this.currentCacheIndex-1,this.currentCacheIndex]);if(!f){this.addCacheImageToItemEl(g[2],i[2])}this.addCacheImageToItemEl(g[1],i[1]);this.addCacheImageToItemEl(g[0],i[0])}else{g=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex,this.currentCacheIndex+1]);if(!f){this.addCacheImageToItemEl(g[1],i[1])}this.addCacheImageToItemEl(g[2],i[2]);this.addCacheImageToItemEl(g[0],i[0])}}}}}},addCacheImageToItemEl:function(e,f){d.DOM.removeClass(f,b.Carousel.CssClasses.itemError);d.DOM.addClass(f,b.Carousel.CssClasses.itemLoading);d.DOM.removeChildren(f);d.DOM.setStyle(e.imageEl,{display:"none"});d.DOM.appendChild(e.imageEl,f);d.Animation.resetTranslate(e.imageEl);d.Events.add(e,b.Image.EventTypes.onLoad,this.imageLoadHandler);d.Events.add(e,b.Image.EventTypes.onError,this.imageErrorHandler);e.load()},slideCarousel:function(e,j,i){if(this.isSliding){return}var h,g,f;if(this.settings.target===c){h=d.DOM.windowWidth()+this.settings.margin}else{h=d.DOM.width(this.settings.target)+this.settings.margin}i=d.coalesce(i,this.settings.slideSpeed);if(c.Math.abs(g)<1){return}switch(j){case d.TouchElement.ActionTypes.swipeLeft:f=h*-1;break;case d.TouchElement.ActionTypes.swipeRight:f=h;break;default:g=e.x-this.touchStartPoint.x;if(c.Math.abs(g)>h/2){f=(g>0)?h:h*-1}else{f=0}break}if(f<0){this.lastSlideByAction=b.Carousel.SlideByAction.next}else{if(f>0){this.lastSlideByAction=b.Carousel.SlideByAction.previous}else{this.lastSlideByAction=b.Carousel.SlideByAction.current}}if(!this.settings.loop){if((this.lastSlideByAction===b.Carousel.SlideByAction.previous&&this.currentCacheIndex===0)||(this.lastSlideByAction===b.Carousel.SlideByAction.next&&this.currentCacheIndex===this.cache.images.length-1)){f=0;this.lastSlideByAction=b.Carousel.SlideByAction.current}}this.isSliding=true;this.doSlideCarousel(f,i)},moveCarousel:function(e){if(this.isSliding){return}if(!this.settings.enableDrag){return}this.doMoveCarousel(e.x-this.touchStartPoint.x)},getItemEls:function(){return d.DOM.find("."+b.Carousel.CssClasses.item,this.contentEl)},previous:function(){this.stopSlideshow();this.slideCarousel({x:0,y:0},d.TouchElement.ActionTypes.swipeRight,this.settings.nextPreviousSlideSpeed)},next:function(){this.stopSlideshow();this.slideCarousel({x:0,y:0},d.TouchElement.ActionTypes.swipeLeft,this.settings.nextPreviousSlideSpeed)},slideshowNext:function(){this.slideCarousel({x:0,y:0},d.TouchElement.ActionTypes.swipeLeft)},startSlideshow:function(){this.stopSlideshow();this.isSlideshowActive=true;this.slideshowTimeout=c.setTimeout(this.slideshowNext.bind(this),this.settings.slideshowDelay);d.Events.fire(this,{type:b.Carousel.EventTypes.onSlideshowStart,target:this})},stopSlideshow:function(){if(!d.isNothing(this.slideshowTimeout)){c.clearTimeout(this.slideshowTimeout);this.slideshowTimeout=null;this.isSlideshowActive=false;d.Events.fire(this,{type:b.Carousel.EventTypes.onSlideshowStop,target:this})}},onSlideByEnd:function(f){if(d.isNothing(this.isSliding)){return}var g=this.getItemEls();this.isSliding=false;if(this.lastSlideByAction===b.Carousel.SlideByAction.next){this.currentCacheIndex=this.currentCacheIndex+1}else{if(this.lastSlideByAction===b.Carousel.SlideByAction.previous){this.currentCacheIndex=this.currentCacheIndex-1}}if(this.settings.loop){if(this.lastSlideByAction===b.Carousel.SlideByAction.next){d.DOM.appendChild(g[0],this.contentEl)}else{if(this.lastSlideByAction===b.Carousel.SlideByAction.previous){d.DOM.insertBefore(g[g.length-1],g[0],this.contentEl)}}if(this.currentCacheIndex<0){this.currentCacheIndex=this.cache.images.length-1}else{if(this.currentCacheIndex===this.cache.images.length){this.currentCacheIndex=0}}}else{if(this.cache.images.length>3){if(this.currentCacheIndex>1&&this.currentCacheIndex<this.cache.images.length-2){if(this.lastSlideByAction===b.Carousel.SlideByAction.next){d.DOM.appendChild(g[0],this.contentEl)}else{if(this.lastSlideByAction===b.Carousel.SlideByAction.previous){d.DOM.insertBefore(g[g.length-1],g[0],this.contentEl)}}}else{if(this.currentCacheIndex===1){if(this.lastSlideByAction===b.Carousel.SlideByAction.previous){d.DOM.insertBefore(g[g.length-1],g[0],this.contentEl)}}else{if(this.currentCacheIndex===this.cache.images.length-2){if(this.lastSlideByAction===b.Carousel.SlideByAction.next){d.DOM.appendChild(g[0],this.contentEl)}}}}}}if(this.lastSlideByAction!==b.Carousel.SlideByAction.current){this.setContentLeftPosition();this.setImages(true)}d.Events.fire(this,{type:b.Carousel.EventTypes.onSlideByEnd,target:this,action:this.lastSlideByAction,cacheIndex:this.currentCacheIndex});if(this.isSlideshowActive){if(this.lastSlideByAction!==b.Carousel.SlideByAction.current){this.startSlideshow()}else{this.stopSlideshow()}}},onTouch:function(f,e){this.stopSlideshow();switch(f){case d.TouchElement.ActionTypes.touchStart:this.touchStartPoint=e;this.touchStartPosition={x:c.parseInt(d.DOM.getStyle(this.contentEl,"left"),0),y:c.parseInt(d.DOM.getStyle(this.contentEl,"top"),0)};break;case d.TouchElement.ActionTypes.touchMove:this.moveCarousel(e);break;case d.TouchElement.ActionTypes.touchMoveEnd:case d.TouchElement.ActionTypes.swipeLeft:case d.TouchElement.ActionTypes.swipeRight:this.slideCarousel(e,f);break;case d.TouchElement.ActionTypes.tap:break;case d.TouchElement.ActionTypes.doubleTap:break}},onImageLoad:function(g){var f=g.target;if(!d.isNothing(f.imageEl.parentNode)){d.DOM.removeClass(f.imageEl.parentNode,b.Carousel.CssClasses.itemLoading);this.resetImagePosition(f.imageEl)}d.Events.remove(f,b.Image.EventTypes.onLoad,this.imageLoadHandler);d.Events.remove(f,b.Image.EventTypes.onError,this.imageErrorHandler)},onImageError:function(g){var f=g.target;if(!d.isNothing(f.imageEl.parentNode)){d.DOM.removeClass(f.imageEl.parentNode,b.Carousel.CssClasses.itemLoading);d.DOM.addClass(f.imageEl.parentNode,b.Carousel.CssClasses.itemError)}d.Events.remove(f,b.Image.EventTypes.onLoad,this.imageLoadHandler);d.Events.remove(f,b.Image.EventTypes.onError,this.imageErrorHandler)}})}(window,window.klass,window.Code.Util));(function(d,a,e,b){e.registerNamespace("Code.PhotoSwipe.Carousel");var c=d.Code.PhotoSwipe;c.Carousel.CarouselClass=c.Carousel.CarouselClass.extend({getStartingPos:function(){var f=this.touchStartPosition;if(e.isNothing(f)){f={x:d.parseInt(e.DOM.getStyle(this.contentEl,"left"),0),y:d.parseInt(e.DOM.getStyle(this.contentEl,"top"),0)}}return f},doMoveCarousel:function(g){var f;if(e.Browser.isCSSTransformSupported){f={};f[e.Animation._transitionPrefix+"Property"]="all";f[e.Animation._transitionPrefix+"Duration"]="";f[e.Animation._transitionPrefix+"TimingFunction"]="";f[e.Animation._transitionPrefix+"Delay"]="0";f[e.Animation._transformLabel]=(e.Browser.is3dSupported)?"translate3d("+g+"px, 0px, 0px)":"translate("+g+"px, 0px)";e.DOM.setStyle(this.contentEl,f)}else{if(!e.isNothing(d.jQuery)){d.jQuery(this.contentEl).stop().css("left",this.getStartingPos().x+g+"px")}}},doSlideCarousel:function(i,h){var f,g;if(h<=0){this.slideByEndHandler();return}if(e.Browser.isCSSTransformSupported){g=e.coalesce(this.contentEl.style.webkitTransform,this.contentEl.style.MozTransform,this.contentEl.style.transform,"");if(g.indexOf("translate3d("+i)===0){this.slideByEndHandler();return}else{if(g.indexOf("translate("+i)===0){this.slideByEndHandler();return}}e.Animation.slideBy(this.contentEl,i,0,h,this.slideByEndHandler,this.settings.slideTimingFunction)}else{if(!e.isNothing(d.jQuery)){f={left:this.getStartingPos().x+i+"px"};if(this.settings.animationTimingFunction==="ease-out"){this.settings.animationTimingFunction="easeOutQuad"}if(e.isNothing(d.jQuery.easing[this.settings.animationTimingFunction])){this.settings.animationTimingFunction="linear"}d.jQuery(this.contentEl).animate(f,this.settings.slideSpeed,this.settings.animationTimingFunction,this.slideByEndHandler)}}}})}(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.TouchElement));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Toolbar");var b=c.Code.PhotoSwipe;b.Toolbar.CssClasses={toolbar:"ps-toolbar",toolbarContent:"ps-toolbar-content",toolbarTop:"ps-toolbar-top",caption:"ps-caption",captionBottom:"ps-caption-bottom",captionContent:"ps-caption-content",close:"ps-toolbar-close",play:"ps-toolbar-play",previous:"ps-toolbar-previous",previousDisabled:"ps-toolbar-previous-disabled",next:"ps-toolbar-next",nextDisabled:"ps-toolbar-next-disabled"};b.Toolbar.ToolbarAction={close:"close",play:"play",next:"next",previous:"previous",none:"none"};b.Toolbar.EventTypes={onTap:"PhotoSwipeToolbarOnClick",onBeforeShow:"PhotoSwipeToolbarOnBeforeShow",onShow:"PhotoSwipeToolbarOnShow",onBeforeHide:"PhotoSwipeToolbarOnBeforeHide",onHide:"PhotoSwipeToolbarOnHide"};b.Toolbar.getToolbar=function(){return'<div class="'+b.Toolbar.CssClasses.close+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+b.Toolbar.CssClasses.play+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+b.Toolbar.CssClasses.previous+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+b.Toolbar.CssClasses.next+'"><div class="'+b.Toolbar.CssClasses.toolbarContent+'"></div></div>'}}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.Toolbar");var b=c.Code.PhotoSwipe;b.Toolbar.ToolbarClass=a({toolbarEl:null,closeEl:null,playEl:null,previousEl:null,nextEl:null,captionEl:null,captionContentEl:null,currentCaption:null,settings:null,cache:null,timeout:null,isVisible:null,fadeOutHandler:null,touchStartHandler:null,touchMoveHandler:null,clickHandler:null,dispose:function(){var e;this.clearTimeout();this.removeEventHandlers();d.Animation.stop(this.toolbarEl);d.Animation.stop(this.captionEl);d.DOM.removeChild(this.toolbarEl,this.toolbarEl.parentNode);d.DOM.removeChild(this.captionEl,this.captionEl.parentNode);for(e in this){if(d.objectHasProperty(this,e)){this[e]=null}}},initialize:function(f,g){var e;this.settings=g;this.cache=f;this.isVisible=false;this.fadeOutHandler=this.onFadeOut.bind(this);this.touchStartHandler=this.onTouchStart.bind(this);this.touchMoveHandler=this.onTouchMove.bind(this);this.clickHandler=this.onClick.bind(this);e=b.Toolbar.CssClasses.toolbar;if(this.settings.captionAndToolbarFlipPosition){e=e+" "+b.Toolbar.CssClasses.toolbarTop}this.toolbarEl=d.DOM.createElement("div",{"class":e},this.settings.getToolbar());d.DOM.setStyle(this.toolbarEl,{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex});if(this.settings.target===c){d.DOM.appendToBody(this.toolbarEl)}else{d.DOM.appendChild(this.toolbarEl,this.settings.target)}d.DOM.hide(this.toolbarEl);this.closeEl=d.DOM.find("."+b.Toolbar.CssClasses.close,this.toolbarEl)[0];if(this.settings.preventHide&&!d.isNothing(this.closeEl)){d.DOM.hide(this.closeEl)}this.playEl=d.DOM.find("."+b.Toolbar.CssClasses.play,this.toolbarEl)[0];if(this.settings.preventSlideshow&&!d.isNothing(this.playEl)){d.DOM.hide(this.playEl)}this.nextEl=d.DOM.find("."+b.Toolbar.CssClasses.next,this.toolbarEl)[0];this.previousEl=d.DOM.find("."+b.Toolbar.CssClasses.previous,this.toolbarEl)[0];e=b.Toolbar.CssClasses.caption;if(this.settings.captionAndToolbarFlipPosition){e=e+" "+b.Toolbar.CssClasses.captionBottom}this.captionEl=d.DOM.createElement("div",{"class":e},"");d.DOM.setStyle(this.captionEl,{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex});if(this.settings.target===c){d.DOM.appendToBody(this.captionEl)}else{d.DOM.appendChild(this.captionEl,this.settings.target)}d.DOM.hide(this.captionEl);this.captionContentEl=d.DOM.createElement("div",{"class":b.Toolbar.CssClasses.captionContent},"");d.DOM.appendChild(this.captionContentEl,this.captionEl);this.addEventHandlers()},resetPosition:function(){var f,e,g;if(this.settings.target===c){if(this.settings.captionAndToolbarFlipPosition){e=d.DOM.windowScrollTop();g=(d.DOM.windowScrollTop()+d.DOM.windowHeight())-d.DOM.height(this.captionEl)}else{e=(d.DOM.windowScrollTop()+d.DOM.windowHeight())-d.DOM.height(this.toolbarEl);g=d.DOM.windowScrollTop()}f=d.DOM.windowWidth()}else{if(this.settings.captionAndToolbarFlipPosition){e="0";g=d.DOM.height(this.settings.target)-d.DOM.height(this.captionEl)}else{e=d.DOM.height(this.settings.target)-d.DOM.height(this.toolbarEl);g=0}f=d.DOM.width(this.settings.target)}d.DOM.setStyle(this.toolbarEl,{top:e+"px",width:f});d.DOM.setStyle(this.captionEl,{top:g+"px",width:f})},toggleVisibility:function(e){if(this.isVisible){this.fadeOut()}else{this.show(e)}},show:function(e){d.Animation.stop(this.toolbarEl);d.Animation.stop(this.captionEl);this.resetPosition();this.setToolbarStatus(e);d.Events.fire(this,{type:b.Toolbar.EventTypes.onBeforeShow,target:this});this.showToolbar();this.setCaption(e);this.showCaption();this.isVisible=true;this.setTimeout();d.Events.fire(this,{type:b.Toolbar.EventTypes.onShow,target:this})},setTimeout:function(){if(this.settings.captionAndToolbarAutoHideDelay>0){this.clearTimeout();this.timeout=c.setTimeout(this.fadeOut.bind(this),this.settings.captionAndToolbarAutoHideDelay)}},clearTimeout:function(){if(!d.isNothing(this.timeout)){c.clearTimeout(this.timeout);this.timeout=null}},fadeOut:function(){this.clearTimeout();d.Events.fire(this,{type:b.Toolbar.EventTypes.onBeforeHide,target:this});d.Animation.fadeOut(this.toolbarEl,this.settings.fadeOutSpeed);d.Animation.fadeOut(this.captionEl,this.settings.fadeOutSpeed,this.fadeOutHandler);this.isVisible=false},addEventHandlers:function(){if(d.Browser.isTouchSupported){if(!d.Browser.blackberry){d.Events.add(this.toolbarEl,"touchstart",this.touchStartHandler)}d.Events.add(this.toolbarEl,"touchmove",this.touchMoveHandler);d.Events.add(this.captionEl,"touchmove",this.touchMoveHandler)}d.Events.add(this.toolbarEl,"click",this.clickHandler)},removeEventHandlers:function(){if(d.Browser.isTouchSupported){if(!d.Browser.blackberry){d.Events.remove(this.toolbarEl,"touchstart",this.touchStartHandler)}d.Events.remove(this.toolbarEl,"touchmove",this.touchMoveHandler);d.Events.remove(this.captionEl,"touchmove",this.touchMoveHandler)}d.Events.remove(this.toolbarEl,"click",this.clickHandler)},handleTap:function(g){this.clearTimeout();var f;if(g.target===this.nextEl||d.DOM.isChildOf(g.target,this.nextEl)){f=b.Toolbar.ToolbarAction.next}else{if(g.target===this.previousEl||d.DOM.isChildOf(g.target,this.previousEl)){f=b.Toolbar.ToolbarAction.previous}else{if(g.target===this.closeEl||d.DOM.isChildOf(g.target,this.closeEl)){f=b.Toolbar.ToolbarAction.close}else{if(g.target===this.playEl||d.DOM.isChildOf(g.target,this.playEl)){f=b.Toolbar.ToolbarAction.play}}}}this.setTimeout();if(d.isNothing(f)){f=b.Toolbar.ToolbarAction.none}d.Events.fire(this,{type:b.Toolbar.EventTypes.onTap,target:this,action:f,tapTarget:g.target})},setCaption:function(e){d.DOM.removeChildren(this.captionContentEl);this.currentCaption=d.coalesce(this.cache.images[e].caption,"\u00A0");if(d.isObject(this.currentCaption)){d.DOM.appendChild(this.currentCaption,this.captionContentEl)}else{if(this.currentCaption===""){this.currentCaption="\u00A0"}d.DOM.appendText(this.currentCaption,this.captionContentEl)}this.currentCaption=(this.currentCaption==="\u00A0")?"":this.currentCaption;this.resetPosition()},showToolbar:function(){d.DOM.setStyle(this.toolbarEl,{opacity:this.settings.captionAndToolbarOpacity});d.DOM.show(this.toolbarEl)},showCaption:function(){if(this.currentCaption===""||this.captionContentEl.childNodes.length<1){if(!this.settings.captionAndToolbarShowEmptyCaptions){d.DOM.hide(this.captionEl);return}}d.DOM.setStyle(this.captionEl,{opacity:this.settings.captionAndToolbarOpacity});d.DOM.show(this.captionEl)},setToolbarStatus:function(e){if(this.settings.loop){return}d.DOM.removeClass(this.previousEl,b.Toolbar.CssClasses.previousDisabled);d.DOM.removeClass(this.nextEl,b.Toolbar.CssClasses.nextDisabled);if(e>0&&e<this.cache.images.length-1){return}if(e===0){if(!d.isNothing(this.previousEl)){d.DOM.addClass(this.previousEl,b.Toolbar.CssClasses.previousDisabled)}}if(e===this.cache.images.length-1){if(!d.isNothing(this.nextEl)){d.DOM.addClass(this.nextEl,b.Toolbar.CssClasses.nextDisabled)}}},onFadeOut:function(){d.DOM.hide(this.toolbarEl);d.DOM.hide(this.captionEl);d.Events.fire(this,{type:b.Toolbar.EventTypes.onHide,target:this})},onTouchStart:function(f){f.preventDefault();d.Events.remove(this.toolbarEl,"click",this.clickHandler);this.handleTap(f)},onTouchMove:function(f){f.preventDefault()},onClick:function(f){f.preventDefault();this.handleTap(f)}})}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.UILayer");var b=c.Code.PhotoSwipe;b.UILayer.CssClasses={uiLayer:"ps-uilayer"}}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.UILayer");var b=c.Code.PhotoSwipe;b.UILayer.UILayerClass=d.TouchElement.TouchElementClass.extend({el:null,settings:null,dispose:function(){var e;this.removeEventHandlers();d.DOM.removeChild(this.el,this.el.parentNode);for(e in this){if(d.objectHasProperty(this,e)){this[e]=null}}},initialize:function(e){this.settings=e;this.el=d.DOM.createElement("div",{"class":b.UILayer.CssClasses.uiLayer},"");d.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex,opacity:0});d.DOM.hide(this.el);if(this.settings.target===c){d.DOM.appendToBody(this.el)}else{d.DOM.appendChild(this.el,this.settings.target)}this.supr(this.el,{swipe:true,move:true,gesture:d.Browser.iOS,doubleTap:true,preventDefaultTouchEvents:this.settings.preventDefaultTouchEvents})},resetPosition:function(){if(this.settings.target===c){d.DOM.setStyle(this.el,{top:d.DOM.windowScrollTop()+"px",width:d.DOM.windowWidth(),height:d.DOM.windowHeight()})}else{d.DOM.setStyle(this.el,{top:"0px",width:d.DOM.width(this.settings.target),height:d.DOM.height(this.settings.target)})}},show:function(){this.resetPosition();d.DOM.show(this.el);this.addEventHandlers()},addEventHandlers:function(){this.supr()},removeEventHandlers:function(){this.supr()}})}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.ZoomPanRotate");var b=c.Code.PhotoSwipe;b.ZoomPanRotate.CssClasses={zoomPanRotate:"ps-zoom-pan-rotate"};b.ZoomPanRotate.EventTypes={onTransform:"PhotoSwipeZoomPanRotateOnTransform"}}(window,window.klass,window.Code.Util));(function(c,a,d){d.registerNamespace("Code.PhotoSwipe.ZoomPanRotate");var b=c.Code.PhotoSwipe;b.ZoomPanRotate.ZoomPanRotateClass=a({el:null,settings:null,containerEl:null,imageEl:null,transformSettings:null,panStartingPoint:null,transformEl:null,dispose:function(){var e;d.DOM.removeChild(this.el,this.el.parentNode);for(e in this){if(d.objectHasProperty(this,e)){this[e]=null}}},initialize:function(g,f,j){var i,h,e,k;this.settings=g;if(this.settings.target===c){i=document.body;h=d.DOM.windowWidth();e=d.DOM.windowHeight();k=d.DOM.windowScrollTop()+"px"}else{i=this.settings.target;h=d.DOM.width(i);e=d.DOM.height(i);k="0px"}this.imageEl=f.imageEl.cloneNode(false);d.DOM.setStyle(this.imageEl,{zIndex:1});this.transformSettings={startingScale:1,scale:1,startingRotation:0,rotation:0,startingTranslateX:0,startingTranslateY:0,translateX:0,translateY:0};this.el=d.DOM.createElement("div",{"class":b.ZoomPanRotate.CssClasses.zoomPanRotate},"");d.DOM.setStyle(this.el,{left:0,top:k,position:"absolute",width:h,height:e,zIndex:this.settings.zIndex,display:"block"});d.DOM.insertBefore(this.el,j.el,i);if(d.Browser.iOS){this.containerEl=d.DOM.createElement("div");d.DOM.setStyle(this.containerEl,{left:0,top:0,width:h,height:e,position:"absolute",zIndex:1});d.DOM.appendChild(this.imageEl,this.containerEl);d.DOM.appendChild(this.containerEl,this.el);d.Animation.resetTranslate(this.containerEl);d.Animation.resetTranslate(this.imageEl);this.transformEl=this.containerEl}else{d.DOM.appendChild(this.imageEl,this.el);this.transformEl=this.imageEl}},setStartingTranslateFromCurrentTransform:function(){var e=d.coalesce(this.transformEl.style.webkitTransform,this.transformEl.style.MozTransform,this.transformEl.style.transform),f;if(!d.isNothing(e)){f=e.match(/translate\((.*?)\)/);if(!d.isNothing(f)){f=f[1].split(", ");this.transformSettings.startingTranslateX=c.parseInt(f[0],10);this.transformSettings.startingTranslateY=c.parseInt(f[1],10)}}},getScale:function(f){var e=this.transformSettings.startingScale*f;if(this.settings.minUserZoom!==0&&e<this.settings.minUserZoom){e=this.settings.minUserZoom}else{if(this.settings.maxUserZoom!==0&&e>this.settings.maxUserZoom){e=this.settings.maxUserZoom}}return e},setStartingScaleAndRotation:function(f,e){this.transformSettings.startingScale=this.getScale(f);this.transformSettings.startingRotation=(this.transformSettings.startingRotation+e)%360},zoomRotate:function(f,e){this.transformSettings.scale=this.getScale(f);this.transformSettings.rotation=this.transformSettings.startingRotation+e;this.applyTransform()},panStart:function(e){this.setStartingTranslateFromCurrentTransform();this.panStartingPoint={x:e.x,y:e.y}},pan:function(e){var g=e.x-this.panStartingPoint.x,f=e.y-this.panStartingPoint.y,h=g/this.transformSettings.scale,i=f/this.transformSettings.scale;this.transformSettings.translateX=this.transformSettings.startingTranslateX+h;this.transformSettings.translateY=this.transformSettings.startingTranslateY+i;this.applyTransform()},zoomAndPanToPoint:function(j,e){if(this.settings.target===c){this.panStart({x:d.DOM.windowWidth()/2,y:d.DOM.windowHeight()/2});var g=e.x-this.panStartingPoint.x,f=e.y-this.panStartingPoint.y,h=g/this.transformSettings.scale,i=f/this.transformSettings.scale;this.transformSettings.translateX=(this.transformSettings.startingTranslateX+h)*-1;this.transformSettings.translateY=(this.transformSettings.startingTranslateY+i)*-1}this.setStartingScaleAndRotation(j,0);this.transformSettings.scale=this.transformSettings.startingScale;this.transformSettings.rotation=0;this.applyTransform()},applyTransform:function(){var h=this.transformSettings.rotation%360,g=c.parseInt(this.transformSettings.translateX,10),f=c.parseInt(this.transformSettings.translateY,10),e="scale("+this.transformSettings.scale+") rotate("+h+"deg) translate("+g+"px, "+f+"px)";d.DOM.setStyle(this.transformEl,{webkitTransform:e,MozTransform:e,msTransform:e,transform:e});d.Events.fire(this,{target:this,type:b.ZoomPanRotate.EventTypes.onTransform,scale:this.transformSettings.scale,rotation:this.transformSettings.rotation,rotationDegs:h,translateX:g,translateY:f})}})}(window,window.klass,window.Code.Util));(function(b,c){c.registerNamespace("Code.PhotoSwipe");var a=b.Code.PhotoSwipe;a.CssClasses={buildingBody:"ps-building",activeBody:"ps-active"};a.EventTypes={onBeforeShow:"PhotoSwipeOnBeforeShow",onShow:"PhotoSwipeOnShow",onBeforeHide:"PhotoSwipeOnBeforeHide",onHide:"PhotoSwipeOnHide",onDisplayImage:"PhotoSwipeOnDisplayImage",onResetPosition:"PhotoSwipeOnResetPosition",onSlideshowStart:"PhotoSwipeOnSlideshowStart",onSlideshowStop:"PhotoSwipeOnSlideshowStop",onTouch:"PhotoSwipeOnTouch",onBeforeCaptionAndToolbarShow:"PhotoSwipeOnBeforeCaptionAndToolbarShow",onCaptionAndToolbarShow:"PhotoSwipeOnCaptionAndToolbarShow",onBeforeCaptionAndToolbarHide:"PhotoSwipeOnBeforeCaptionAndToolbarHide",onCaptionAndToolbarHide:"PhotoSwipeOnCaptionAndToolbarHide",onToolbarTap:"PhotoSwipeOnToolbarTap",onBeforeZoomPanRotateShow:"PhotoSwipeOnBeforeZoomPanRotateShow",onZoomPanRotateShow:"PhotoSwipeOnZoomPanRotateShow",onBeforeZoomPanRotateHide:"PhotoSwipeOnBeforeZoomPanRotateHide",onZoomPanRotateHide:"PhotoSwipeOnZoomPanRotateHide",onZoomPanRotateTransform:"PhotoSwipeOnZoomPanRotateTransform"};a.instances=[];a.activeInstances=[];a.setActivateInstance=function(d){var e=c.arrayIndexOf(d.settings.target,a.activeInstances,"target");if(e>-1){throw"Code.PhotoSwipe.activateInstance: Unable to active instance as another instance is already active for this target"}a.activeInstances.push({target:d.settings.target,instance:d})};a.unsetActivateInstance=function(d){var e=c.arrayIndexOf(d,a.activeInstances,"instance");a.activeInstances.splice(e,1)};a.attach=function(e,g,l){var h,f,d,k;d=a.createInstance(e,g,l);for(h=0,f=e.length;h<f;h++){k=e[h];if(!c.isNothing(k.nodeType)){if(k.nodeType===1){k.__photoSwipeClickHandler=a.onTriggerElementClick.bind(d);c.Events.remove(k,"click",k.__photoSwipeClickHandler);c.Events.add(k,"click",k.__photoSwipeClickHandler)}}}return d};if(b.jQuery){b.jQuery.fn.photoSwipe=function(d,e){return a.attach(this,d,e)}}a.detatch=function(d){var f,e,g;for(f=0,e=d.originalImages.length;f<e;f++){g=d.originalImages[f];if(!c.isNothing(g.nodeType)){if(g.nodeType===1){c.Events.remove(g,"click",g.__photoSwipeClickHandler);delete g.__photoSwipeClickHandler}}}a.disposeInstance(d)};a.createInstance=function(e,f,j){var g,d,h;if(c.isNothing(e)){throw"Code.PhotoSwipe.attach: No images passed."}if(!c.isLikeArray(e)){throw"Code.PhotoSwipe.createInstance: Images must be an array of elements or image urls."}if(e.length<1){throw"Code.PhotoSwipe.createInstance: No images to passed."}f=c.coalesce(f,{});d=a.getInstance(j);if(c.isNothing(d)){d=new a.PhotoSwipeClass(e,f,j);a.instances.push(d)}else{throw'Code.PhotoSwipe.createInstance: Instance with id "'+j+' already exists."'}return d};a.disposeInstance=function(d){var e=a.getInstanceIndex(d);if(e<0){throw"Code.PhotoSwipe.disposeInstance: Unable to find instance to dispose."}d.dispose();a.instances.splice(e,1);d=null};a.onTriggerElementClick=function(f){f.preventDefault();var d=this;d.show(f.currentTarget)};a.getInstance=function(g){var f,e,d;for(f=0,e=a.instances.length;f<e;f++){d=a.instances[f];if(d.id===g){return d}}return null};a.getInstanceIndex=function(d){var g,f,e=-1;for(g=0,f=a.instances.length;g<f;g++){if(a.instances[g]===d){e=g;break}}return e}}(window,window.Code.Util));(function(e,f,h,i,d,g,c,j,b){h.registerNamespace("Code.PhotoSwipe");var a=e.Code.PhotoSwipe;a.PhotoSwipeClass=f({id:null,settings:null,isBackEventSupported:null,backButtonClicked:null,currentIndex:null,originalImages:null,mouseWheelStartTime:null,windowDimensions:null,cache:null,documentOverlay:null,carousel:null,uiLayer:null,toolbar:null,zoomPanRotate:null,windowOrientationChangeHandler:null,windowScrollHandler:null,windowHashChangeHandler:null,keyDownHandler:null,windowOrientationEventName:null,uiLayerTouchHandler:null,carouselSlideByEndHandler:null,carouselSlideshowStartHandler:null,carouselSlideshowStopHandler:null,toolbarTapHandler:null,toolbarBeforeShowHandler:null,toolbarShowHandler:null,toolbarBeforeHideHandler:null,toolbarHideHandler:null,mouseWheelHandler:null,zoomPanRotateTransformHandler:null,_isResettingPosition:null,_uiWebViewResetPositionTimeout:null,dispose:function(){var k;h.Events.remove(this,a.EventTypes.onBeforeShow);h.Events.remove(this,a.EventTypes.onShow);h.Events.remove(this,a.EventTypes.onBeforeHide);h.Events.remove(this,a.EventTypes.onHide);h.Events.remove(this,a.EventTypes.onDisplayImage);h.Events.remove(this,a.EventTypes.onResetPosition);h.Events.remove(this,a.EventTypes.onSlideshowStart);h.Events.remove(this,a.EventTypes.onSlideshowStop);h.Events.remove(this,a.EventTypes.onTouch);h.Events.remove(this,a.EventTypes.onBeforeCaptionAndToolbarShow);h.Events.remove(this,a.EventTypes.onCaptionAndToolbarShow);h.Events.remove(this,a.EventTypes.onBeforeCaptionAndToolbarHide);h.Events.remove(this,a.EventTypes.onCaptionAndToolbarHide);h.Events.remove(this,a.EventTypes.onZoomPanRotateTransform);this.removeEventHandlers();if(!h.isNothing(this.documentOverlay)){this.documentOverlay.dispose()}if(!h.isNothing(this.carousel)){this.carousel.dispose()}if(!h.isNothing(this.uiLayer)){this.uiLayer.dispose()}if(!h.isNothing(this.toolbar)){this.toolbar.dispose()}this.destroyZoomPanRotate();if(!h.isNothing(this.cache)){this.cache.dispose()}for(k in this){if(h.objectHasProperty(this,k)){this[k]=null}}},initialize:function(k,l,n){var m;if(h.isNothing(n)){this.id="PhotoSwipe"+new Date().getTime().toString()}else{this.id=n}this.originalImages=k;if(h.Browser.android){if(e.navigator.userAgent.match(/Android (\d+.\d+)/).toString().replace(/^.*\,/,"")>=2.1){this.isBackEventSupported=true}}if(!this.isBackEventSupported){this.isBackEventSupported=h.objectHasProperty(e,"onhashchange")}this.settings={fadeInSpeed:250,fadeOutSpeed:250,preventHide:false,preventSlideshow:false,zIndex:1000,backButtonHideEnabled:true,enableKeyboard:true,enableMouseWheel:true,mouseWheelSpeed:350,autoStartSlideshow:false,jQueryMobile:(!h.isNothing(e.jQuery)&&!h.isNothing(e.jQuery.mobile)),jQueryMobileDialogHash:"&ui-state=dialog",enableUIWebViewRepositionTimeout:false,uiWebViewResetPositionDelay:500,target:e,preventDefaultTouchEvents:true,loop:true,slideSpeed:250,nextPreviousSlideSpeed:0,enableDrag:true,swipeThreshold:50,swipeTimeThreshold:250,slideTimingFunction:"ease-out",slideshowDelay:3000,doubleTapSpeed:250,margin:20,imageScaleMethod:"fit",captionAndToolbarHide:false,captionAndToolbarFlipPosition:false,captionAndToolbarAutoHideDelay:5000,captionAndToolbarOpacity:0.8,captionAndToolbarShowEmptyCaptions:true,getToolbar:a.Toolbar.getToolbar,allowUserZoom:true,allowRotationOnUserZoom:false,maxUserZoom:5,minUserZoom:0.5,doubleTapZoomLevel:2.5,getImageSource:a.Cache.Functions.getImageSource,getImageCaption:a.Cache.Functions.getImageCaption,getImageMetaData:a.Cache.Functions.getImageMetaData,cacheMode:a.Cache.Mode.normal};h.extend(this.settings,l);if(this.settings.target!==e){m=h.DOM.getStyle(this.settings.target,"position");if(m!=="relative"||m!=="absolute"){h.DOM.setStyle(this.settings.target,"position","relative")}}if(this.settings.target!==e){this.isBackEventSupported=false;this.settings.backButtonHideEnabled=false}else{if(this.settings.preventHide){this.settings.backButtonHideEnabled=false}}this.cache=new i.CacheClass(k,this.settings)},show:function(m){var l,k;this._isResettingPosition=false;this.backButtonClicked=false;if(h.isNumber(m)){this.currentIndex=m}else{this.currentIndex=-1;for(l=0,k=this.originalImages.length;l<k;l++){if(this.originalImages[l]===m){this.currentIndex=l;break}}}if(this.currentIndex<0||this.currentIndex>this.originalImages.length-1){throw"Code.PhotoSwipe.PhotoSwipeClass.show: Starting index out of range"}this.isAlreadyGettingPage=this.getWindowDimensions();a.setActivateInstance(this);this.windowDimensions=this.getWindowDimensions();if(this.settings.target===e){h.DOM.addClass(e.document.body,a.CssClasses.buildingBody)}else{h.DOM.addClass(this.settings.target,a.CssClasses.buildingBody)}this.createComponents();h.Events.fire(this,{type:a.EventTypes.onBeforeShow,target:this});this.documentOverlay.fadeIn(this.settings.fadeInSpeed,this.onDocumentOverlayFadeIn.bind(this))},getWindowDimensions:function(){return{width:h.DOM.windowWidth(),height:h.DOM.windowHeight()}},createComponents:function(){this.documentOverlay=new d.DocumentOverlayClass(this.settings);this.carousel=new g.CarouselClass(this.cache,this.settings);this.uiLayer=new j.UILayerClass(this.settings);if(!this.settings.captionAndToolbarHide){this.toolbar=new c.ToolbarClass(this.cache,this.settings)}},resetPosition:function(){if(this._isResettingPosition){return}var k=this.getWindowDimensions();if(!h.isNothing(this.windowDimensions)){if(k.width===this.windowDimensions.width&&k.height===this.windowDimensions.height){return}}this._isResettingPosition=true;this.windowDimensions=k;this.destroyZoomPanRotate();this.documentOverlay.resetPosition();this.carousel.resetPosition();if(!h.isNothing(this.toolbar)){this.toolbar.resetPosition()}this.uiLayer.resetPosition();this._isResettingPosition=false;h.Events.fire(this,{type:a.EventTypes.onResetPosition,target:this})},addEventHandler:function(l,k){h.Events.add(this,l,k)},addEventHandlers:function(){if(h.isNothing(this.windowOrientationChangeHandler)){this.windowOrientationChangeHandler=this.onWindowOrientationChange.bind(this);this.windowScrollHandler=this.onWindowScroll.bind(this);this.keyDownHandler=this.onKeyDown.bind(this);this.windowHashChangeHandler=this.onWindowHashChange.bind(this);this.uiLayerTouchHandler=this.onUILayerTouch.bind(this);this.carouselSlideByEndHandler=this.onCarouselSlideByEnd.bind(this);this.carouselSlideshowStartHandler=this.onCarouselSlideshowStart.bind(this);this.carouselSlideshowStopHandler=this.onCarouselSlideshowStop.bind(this);this.toolbarTapHandler=this.onToolbarTap.bind(this);this.toolbarBeforeShowHandler=this.onToolbarBeforeShow.bind(this);this.toolbarShowHandler=this.onToolbarShow.bind(this);this.toolbarBeforeHideHandler=this.onToolbarBeforeHide.bind(this);this.toolbarHideHandler=this.onToolbarHide.bind(this);this.mouseWheelHandler=this.onMouseWheel.bind(this);this.zoomPanRotateTransformHandler=this.onZoomPanRotateTransform.bind(this)}if(h.Browser.android){this.orientationEventName="resize"}else{if(h.Browser.iOS&&(!h.Browser.safari)){h.Events.add(e.document.body,"orientationchange",this.windowOrientationChangeHandler)}else{var k=!h.isNothing(e.onorientationchange);this.orientationEventName=k?"orientationchange":"resize"}}if(!h.isNothing(this.orientationEventName)){h.Events.add(e,this.orientationEventName,this.windowOrientationChangeHandler)}if(this.settings.target===e){h.Events.add(e,"scroll",this.windowScrollHandler)}if(this.settings.enableKeyboard){h.Events.add(e.document,"keydown",this.keyDownHandler)}if(this.isBackEventSupported&&this.settings.backButtonHideEnabled){this.windowHashChangeHandler=this.onWindowHashChange.bind(this);if(this.settings.jQueryMobile){e.location.hash=this.settings.jQueryMobileDialogHash}else{this.currentHistoryHashValue="PhotoSwipe"+new Date().getTime().toString();e.location.hash=this.currentHistoryHashValue}h.Events.add(e,"hashchange",this.windowHashChangeHandler)}if(this.settings.enableMouseWheel){h.Events.add(e,"mousewheel",this.mouseWheelHandler)}h.Events.add(this.uiLayer,h.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler);h.Events.add(this.carousel,g.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler);h.Events.add(this.carousel,g.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler);h.Events.add(this.carousel,g.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler);if(!h.isNothing(this.toolbar)){h.Events.add(this.toolbar,c.EventTypes.onTap,this.toolbarTapHandler);h.Events.add(this.toolbar,c.EventTypes.onBeforeShow,this.toolbarBeforeShowHandler);h.Events.add(this.toolbar,c.EventTypes.onShow,this.toolbarShowHandler);h.Events.add(this.toolbar,c.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler);h.Events.add(this.toolbar,c.EventTypes.onHide,this.toolbarHideHandler)}},removeEventHandlers:function(){if(h.Browser.iOS&&(!h.Browser.safari)){h.Events.remove(e.document.body,"orientationchange",this.windowOrientationChangeHandler)}if(!h.isNothing(this.orientationEventName)){h.Events.remove(e,this.orientationEventName,this.windowOrientationChangeHandler)}h.Events.remove(e,"scroll",this.windowScrollHandler);if(this.settings.enableKeyboard){h.Events.remove(e.document,"keydown",this.keyDownHandler)}if(this.isBackEventSupported&&this.settings.backButtonHideEnabled){h.Events.remove(e,"hashchange",this.windowHashChangeHandler)}if(this.settings.enableMouseWheel){h.Events.remove(e,"mousewheel",this.mouseWheelHandler)}if(!h.isNothing(this.uiLayer)){h.Events.remove(this.uiLayer,h.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler)}if(!h.isNothing(this.toolbar)){h.Events.remove(this.carousel,g.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler);h.Events.remove(this.carousel,g.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler);h.Events.remove(this.carousel,g.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler)}if(!h.isNothing(this.toolbar)){h.Events.remove(this.toolbar,c.EventTypes.onTap,this.toolbarTapHandler);h.Events.remove(this.toolbar,c.EventTypes.onBeforeShow,this.toolbarBeforeShowHandler);h.Events.remove(this.toolbar,c.EventTypes.onShow,this.toolbarShowHandler);h.Events.remove(this.toolbar,c.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler);h.Events.remove(this.toolbar,c.EventTypes.onHide,this.toolbarHideHandler)}},hide:function(){if(this.settings.preventHide){return}if(h.isNothing(this.documentOverlay)){throw"Code.PhotoSwipe.PhotoSwipeClass.hide: PhotoSwipe instance is already hidden"}if(!h.isNothing(this.hiding)){return}this.clearUIWebViewResetPositionTimeout();this.destroyZoomPanRotate();this.removeEventHandlers();h.Events.fire(this,{type:a.EventTypes.onBeforeHide,target:this});this.uiLayer.dispose();this.uiLayer=null;if(!h.isNothing(this.toolbar)){this.toolbar.dispose();this.toolbar=null}this.carousel.dispose();this.carousel=null;h.DOM.removeClass(e.document.body,a.CssClasses.activeBody);this.documentOverlay.dispose();this.documentOverlay=null;this._isResettingPosition=false;a.unsetActivateInstance(this);h.Events.fire(this,{type:a.EventTypes.onHide,target:this});this.goBackInHistory()},goBackInHistory:function(){if(this.isBackEventSupported&&this.settings.backButtonHideEnabled){if(!this.backButtonClicked){e.history.back()}}},play:function(){if(this.isZoomActive()){return}if(!this.settings.preventSlideshow){if(!h.isNothing(this.carousel)){if(!h.isNothing(this.toolbar)&&this.toolbar.isVisible){this.toolbar.fadeOut()}this.carousel.startSlideshow()}}},stop:function(){if(this.isZoomActive()){return}if(!h.isNothing(this.carousel)){this.carousel.stopSlideshow()}},previous:function(){if(this.isZoomActive()){return}if(!h.isNothing(this.carousel)){this.carousel.previous()}},next:function(){if(this.isZoomActive()){return}if(!h.isNothing(this.carousel)){this.carousel.next()}},toggleToolbar:function(){if(this.isZoomActive()){return}if(!h.isNothing(this.toolbar)){this.toolbar.toggleVisibility(this.currentIndex)}},fadeOutToolbarIfVisible:function(){if(!h.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.settings.captionAndToolbarAutoHideDelay>0){this.toolbar.fadeOut()}},createZoomPanRotate:function(){this.stop();if(this.canUserZoom()&&!this.isZoomActive()){h.Events.fire(this,a.EventTypes.onBeforeZoomPanRotateShow);this.zoomPanRotate=new b.ZoomPanRotateClass(this.settings,this.cache.images[this.currentIndex],this.uiLayer);this.uiLayer.captureSettings.preventDefaultTouchEvents=true;h.Events.add(this.zoomPanRotate,a.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler);h.Events.fire(this,a.EventTypes.onZoomPanRotateShow);if(!h.isNothing(this.toolbar)&&this.toolbar.isVisible){this.toolbar.fadeOut()}}},destroyZoomPanRotate:function(){if(!h.isNothing(this.zoomPanRotate)){h.Events.fire(this,a.EventTypes.onBeforeZoomPanRotateHide);h.Events.remove(this.zoomPanRotate,a.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler);this.zoomPanRotate.dispose();this.zoomPanRotate=null;this.uiLayer.captureSettings.preventDefaultTouchEvents=this.settings.preventDefaultTouchEvents;h.Events.fire(this,a.EventTypes.onZoomPanRotateHide)}},canUserZoom:function(){var l,k;if(h.Browser.msie){l=document.createElement("div");if(h.isNothing(l.style.msTransform)){return false}}else{if(!h.Browser.isCSSTransformSupported){return false}}if(!this.settings.allowUserZoom){return false}if(this.carousel.isSliding){return false}k=this.cache.images[this.currentIndex];if(h.isNothing(k)){return false}if(k.isLoading){return false}return true},isZoomActive:function(){return(!h.isNothing(this.zoomPanRotate))},getCurrentImage:function(){return this.cache.images[this.currentIndex]},onDocumentOverlayFadeIn:function(k){e.setTimeout(function(){var l=(this.settings.target===e)?e.document.body:this.settings.target;h.DOM.removeClass(l,a.CssClasses.buildingBody);h.DOM.addClass(l,a.CssClasses.activeBody);this.addEventHandlers();this.carousel.show(this.currentIndex);this.uiLayer.show();if(this.settings.autoStartSlideshow){this.play()}else{if(!h.isNothing(this.toolbar)){this.toolbar.show(this.currentIndex)}}h.Events.fire(this,{type:a.EventTypes.onShow,target:this});this.setUIWebViewResetPositionTimeout()}.bind(this),250)},setUIWebViewResetPositionTimeout:function(){if(!this.settings.enableUIWebViewRepositionTimeout){return}if(!(h.Browser.iOS&&(!h.Browser.safari))){return}if(!h.isNothing(this._uiWebViewResetPositionTimeout)){e.clearTimeout(this._uiWebViewResetPositionTimeout)}this._uiWebViewResetPositionTimeout=e.setTimeout(function(){this.resetPosition();this.setUIWebViewResetPositionTimeout()}.bind(this),this.settings.uiWebViewResetPositionDelay)},clearUIWebViewResetPositionTimeout:function(){if(!h.isNothing(this._uiWebViewResetPositionTimeout)){e.clearTimeout(this._uiWebViewResetPositionTimeout)}},onWindowScroll:function(k){this.resetPosition()},onWindowOrientationChange:function(k){this.resetPosition()},onWindowHashChange:function(k){var l="#"+((this.settings.jQueryMobile)?this.settings.jQueryMobileDialogHash:this.currentHistoryHashValue);if(e.location.hash!==l){this.backButtonClicked=true;this.hide()}},onKeyDown:function(k){if(k.keyCode===37){k.preventDefault();this.previous()}else{if(k.keyCode===39){k.preventDefault();this.next()}else{if(k.keyCode===38||k.keyCode===40){k.preventDefault()}else{if(k.keyCode===27){k.preventDefault();this.hide()}else{if(k.keyCode===32){if(!this.settings.hideToolbar){this.toggleToolbar()}else{this.hide()}k.preventDefault()}else{if(k.keyCode===13){k.preventDefault();this.play()}}}}}}},onUILayerTouch:function(p){if(this.isZoomActive()){switch(p.action){case h.TouchElement.ActionTypes.gestureChange:this.zoomPanRotate.zoomRotate(p.scale,(this.settings.allowRotationOnUserZoom)?p.rotation:0);break;case h.TouchElement.ActionTypes.gestureEnd:this.zoomPanRotate.setStartingScaleAndRotation(p.scale,(this.settings.allowRotationOnUserZoom)?p.rotation:0);break;case h.TouchElement.ActionTypes.touchStart:this.zoomPanRotate.panStart(p.point);break;case h.TouchElement.ActionTypes.touchMove:this.zoomPanRotate.pan(p.point);break;case h.TouchElement.ActionTypes.doubleTap:this.destroyZoomPanRotate();this.toggleToolbar();break;case h.TouchElement.ActionTypes.swipeLeft:this.destroyZoomPanRotate();this.next();this.toggleToolbar();break;case h.TouchElement.ActionTypes.swipeRight:this.destroyZoomPanRotate();this.previous();this.toggleToolbar();break}}else{switch(p.action){case h.TouchElement.ActionTypes.touchMove:case h.TouchElement.ActionTypes.swipeLeft:case h.TouchElement.ActionTypes.swipeRight:this.fadeOutToolbarIfVisible();this.carousel.onTouch(p.action,p.point);break;case h.TouchElement.ActionTypes.touchStart:case h.TouchElement.ActionTypes.touchMoveEnd:this.carousel.onTouch(p.action,p.point);break;case h.TouchElement.ActionTypes.tap:this.toggleToolbar();break;case h.TouchElement.ActionTypes.doubleTap:if(this.settings.target===e){p.point.x-=h.DOM.windowScrollLeft();p.point.y-=h.DOM.windowScrollTop()}var n=this.cache.images[this.currentIndex].imageEl,o=e.parseInt(h.DOM.getStyle(n,"top"),10),k=e.parseInt(h.DOM.getStyle(n,"left"),10),l=k+h.DOM.width(n),m=o+h.DOM.height(n);if(p.point.x<k){p.point.x=k}else{if(p.point.x>l){p.point.x=l}}if(p.point.y<o){p.point.y=o}else{if(p.point.y>m){p.point.y=m}}this.createZoomPanRotate();if(this.isZoomActive()){this.zoomPanRotate.zoomAndPanToPoint(this.settings.doubleTapZoomLevel,p.point)}break;case h.TouchElement.ActionTypes.gestureStart:this.createZoomPanRotate();break}}h.Events.fire(this,{type:a.EventTypes.onTouch,target:this,point:p.point,action:p.action})},onCarouselSlideByEnd:function(k){this.currentIndex=k.cacheIndex;if(!h.isNothing(this.toolbar)){this.toolbar.setCaption(this.currentIndex);this.toolbar.setToolbarStatus(this.currentIndex)}h.Events.fire(this,{type:a.EventTypes.onDisplayImage,target:this,action:k.action,index:k.cacheIndex})},onToolbarTap:function(k){switch(k.action){case c.ToolbarAction.next:this.next();break;case c.ToolbarAction.previous:this.previous();break;case c.ToolbarAction.close:this.hide();break;case c.ToolbarAction.play:this.play();break}h.Events.fire(this,{type:a.EventTypes.onToolbarTap,target:this,toolbarAction:k.action,tapTarget:k.tapTarget})},onMouseWheel:function(l){var m=h.Events.getWheelDelta(l),k=l.timeStamp-(this.mouseWheelStartTime||0);if(k<this.settings.mouseWheelSpeed){return}this.mouseWheelStartTime=l.timeStamp;if(this.settings.invertMouseWheel){m=m*-1}if(m<0){this.next()}else{if(m>0){this.previous()}}},onCarouselSlideshowStart:function(k){h.Events.fire(this,{type:a.EventTypes.onSlideshowStart,target:this})},onCarouselSlideshowStop:function(k){h.Events.fire(this,{type:a.EventTypes.onSlideshowStop,target:this})},onToolbarBeforeShow:function(k){h.Events.fire(this,{type:a.EventTypes.onBeforeCaptionAndToolbarShow,target:this})},onToolbarShow:function(k){h.Events.fire(this,{type:a.EventTypes.onCaptionAndToolbarShow,target:this})},onToolbarBeforeHide:function(k){h.Events.fire(this,{type:a.EventTypes.onBeforeCaptionAndToolbarHide,target:this})},onToolbarHide:function(k){h.Events.fire(this,{type:a.EventTypes.onCaptionAndToolbarHide,target:this})},onZoomPanRotateTransform:function(k){h.Events.fire(this,{target:this,type:a.EventTypes.onZoomPanRotateTransform,scale:k.scale,rotation:k.rotation,rotationDegs:k.rotationDegs,translateX:k.translateX,translateY:k.translateY})}})}(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Cache,window.Code.PhotoSwipe.DocumentOverlay,window.Code.PhotoSwipe.Carousel,window.Code.PhotoSwipe.Toolbar,window.Code.PhotoSwipe.UILayer,window.Code.PhotoSwipe.ZoomPanRotate)); var ItemsCollection=Backbone.Collection.extend({skip:0,DEFUALT_TAKE_VALUE:25,_selectedItem:null,initialize:function(){this._itemsReadyCb=[];this._alreadyGotData=false;this.EOF=false},successCallback:function(a,e,c){this._alreadyGotData=true;if(!e.appendResult){this.reset()}var d=this.parse(a);if(d.models&&d.models.length>0){this.add(d.models);d.models=this.last(d.models.length);this.skip+=d.models.length;if(this.isEOF(a,d)){this.EOF=true;this.trigger("eof")}if(a.paging&&a.paging.next){this._next=a.paging.next}}else{this.EOF=true;this.trigger("eof")}d.isEOF=this.EOF;this.trigger("getItemsSuccess",d.metaData,d,c);if(this.length>0&&this._itemsReadyCb.length>0){var b=this;$.each(this._itemsReadyCb,function(f,g){Utils.Helpers.funcWrapper(g)(b)});this._itemsReadyCb=[]}},isEOF:function(a,b){if(a.paging){if(a.paging.next){return false}else{return true}}else{if((b.models.length===0)||b.models.length<this.getParams().take){return true}}return false},isExpiredCache:function(){if(this.length===0){return false}var b=this.getExecuteOptions();var a=this.getParams();a.skip=0;a.take=a.take||this.DEFUALT_TAKE_VALUE;return !Services.isCacheValid(this.getServiceName(),a,b)},getExecuteOptions:function(b){if(PLATFORM===platformEnum.simulator){return{executeType:executeTypeEnum.FORCE_NETWORK,forceServerNoCache:true}}var a={executeType:executeTypeEnum.FORCE_NETWORK};if(_.isNumber(b)){b={executeType:b}}else{if(!$.isPlainObject(b)){b={}}}return $.extend({},a,b)},getItems:function(c,a){this.resetParams();var b=this.getExecuteOptions(c);this._performRequest(b,a)},getNextPage:function(c,a){var b=this.getExecuteOptions(c);b.appendResult=true;this._performRequest(b,a)},_performRequest:function(f,d){this._alreadyGotData=false;var b=false;var c=function(g){if(!this._alreadyGotData){this.trigger("loadingStateChanged",false);this.trigger("getItemsFail",f.executeType,b,d)}};var a=function(g,h){this.trigger("loadingStateChanged",false);this.successCallback(g,f,d)}.hitch(this);if(this.invalid){b=true;this.EOF=true;this.trigger("eof");c.hitch(this)();return}this.trigger("loadingStateChanged",true);this.trigger("getNextItems");var e=this.getParams();e.skip=this.skip;e.take=e.take||this.DEFUALT_TAKE_VALUE;Services.executeService(this.getServiceName(),e,a.hitch(this),c.hitch(this),f,this._next)},onItemsReady:function(a){if(this.length>0){Utils.Helpers.funcWrapper(a)(this)}else{this._itemsReadyCb.push(a)}},parse:function(a){return null},getServiceName:function(){return""},getParams:function(){return{}},resetParams:function(){this.EOF=false;this._next=null;this.skip=0},reset:function(){this._removeAliases();Backbone.Collection.prototype.reset.apply(this);this.resetParams()},_removeAliases:function(){for(var b=this.length-1;b>-1;b--){var a=this.at(b).get("alias");Utils.Html.removeAlias(a)}}}); var ItemModel=Backbone.Model.extend({defaults:{selected:false}}); var BaseTemplateModel=Backbone.Model.extend({defaults:{selectedItem:null},onItemSelected:function(b){var a=this.get("selectedItem");var c=(a&&a.cid===b.cid);if(a&&!c){a.set({selected:false})}if(!c){this.set({selectedItem:b})}this.trigger("itemSelected",[b,c])}}); var ItemsModel=Backbone.Model.extend({defaults:{items:null,loadingType:loadingTypeEnum.NORMAL,isLoading:false},getItemForAlias:function(c){var a=this.get("items");for(var b=0;b<a.length;b++){var d=a.at(b);if(d.get("alias")===c){return d}}return null},initialize:function(){var a=this.createItemsCollection();a.bind("loadingStateChanged",this._onLoadingStateChanged,this);this.set({items:a})},_onLoadingStateChanged:function(a){this.set("isLoading",a)},createItemsCollection:function(){return new ItemsCollection()},setSelectedItem:function(a){var b=!!(this._selectedItem&&this._selectedItem.cid===a.cid);if(this._selectedItem&&!b){this._selectedItem.set({selected:false})}if(!b){this._selectedItem=a;this._selectedItem.set({selected:true})}this.trigger("itemSelected",a,b)},isExpiredCache:function(){var a=this.get("items");if(a){return a.isExpiredCache()}else{return false}},getItems:function(c,b){var a=this.get("items");if(a){a.getItems(c,b)}},getNextPage:function(b){var a=this.get("items");if(a){a.getNextPage(b)}}}); GoogleMapsView=Backbone.View.extend({className:"google-map-view scroll_wrapper",initialize:function(){this._map=null;this._markersArray=[];this._infoWindow=null;this._loadGoogleMaps(this.options.callback)},render:function(){this._infoWindow=new google.maps.InfoWindow();var a={zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP};a.disableDefaultUI=(DEVICE!==deviceTypeEnum.android);if(this.options.googleOptions){$.extend(a,this.options.googleOptions)}this._map=new google.maps.Map(this.el,a);this.addMarkers(this.options.markers);return this},createMarker:function(a,f,h,j,k,g){var b=new google.maps.MarkerImage("marker-panel.png",new google.maps.Size(100,39),new google.maps.Point(0,0),new google.maps.Point(50,39));var e={coord:[1,1,1,20,18,20,18,1],type:"poly"};var d=new google.maps.LatLng(f,h);var c=new google.maps.Marker({position:d,map:a,title:j,address:k});var i=new GoogleMarkerLabel({map:a,marker:c,cbMarkerClicked:g});i.bindTo("position",c,"position");i.set("title",j);i.set("address",k);c.label=i;return c},addMarker:function(f,g,c,e){if(e!=""){}var h=e.header||"";var b=e.address||"";var a=this.createMarker(this._map,g,c,h,b,this._onMarkerClicked);this._markersArray[f]=a;var d=this;google.maps.event.addListener(a,"click",function(){d._showMarker.hitch(d)(a)})},_onMarkerClicked:function(a){if(navigator.google_map&&navigator.google_map.showDirections){navigator.google_map.showDirections(null,null,{lat:a.position.lat(),lng:a.position.lng()})}},clearAllMarkers:function(){for(markerId in this._markersArray){var a=this._markersArray[markerId];a.setMap(null)}this._markersArray=[]},addMarkers:function(g){if(!(g&&g.length)){return}var e=new google.maps.LatLngBounds();for(var c=0;c<g.length;c++){var a=g[c];var f=a.location?a.location.lat:0;var b=a.location?a.location.lng:0;this.addMarker(c+1,f,b,{header:a.header,address:a.address});var d=new google.maps.LatLng(f,b);e.extend(d)}this.refresh(function(){if(g.length>1){this._map.fitBounds(e)}else{this.showMarkerById(1)}}.hitch(this))},_showMarker:function(a){this._map.setCenter(a.position)},showMarkerById:function(b){var a=this._markersArray[b];if(a){this._showMarker(a)}},refresh:function(b){var a=this;setTimeout(function(){google.maps.event.trigger(a._map,"resize");a._map.setZoom(a._map.getZoom());if(typeof(b)==="function"){b()}},1)},_loadGoogleMaps:function(a){$.getScript("http://www.google.com/jsapi?key=ABCDEFG",function(){google.load("maps","3",{other_params:"sensor=false",callback:function(){a()}})})}}); function GoogleMarkerLabel(a){this.setValues(a);this.$title=$('<div class="google-marker-title"></div>');this.$address=$('<div class="google-marker-address"></div>');this.$text=$('<div class="google-marker-text"></div>').append($("<div></div>").append(this.$title).append(this.$address)).append('<div class="google-marker-arrow"><div class="sprite sprite-map_direct_icon"></div></div>');this.$div=$('<div class="google-marker-label"></div>').append(this.$text).append($('<div class="google-marker-bubble-triangle"></div>'));return this}GoogleMarkerLabel.prototype.onAdd=function(){var e=this.getPanes().overlayImage;e.appendChild(this.$div[0]);var c=this.$text;var a=this.get("marker");var b=this.get("cbMarkerClicked");if(b&&typeof(b)==="function"&&a){this.$div.bind("tap",function(){b(a)})}var d=this;this.listeners_=[google.maps.event.addListener(this,"position_changed",function(){d.draw()}),google.maps.event.addListener(this,"text_changed",function(){d.draw()}),google.maps.event.addListener(this,"zindex_changed",function(){d.draw()})]};GoogleMarkerLabel.prototype.onRemove=function(){this.$div.remove();for(var b=0,a=this.listeners_.length;b<a;++b){google.maps.event.removeListener(this.listeners_[b])}};GoogleMarkerLabel.prototype.draw=function(){var b=this.getProjection();var a=b.fromLatLngToDivPixel(this.get("position"));this.$div.css({left:a.x+"px",top:a.y+"px",display:"block",zIndex:this.get("zIndex")});var d=this.get("title");var c=this.get("address");if(!d||d===""){d=c;c=null;this.$title.css("marginTop",8)}this.$title.html(d);if(!c||c===""){this.$address.remove()}else{this.$address.html(c)}};GoogleMarkerLabel.prototype.toggle=function(){this.$div.toggle()};var GoogleMarkerLabelClassCreator={createClass:function(){var b=new google.maps.OverlayView;for(var a in b){GoogleMarkerLabel.prototype[a]=b[a]}}}; (function(){var e;var c=false;var b="map";var d=function(){if(e){e.$el.one("pageshow",function(){c=false});var f=function(j,h){if(h!==b){console.log("map manager got unexpected alias: "+h);return}var i=j.navRequest;UN.onPageReady(e.id,i)};var g=UN.getCurrentUrlLevel();UN.registerChange(f,g,{});UN.navTo(b)}};var a=function(g,f){if(PLATFORM==platformEnum.nativeApp){if(DEVICE==deviceTypeEnum.android){navigator.uiManager.showMap(null,null,f.toJSON())}else{if(DEVICE==deviceTypeEnum.iphone){navigator.appManager.showOnMap(null,null,f.toJSON())}}return}if(c){return}c=true;e=g.find(".map-page-view");if(e){e.remove()}f.set({callback:d});e=new MapPageView({model:f,id:"map_view_"+Utils.Helpers.generateGUID()});g.append(e.el);e.render()};window.MapManager={show_on_map:a}})(); var MediaPlayerModel=Backbone.Model.extend({defaults:{statusArrowUp:true,currentTrack:null,currentTrackIndex:-1,currentSeekTime:0,currentTrackDuration:0,timeForward:true,duration:0},initialize:function(){}}); MediaPlayerBottomBarView=Backbone.View.extend({className:"media_player_bottom_bar",events:{"tap .media_player_time":"onTimeClick","tap .media_player_arrow":"onMinimizeMaximizeClick"},initialize:function(){this.model.bind("change:time",this.onTimeChanged.hitch(this));this.model.bind("change:currentTrack",this.onTrackChanged.hitch(this));this.model.bind("change:statusLoading",this.onStatusLoadingChanged.hitch(this));this.model.bind("change:statusArrowUp",this.onStatusArrowChanged.hitch(this));this.timeForward=true},render:function(){var b=this.options.template;var a=b.bottom_bar();this.$el.html(a);this.updateArrowDisplay(this.model.get("statusArrowUp"));return this},updateArrowDisplay:function(b){var a=this.$el.find(".media_player_arrow div");if(b){a.removeClass("sprite-arrowDown").addClass("sprite-arrowUp")}else{a.removeClass("sprite-arrowUp").addClass("sprite-arrowDown")}},onTimeChanged:function(d,b){var a=this.$el.find(".media_player_time");var e=this.model.get("timeForward");if(e){a.text(Utils.TimeDate.durationDisplayTime(b))}else{var c=this.model.get("duration");a.text("-"+Utils.TimeDate.durationDisplayTime(c-b))}},onTrackChanged:function(b,a){var c=this.$el.find(".media_player_song_name");c.text(a.title)},onStatusLoadingChanged:function(a,d){var c=this.$el.find(".media_player_loading_indicator");var b=this.$el.find(".media_player_equalizer");if(d){b.removeClass("media_player_equalizer sprite sprite-equalizer").addClass("media_player_loading_indicator mask_sprite sprite-ajax-loader_small spin clr_audioPlayer_icn")}else{c.removeClass("media_player_loading_indicator mask_sprite sprite-ajax-loader_small spin clr_audioPlayer_icn").addClass("media_player_equalizer sprite sprite-equalizer")}},onTimeClick:function(b){b.preventDefault();var c=this.model.get("timeForward");this.model.set({timeForward:!c});var a=this.model.get("time");this.onTimeChanged(a,a)},onMinimizeMaximizeClick:function(a){a.preventDefault();this.trigger("minimizeMaximizeClick")},onStatusArrowChanged:function(b,a){this.updateArrowDisplay(a)}}); MediaPlayerTopBarView=Backbone.View.extend({className:"media_player_top_bar",events:{"tap .media_player_prev_button":"onPrevClick","tap .media_player_playpause_button":"onPlayPauseClick","tap .media_player_next_button":"onNextClick"},initialize:function(){this.model.bind("change:duration",this.onDurationChanged,this);this.model.bind("change:statusPlaying",this.onStatusChanged,this);this.model.bind("change:time",this.onTimeChange,this)},render:function(){var b=this.options.template;var a=b.top_bar();this.$el.html(a);this._$seekBar=this.$el.find(".media_player_seek_bar_background");this._$seekBar.bind(TouchHandler.START_EVENT,this._seekbarTouchStartHandler.hitch(this));this._$seekBar.bind(TouchHandler.MOVE_EVENT,this._seekbarTouchMoveHandler.hitch(this));this._$seekBar.bind(TouchHandler.END_EVENT,this._seekbarTouchEndHandler.hitch(this));this.onDurationChanged();return this},onPrevClick:function(a){a.preventDefault();this.trigger("prevClicked")},onPlayPauseClick:function(a){a.preventDefault();this.trigger("playPauseClicked")},onNextClick:function(a){a.preventDefault();this.trigger("nextClicked")},onTimeChange:function(c,a){if(!this._touchSeekStarted){var b=this.model.get("duration");this._updateSeekBar(a/b)}},_updateSeekBar:function(a){this.$el.find(".media_player_seek_bar_position").width(a*100+"%")},_updateSeekInTouch:function(c,a){var b=TouchHandler.getXFromEvent(c)-a.left;b=Math.max(Math.min(b,this._$seekBar.width()),0);this._newSeek=b/this._$seekBar.width();this._updateSeekBar(this._newSeek)},_seekbarTouchStartHandler:function(c){var d=this.model.get("statusLoading");var b=this.model.get("duration");if(b==0||b==Infinity||d){return true}this._touchSeekStarted=true;if(c.originalEvent){c=c.originalEvent}if(c.preventDefault){c.preventDefault()}var a=$(c.target).offset();this._updateSeekInTouch(c,a);return true},_seekbarTouchMoveHandler:function(b){if(!this._touchSeekStarted){return false}if(b.originalEvent){b=b.originalEvent}if(b.preventDefault){b.preventDefault()}var a=$(b.target).offset();this._updateSeekInTouch(b,a);return true},_seekbarTouchEndHandler:function(c){if(this._touchSeekStarted){this._touchSeekStarted=false;var d=this.model.get("statusLoading");var b=this.model.get("duration");if(b==0||b==Infinity||d){return true}var a=this._newSeek*b;this.model.set({timePosition:a});this._touchSeekStarted=false}},onStatusChanged:function(c,a){var b=$(".media_player_playpause_button div");if(a){b.removeClass("sprite-play").addClass("sprite-pause")}else{b.removeClass("sprite-pause").addClass("sprite-play")}},onDurationChanged:function(){var a=this.model.get("duration");if(!a||a==Infinity){this._$seekBar.addClass("disabled")}else{this._$seekBar.removeClass("disabled")}}}); MediaPlayerView=Backbone.View.extend({className:"media_player_root clr_audioPlayer_brdr",initialize:function(){this._player=new AudioPlayer();this._player.registerCurrentTimeChanged(this._onCurrentTimeChanged.hitch(this));this._player.registerLoadedMetaData(this._onLoadedMetaData.hitch(this));this._player.registerModeChanged(this._onModeChanged.hitch(this));this._player.registerErrorPlaying(this._onErrorPlaying.hitch(this));this._player.registerMediaEnded(this._onMediaEnded.hitch(this));this.timeSign=true;this.model.bind("change:timePosition",this.onTimePositionChanged.hitch(this),this);this.model.bind("change:statusArrowUp",this._renderBackgroundColor.hitch(this),this)},render:function(){var a=this.options.templateId;if(!a||!audioPlayerTemplates[a]){a="1"}var b=mediaPlayerTemplates[a];this.barTop=new MediaPlayerTopBarView({model:this.model,template:b});this.barTop.bind("prevClicked",this.onPrev.hitch(this));this.barTop.bind("playPauseClicked",this.onPlayPause.hitch(this));this.barTop.bind("nextClicked",this.onNext.hitch(this));this.barBottom=new MediaPlayerBottomBarView({model:this.model,template:b});this.barBottom.bind("minimizeMaximizeClick",this.onMinimizeMaximizeClick.hitch(this),this);this.$el.html(this.barTop.render().el).append(this.barBottom.render().el).attr("dir","ltr");this._updateBarsVisibility(this.model.get("statusArrowUp"));this._renderBackgroundColor();return this},_updateBarsVisibility:function(a){if(a){$(this.barTop.el).show()}else{$(this.barTop.el).hide()}},_renderBackgroundColor:function(){if(this.model.get("statusArrowUp")){this.$el.addClass("clr_audioPlayer_bg").removeClass("clr_audioPlayer_bgMini")}else{this.$el.addClass("clr_audioPlayer_bgMini").removeClass("clr_audioPlayer_bg")}},destroyPlayer:function(){this._player.pause()},_onCurrentTimeChanged:function(a){if(!this._player.isLoading()){this.model.set({time:a})}},_onLoadedMetaData:function(){this.model.set({duration:this._player.getDuration()})},_onModeChanged:function(d,a){var b=this._player.isLoading();var c=((d===this._player.modeEnum.play)||(d===this._player.modeEnum.loading));this.model.set({statusLoading:b,statusPlaying:c})},_onErrorPlaying:function(c){var a=this.$el.parent().is(":visible");if(!a){return}var b="";if(c===this._player.errorEnum.noPlayer){if(PLATFORM===platformEnum.simulator){b=_T("DialogMessageAudioNotSupportedSimulator")}else{b=_T("DialogMessageAudioNotSupportedDevice")}}else{if(c===this._player.errorEnum.errorOccured){if(PLATFORM===platformEnum.simulator){b=_T("DialogMessageAudioTypeNotSupportedSimulator")}else{b=_T("DialogMessageAudioTypeNotSupportedDevice")}}}uiDriver.showToastMessage(null,null,b,this.$el)},_onMediaEnded:function(){this.onNext()},onTimePositionChanged:function(a,b){this._player.setCurrentTime(b)},onPrev:function(){var a=this.model.get("currentTrackIndex");if(a>0){this.setTrackIndex(a-1,true)}else{this._player.setCurrentTime(0)}},onPlayPause:function(){if(this._player.getMode()===this._player.modeEnum.stop){this._player.play()}else{this._player.pause()}},onNext:function(){var a=this.model.get("tracks");var b=this.model.get("currentTrackIndex");if(b<a.length-1){this.setTrackIndex(b+1,true)}},onMinimizeMaximizeClick:function(){var a=this.model.get("statusArrowUp");a=!a;this.model.set({statusArrowUp:a});this._updateBarsVisibility(a)},setTracks:function(a){this.model.set({tracks:a.concat()})},setTrackIndex:function(c,d){var b=this.model.get("tracks");if(!b||typeof(c)==="undefined"||c<0||c>=b.length){return}var a=b[c];this.model.set({currentTrack:a,currentTrackIndex:c,currentSeekTime:0});this.model.set({duration:0});this._player.setUrl(a.stream.url);if(d){this._player.play()}}}); var mediaPlayerTemplates={"1":{top_bar:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="media_player_play_buttons"><div class="media_player_prev_button"><div class="mask_sprite sprite-prev clr_audioPlayer_icn" /></div><div class="media_player_playpause_button"><div class="mask_sprite sprite-play clr_audioPlayer_icn" /></div><div class="media_player_next_button"><div class="mask_sprite sprite-next clr_audioPlayer_icn" /></div></div><div class="media_player_seek_bar"><div class="media_player_seek_bar_background clr_audioPlayer_seekBar_bg clr_audioPlayer_seekBar_brdr"><div class="media_player_seek_bar_position clr_audioPlayer_seekBar_seekFill"></div></div></div>'}return __p},bottom_bar:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<table class="media_player_bottom_bar"><tr><td><div class="media_player_equalizer sprite sprite-equalizer"></div></td><td><div class="media_player_time clr_audioPlayer_txt">00:00</div></td><td class="media_player_song_name_cell clr_audioPlayer_hdlTxt"><div class="media_player_song_name ellipsis"></div></td><td class="media_player_arrow"><div class="mask_sprite sprite-arrowUp clr_audioPlayer_icn"></div></td></tr></table>'}return __p}}}; var UserModel=ItemModel.extend({defaults:{id:"",img:"",name:"",alias:"",meta:{company:"",country:"",field:"",job_title:"",summary:""}},initialize:function(){var b=Utils.Html.fixAlias(this.get("alias")||this.get("id"));this.set({alias:b});var a=this.get("img");if(a&&a.original){this.set({img:a.original})}var c=this.get("meta");c.company=this.get("company")||c.company;c.country=this.get("country")||c.country;c.field=this.get("field")||c.field;c.job_title=this.get("jobTitle")||c.job_title;c.summary=this.get("summary")||c.summary},getShareInfo:function(){return{}}}); var UserProfileView=Backbone.View.extend({className:"user_details_container clr_contTypeB_bg clr_contTypeB_brdr",render:function(){var a=$.extend({},this.model.toJSON());var b=[];if(a.meta.company){b.push(a.meta.company)}if(a.meta.field){b.push(a.meta.field)}if(a.meta.country){b.push(a.meta.country)}a.extraInfo=b.join(", ");this.$el.append(userProfileTemplates.userProfile(a));return this}}); var userProfileTemplates={};userProfileTemplates.userProfile=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(img){__p+='<div class="user_profile_image sliced_image" style="background-image:url(\''+((__t=(img))==null?"":__t)+"');\"></div>"}__p+="";if(name){__p+=' <div class="user_profile_name clr_contTypeB_hdlTxt">'+((__t=(name))==null?"":__t)+"</div>"}__p+="";if(meta.job_title){__p+='<div class="user_profile_title clr_contTypeB_txt">'+((__t=(meta.job_title))==null?"":__t)+"</div>"}__p+="";if(extraInfo){__p+='<div class="user_profile_extraInfo clr_contTypeB_txt">'+((__t=(extraInfo))==null?"":__t)+"</div>"}__p+=""}return __p}; var InputPanelModel=Backbone.Model.extend({defaults:{cbSend:null},initialize:function(){}}); var InputPanelView=Backbone.View.extend({className:"input_panel",render:function(){var a=$.extend({},this.options.options);this.$el.html(inputPanelTemplates.inputPanel(a));this._$okBtn=this.$(".button_send");this._$okBtn.tap(this._onSend.hitch(this));this._$textArea=this.$(".text_input");this._$textArea.keyup(this._inputEdit.hitch(this));this._inputEdit();return this},_onSend:function(){if(!this._$okBtn.hasClass("disabled")){var b=this._$textArea.val();this._$textArea.val("");this._inputEdit();var a=this.model.get("cbSend");Utils.Helpers.funcWrapper(a)(b)}},_inputEdit:function(){if(this._$textArea.val()===""){this._$okBtn.addClass("disabled")}else{this._$okBtn.removeClass("disabled")}}}); var inputPanelTemplates={inputPanel:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="inputPanel clr_comment_bg clr_contTypeB_subTxt"><div class="input_container"><textarea rows="1" class="text_input clr_form_input_bg clr_form_input_brdr clr_form_input_txt" placeholder="'+((__t=(placeHolderTxt))==null?"":__t)+'">'+((__t=(initialTxt))==null?"":__t)+'</textarea></div><div class="button_send clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt" data-role="button">'+((__t=(sendBtnTxt))==null?"":__t)+"</div></div>"}return __p}}; var ChatModel=ItemsModel.extend({defaults:{discussionId:null,participants:[]},createItemsCollection:function(){var a=new MessagesCollection();a.discussionId=this.get("discussionId");a.participants=this.get("participants");return a},findDiscussionId:function(c,d){var a=this.get("discussionId");if(a){Utils.Helpers.funcWrapper(c)(a);return}var b=new InboxCollection(null,{});var e=function(f,k){var g=this.get("participants");var j=function(n){if(!n||n.length!==g.length){return false}for(var m=0;m<n.length;m++){for(var l=0;l<g.length;l++){if(n[m].id===g[l].id){break}}if(l===g.length){return false}}return true};for(var h=0;h<f.length;h++){if(j(f[h].participants)){a=f[h].discussionId;this.set({discussionId:a});this.get("items").discussionId=a;Utils.Helpers.funcWrapper(c)(a);return}}Utils.Helpers.funcWrapper(d)()};b.bind("getItemsSuccess",e,this);b.bind("getItemsFail",d,this);b.getItems(executeTypeEnum.FORCE_NETWORK)},sendMessage:function(h,d,j){var b=ProfileManager.getUserId();var l={text:j};var a=null;if(this.get("participants").length){a=this.get("participants")[0].id}var f=this;var g=this.get("items");var e=function(n){var m=n.Id;f.set({discussionId:m});g.discussionId=m;Utils.Helpers.funcWrapper(h)()};var k={postParams:{toId:a,discussionId:this.get("discussionId"),message:l}};var i={fromId:b};Services.executeService("DISCUSSION_MESSAGES_SEND_POST",i,e,d,k);var c={fromId:b,ts:new Date().getTime(),message:l};var l=g.createChatMessageModel(c);g.add(l,{isNew:true})},addUserdMessage:function(a,b,e){var d=this.get("items");var c=d.createChatMessageModel(e);d.add(c,{isNew:true})}}); var ChatMessageModel=Backbone.Model.extend({defaults:{fromId:"",name:"",img:"",message:{text:""},ts:0,timeStr:"",isMe:false}}); var MessagesCollection=ItemsCollection.extend({model:ChatMessageModel,getServiceName:function(){return"DISCUSSION_MESSAGES_GET"},parse:function(a){var c=[];if(a.length){for(var b=0;b<a.length;b++){if(a[b].ts){a[b].ts=a[b].ts*1000}c[b]=this.createChatMessageModel(a[b])}}return{models:c}},createChatMessageModel:function(c){c.isMe=(ProfileManager.getUserId()===c.fromId);var b={};if(c.isMe){b=$.extend(b,ProfileManager.getUserProfile());if(b.img&&b.img.original){b.img=b.img.original}}else{for(var a=0;a<this.participants.length;a++){if(this.participants[a].id===c.fromId){b=this.participants[a];break}}}c.name=b.name;c.img=b.img;c.timeStr=new Date(c.ts).format("dateTime");return new ChatMessageModel(c)},getParams:function(){var a={skip:this.skip,discussionId:this.discussionId};return a}}); ChatPageView=Backbone.View.extend({className:"chat_page",initialize:function(){this._initOptions();this.$el.attr({"data-role":"page","data-buttons":"refresh"});this.$el.bind("pageshow",this.onPageShow.hitch(this));this.$el.bind("pagehide",this.onPageHide.hitch(this));this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));var a=this.model.get("items");if(a){a.bind("getItemsSuccess",this._onGetItemsSuccess,this);a.bind("getNextItems",this._renderShowMoreButton,this);a.bind("getItemsFail",this.onGetDataFail,this);a.bind("add",this._renderOneItem,this);a.bind("reset",this._reset,this);a.bind("eof",this._renderShowMoreButton,this)}},_initOptions:function(){var a={showMoreStr:_T("HtmlTextPaginationShowMoreItems"),loadingStr:_T("HtmlTextPaginationLoadingItems"),failStr:_T("ToastMessagePaginationFailedGetItems")};this.options=$.extend({},a,this.options)},onPageShow:function(){var a={};if(!this.alreadyOpen){this.alreadyOpen=true;a.initialTxt=this.options.message}inputPanelDriver.openPanel(this.onSendMessage.hitch(this),null,a);this.refreshing=true;cqm.showLoading(_T("HtmlTextPaginationRefreshItems"),this.$el,true);var c=function(){this.model.getItems(executeTypeEnum.FORCE_NETWORK)};var b=function(){this.refreshing=false;cqm.hideLoading(this.$el)};this.model.findDiscussionId(c.hitch(this),b.hitch(this))},onPageHide:function(){inputPanelDriver.closePanel(null,null)},render:function(){this.$el.html(chatTemplates.chatPage());var b=this.$(".header_container");var a=new ChatHeaderView({model:this.model});b.html(a.render().el);this.$itemsList=this.$(".messages_list");this.$myScrollWrapper=this.$(".scroll_wrapper");this._reset();this._renderItems();this._renderShowMoreButton();Scrolling.init(this.$myScrollWrapper);this._scrollDown();return this},_reset:function(){this.$itemsList.html("")},_renderOneItem:function(c,d,a){var b=this.createItemView(c);if(a&&a.isNew){this.$itemsList.append(b.render().el);this._refreshScroll();this._scrollDown()}else{this.$itemsList.prepend(b.render().el)}},_scrollDown:function(){var a=this.$myScrollWrapper.height();var b=this.$myScrollWrapper.find(".scroller").height();var c=b;setTimeout(function(){if(c>0){Scrolling.scrollTo(this.$myScrollWrapper,c,500)}}.hitch(this),500)},createItemView:function(b){if(b.get("isMe")){var a=new MyChatMessageView({model:b})}else{var a=new UserChatMessageView({model:b})}return a},_renderItems:function(){var a=this.model.get("items");if(a){a.each(this._renderOneItem.hitch(this))}},handleRefreshClick:function(){if(this.model.get("discussionId")){this.refreshing=true;cqm.showLoading(_T("HtmlTextPaginationRefreshItems"),this.$el,true);this.model.getItems(executeTypeEnum.FORCE_NETWORK)}},handleSilentRefresh:function(){},_onGetItemsSuccess:function(a,c,b){if(this.refreshing){this.refreshing=false;cqm.hideLoading(this.$el)}this._renderShowMoreButton();this._refreshScroll();this._scrollDown()},_refreshScroll:function(){Scrolling.onContentChanged(this.$myScrollWrapper)},_renderShowMoreButton:function(){},_cbRetry:function(){this.model.getItems(executeTypeEnum.HIT_AND_RUN)},_cbCancel:function(){this.model.set({eof:true})},onGetDataFail:function(c,b){cqm.hideLoading(this.$el);if(PLATFORM!=platformEnum.simulator){if(c===executeTypeEnum.HIT_AND_RUN){var a={title:_T("DialogCaptionError"),message:this.options.failStr,buttons:[{text:_T("ButtonRetry"),cb:this._cbRetry.hitch(this)},{text:_T("ButtonCancel"),cb:this._cbCancel.hitch(this)}]};uiDriver.showDialogBox(null,null,a)}else{uiDriver.showToastMessage(null,null,this.options.failStr,this.$el);this._cbCancel()}}else{if(!b){uiDriver.showToastMessage(null,null,this.options.failStr,this.$el);this._cbCancel()}}},_onShowMoreTap:function(a){a.preventDefault();this.model.getNextPage(executeTypeEnum.HIT_AND_RUN_SILENT)},onSendMessage:function(a){this.model.sendMessage(null,null,a)}}); var ChatHeaderView=Backbone.View.extend({className:"chat_header clr_contTypeB_bg clr_contTypeB_brdr",render:function(){var d=_T("HtmlTextChatHeaderChattingWith");var b="";var a=this.model.get("participants");for(var c=0;c<a.length;c++){if(c>0){b+=", "}b+=a[c].name}this.$el.html(chatTemplates.header({text:d,name:b}));return this}}); var UserChatMessageView=Backbone.View.extend({tagName:"li",className:"user chat_message",render:function(){var a=this.model.toJSON();a.text=Utils.String.sanitizeText(a.message.text,true);this.$el.html(chatTemplates.userMessage(a));return this}}); var MyChatMessageView=Backbone.View.extend({tagName:"li",className:"my chat_message",render:function(){var a=this.model.toJSON();a.text=Utils.String.sanitizeText(a.message.text,true);this.$el.html(chatTemplates.myMessage(a));return this}}); var chatTemplates={chatPage:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller">\t<div class="header_container"></div>\t<div class="show_prev_container"></div>\t<ul class="messages_list">\t</ul>\t<div class="scroll_bug_fix"></div></div></div>'}return __p},userMessage:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="message_item clr_liveChat_bubbleOther_bg">\t<div class="text size_1 clr_liveChat_bubbleOther_txt ';if(img){__p+=" with_img "}__p+=' ">\t\t'+((__t=(text))==null?"":__t)+"\t</div>\t";if(img){__p+='\t\t<div class="icon_image sliced_image" style="background-image:url(\''+((__t=(img))==null?"":__t)+"')\"></div>\t"}__p+='</div><div class="triangle clr_liveChat_bubbleOther_triangle"></div><div class="message_time size_0 clr_liveChat_bubbleOther_subTxt clr_liveChat_bubbleOther_bg">\t'+((__t=(timeStr))==null?"":__t)+"</div>"}return __p},myMessage:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="message_item clr_liveChat_bubbleMe_bg">\t<div class="text size_1 clr_liveChat_bubbleMe_txt ';if(img){__p+=" with_img "}__p+=' ">\t\t'+((__t=(text))==null?"":__t)+"\t</div>\t";if(img){__p+='\t\t<div class="icon_image sliced_image" style="background-image:url(\''+((__t=(img))==null?"":__t)+"')\"></div>\t"}__p+='</div><div class="triangle clr_liveChat_bubbleMe_triangle"></div><div class="message_time size_0 clr_liveChat_bubbleMe_subTxt clr_liveChat_bubbleMe_bg">\t'+((__t=(timeStr))==null?"":__t)+"</div>"}return __p},header:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="chat_with clr_contTypeB_subTxt size_title_0">\t'+((__t=(text))==null?"":__t)+'</div><div class="discussion_name clr_contTypeB_hdlTxt size_title_3">\t'+((__t=(name))==null?"":__t)+"</div>"}return __p}}; var ChooseDialog=(function(){var d={};var b=null;var a=null;var c=null;var g=function(){if(b){b.remove();b=null;$(window).unbind("throttledresize",e)}};var f=function(h){g();if(typeof(h)==="undefined"){Utils.Helpers.funcWrapper(c)()}else{Utils.Helpers.funcWrapper(a)(h)}};d.execute=function(m,o,k,q){q=q||{};if(typeof(q.dialogTitle)==="undefined"){q.dialogTitle=""}if(typeof(q.cancelTitle)==="undefined"){q.cancelTitle=_T("ButtonCancel")}if(typeof(q.dialogWidth)==="undefined"){q.dialogWidth=200}if(typeof(q.immediate)==="undefined"){q.immediate=false}var i={title:q.dialogTitle,cancel:q.cancelTitle};var n=chooseDialogTemplates.dialog_tpl(i);b=$(n);var h=q.dialogWidth;var l=(q.dialogWidth/2)+6;b.find(".choose_dialog").css({width:h+"px",marginLeft:"-"+l+"px"});a=o;c=k;var p=b.find(".choose_buttons_container");_.each(m,function(s,r){if(typeof(s.returnValue)==="undefined"){s.returnValue=r}if(typeof(s.href)==="undefined"){s.href="javascript:void(null);";var u=true}i={title:s.title,href:s.href};n=chooseDialogTemplates.button_tpl(i);var t=$(n);if(u){t.tap(function(v){v.preventDefault();if(q.immediate){Utils.Helpers.funcWrapper(a)(s.returnValue);setTimeout(UN.closeDialog,0)}else{UN.closeDialog(s.returnValue)}return false})}p.append(t)});var j=b.find(".button_cancel");j.tap(function(r){r.preventDefault();UN.closeDialog();return false});UN.openDialog({cbDone:f});$("body").prepend(b);$(window).bind("throttledresize",e);e()};var e=function(){var h=window.innerHeight+"px";var i=window.innerWidth+"px";b.css({height:h,width:i})};return d}()); var chooseDialogTemplates={dialog_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="choose_dialog_layer clr_appGeneral_dialog_bg"><div class="choose_dialog clr_contTypeB_bg clr_contTypeB_subTxt">'+((__t=(title))==null?"":__t)+'<div class="choose_dialog_buttons_container"><div class="choose_buttons_container"></div><div class="button_cancel choose_dialog_button clr_appGeneral_dialog_btn2_bg clr_appGeneral_dialog_btn2_brdr clr_appGeneral_dialog_btn2_hdlTxt" data-role="button">'+((__t=(cancel))==null?"":__t)+"</div></div></div></div>"}return __p},button_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<a href="'+((__t=(href))==null?"":__t)+'" target="_blank" class="choose_dialog_button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt" data-role="button">'+((__t=(title))==null?"":__t)+"</a>"}return __p}}; var DatePickerDialog=(function(){var u={};var i=null;var t=null;var o=null;var j=null;var f=[];var q=null;var r=null;var g=null;var s=0;var p=0;var c=0;var b=1900;var l=2100;var d=function(){$(".ui-page-active").find("input, select, textarea").not(":disabled").addClass("bugfix-android-clickbleed").attr("disabled","disabled")};var n=function(){$(".ui-page-active").find(".bugfix-android-clickbleed").removeClass("bugfix-android-clickbleed").removeAttr("disabled")};var w=function(){setTimeout(n,500);if(o){o.remove();o=null;$(window).unbind("throttledresize",k);$("#app").show()}};var m=function(x){w();if(typeof(x)==="undefined"){Utils.Helpers.funcWrapper(t)()}else{Utils.Helpers.funcWrapper(i)(x)}};u.execute=function(z,y,A){var x={initialDate:""};A=_.extend({},x,A);var C={ok:_T("HtmlTextDatePickerDialogButtonOk"),cancel:_T("HtmlTextDatePickerDialogButtonCancel"),clear:_T("HtmlTextDatePickerDialogButtonClear")};var B=datePickerDialogTemplates.dialog_tpl(C);o=$(B);j=o.find(".dateDisplay");q=o.find(".display_day");r=o.find(".display_month");g=o.find(".display_year");i=z;t=y;v(z,y);a(A);UN.openDialog({cbDone:m});d();$("body").prepend(o);$(window).bind("throttledresize",k);k()};var v=function(D,z){_$okBtn=o.find(".button_ok");_$okBtn.tap(function(G){G.preventDefault();if(!$(G.target).hasClass("disabled")){UN.closeDialog(h())}return false});_$clearBtn=o.find(".button_clear");_$clearBtn.tap(function(G){G.preventDefault();if(!$(G.target).hasClass("disabled")){UN.closeDialog("")}return false});var A=o.find(".button_cancel");A.tap(function(G){G.preventDefault();UN.closeDialog();return false});var B=o.find(".plus_day");B.tap(function(G){G.preventDefault();if(s<Utils.TimeDate.daysInMonth(p-1,c)){s++}else{s=1}e();return false});var F=o.find(".plus_month");F.tap(function(G){G.preventDefault();if(p<12){p++}else{p=1}e();return false});var x=o.find(".plus_year");x.tap(function(G){G.preventDefault();if(c<l){c++;e()}return false});var E=o.find(".minus_day");E.tap(function(G){G.preventDefault();if(s>1){s--}else{s=Utils.TimeDate.daysInMonth(p-1,c)}e();return false});var y=o.find(".minus_month");y.tap(function(G){G.preventDefault();if(p>1){p--}else{p=12}e();return false});var C=o.find(".minus_year");C.tap(function(G){G.preventDefault();if(c>b){c--;e()}return false})};var h=function(){return Utils.String.addLeadingZeros(c,4)+"-"+Utils.String.addLeadingZeros(p,2)+"-"+Utils.String.addLeadingZeros(s,2)};var a=function(y){f=[0,_T("_month1s"),_T("_month2s"),_T("_month3s"),_T("_month4s"),_T("_month5s"),_T("_month6s"),_T("_month7s"),_T("_month8s"),_T("_month9s"),_T("_month10s"),_T("_month11s"),_T("_month12s")];if(y.initialDate){var x=new Date(y.initialDate)}else{var x=new Date()}s=x.getDate();p=x.getMonth()+1;c=x.getYear()+1900;e()};var e=function(){s=Math.min(s,Utils.TimeDate.daysInMonth(p-1,c));var x=new Date(h());j.html(x.format("dddd, <br> mmmm dd, yyyy"));q.text(s);r.text(f[p]);g.text(c)};var k=function(){var x=$(".app_content_container").height();var y=window.innerWidth+"px";o.css({height:x,width:y})};return u}()); var datePickerDialogTemplates={dialog_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="datePicker_dialog_layer clr_appGeneral_dialog_bg"><div class="datePicker_dialog clr_comment_bg"><div class="dateDisplay"></div><div class="seperator_line"></div><div class="datePicker_dialog_buttons_container"><div class="plus_day inc_dec_button inc" data-role="button">+</div><div class="plus_month inc_dec_button inc" data-role="button">+</div><div class="plus_year inc_dec_button inc" data-role="button">+</div></div><div class="display_day mini_display"></div><div class="display_month mini_display"></div><div class="display_year mini_display"></div><div class="datePicker_dialog_buttons_container"><div class="minus_day inc_dec_button dec" data-role="button">-</div><div class="minus_month inc_dec_button dec" data-role="button">-</div><div class="minus_year inc_dec_button dec" data-role="button">-</div></div><div class="datePicker_dialog_buttons_container control_buttons"><div class="button_cancel set_button" data-role="button">'+((__t=(cancel))==null?"":__t)+'</div><div class="button_clear set_button" data-role="button">'+((__t=(clear))==null?"":__t)+'</div><div class="button_ok set_button" data-role="button">'+((__t=(ok))==null?"":__t)+"</div></div></div></div>"}return __p}}; var TimePickerDialog=(function(){var o={};var g=null;var n=null;var i=null;var h=null;var b=null;var e=null;var m=0;var p=0;var c=function(){$(".ui-page-active").find("input, select, textarea").not(":disabled").addClass("bugfix-android-clickbleed").attr("disabled","disabled")};var k=function(){$(".ui-page-active").find(".bugfix-android-clickbleed").removeClass("bugfix-android-clickbleed").removeAttr("disabled")};var q=function(){setTimeout(k,500);if(i){i.remove();i=null;$(window).unbind("throttledresize",j);$("#app").show()}};var l=function(s){q();if(typeof(s)==="undefined"){Utils.Helpers.funcWrapper(n)()}else{Utils.Helpers.funcWrapper(g)(s)}};o.execute=function(u,t,v){var s={initialDate:""};v=_.extend({},s,v);var x={ok:_T("HtmlTextDatePickerDialogButtonOk"),cancel:_T("HtmlTextDatePickerDialogButtonCancel"),clear:_T("HtmlTextDatePickerDialogButtonClear")};var w=timePickerDialogTemplates.dialog_tpl(x);i=$(w);h=i.find(".timeDisplay");b=i.find(".display_hour");e=i.find(".display_minute");g=u;n=t;r(u,t);a(v);UN.openDialog({cbDone:l});c();$("body").prepend(i);$(window).bind("throttledresize",j);j()};var r=function(w,v){_$okBtn=i.find(".button_ok");_$okBtn.tap(function(z){z.preventDefault();if(!$(z.target).hasClass("disabled")){UN.closeDialog(f())}return false});_$clearBtn=i.find(".button_clear");_$clearBtn.tap(function(z){z.preventDefault();if(!$(z.target).hasClass("disabled")){UN.closeDialog("")}return false});var t=i.find(".button_cancel");t.tap(function(z){z.preventDefault();UN.closeDialog();return false});var u=i.find(".plus_hour");u.tap(function(z){z.preventDefault();if(m<23){m++}else{m=0}d();return false});var s=i.find(".plus_minute");s.tap(function(z){z.preventDefault();if(p<59){p++}else{p=0}d();return false});var x=i.find(".minus_hour");x.tap(function(z){z.preventDefault();if(m>0){m--}else{m=23}d();return false});var y=i.find(".minus_minute");y.tap(function(z){z.preventDefault();if(p>0){p--}else{p=59}d();return false})};var f=function(){return Utils.String.addLeadingZeros(m,2)+":"+Utils.String.addLeadingZeros(p,2)};var a=function(u){m=0;p=0;if(u.initialDate){var s=u.initialDate.split(":");if(s.length>1){p=parseInt(s[1]);m=parseInt(s[0])}}else{var t=new Date();m=t.getHours();p=t.getMinutes()}d()};var d=function(){var t=(m*60+p)*60;var s=new Date(Utils.TimeDate.toUTCTime(t));h.text(s.format("shortTime"));b.text(Utils.String.addLeadingZeros(m,2));e.text(Utils.String.addLeadingZeros(p,2))};var j=function(){var s=$(".app_content_container").height();var t=window.innerWidth+"px";i.css({height:s,width:t})};return o}()); var timePickerDialogTemplates={dialog_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="timePicker_dialog_layer clr_appGeneral_dialog_bg"><div class="timePicker_dialog clr_comment_bg"><div class="timeDisplay"></div><div class="seperator_line"></div><div class="timePicker_dialog_buttons_container"><div class="plus_hour inc_dec_button inc" data-role="button">+</div><div class="plus_minute inc_dec_button inc" data-role="button">+</div></div><div class="display_hour mini_display"></div><div class="display_minute mini_display"></div><div class="timePicker_dialog_buttons_container"><div class="minus_hour inc_dec_button dec" data-role="button">-</div><div class="minus_minute inc_dec_button dec" data-role="button">-</div></div><div class="timePicker_dialog_buttons_container control_buttons"><div class="button_cancel set_button" data-role="button">'+((__t=(cancel))==null?"":__t)+'</div><div class="button_clear set_button" data-role="button">'+((__t=(clear))==null?"":__t)+'</div><div class="button_ok set_button" data-role="button">'+((__t=(ok))==null?"":__t)+"</div></div></div></div>"}return __p}}; var UploadImageDialog=(function(){var e={};var g=null;var c=null;var i=null;var h=null;var a=null;var f=function(){if(i){i.remove();i=null;$(window).unbind("throttledresize",b);$("#app").show()}};var d=function(j){f();if(typeof(j)==="undefined"){Utils.Helpers.funcWrapper(c)()}else{Utils.Helpers.funcWrapper(g)(j)}};e.execute=function(m,l,n){var k={imageURI:"",dialogCaption:_T("DialogCaptionLiveAlbumPostPhoto"),cancelTitle:_T("DialogButtonLiveAlbumPostPhotoCancel"),okTitle:_T("DialogButtonLiveAlbumPostPhotoOk"),inputPlaceholder:_T("HtmlTextLiveAlbumAddComment")};n=_.extend({},k,n);var o=uploadImageDialogTemplates.dialog_tpl(n);i=$(o);g=m;c=l;a=i.find(".button_ok");a.tap(function(p){p.preventDefault();UN.closeDialog(h.val());return false});var j=i.find(".button_cancel");j.tap(function(p){p.preventDefault();UN.closeDialog();return false});h=i.find(".text_input");UN.openDialog({cbDone:d});$("body").prepend(i);$(window).bind("throttledresize",b);b()};var b=function(){var j=window.innerHeight+"px";var k=window.innerWidth+"px";i.css({height:j,width:k})};return e}()); var uploadImageDialogTemplates={dialog_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="uploadImage_dialog_layer clr_appGeneral_dialog_bg"><div class="uploadImage_dialog clr_contTypeB_bg clr_contTypeB_subTxt">';if(dialogCaption){__p+='<div class="dialogCaption">'+((__t=(dialogCaption))==null?"":__t)+"</div>"}__p+="";if(imageURI){__p+='<div class="image_wrapper"><img class="image" src="'+((__t=(imageURI))==null?"":__t)+'" /></div>'}__p+='<div class="input_container"><textarea rows="3" class="text_input clr_form_input_bg clr_form_input_brdr clr_form_input_txt" placeholder="'+((__t=(inputPlaceholder))==null?"":__t)+'" /></div><div class="buttons_container"><div class="button_cancel dialog_button clr_appGeneral_dialog_btn2_bg clr_appGeneral_dialog_btn2_brdr clr_appGeneral_dialog_btn2_hdlTxt" data-role="button">'+((__t=(cancelTitle))==null?"":__t)+'</div><div class="button_ok dialog_button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt" data-role="button">'+((__t=(okTitle))==null?"":__t)+"</div></div></div>"}return __p}}; var CommentDialog=(function(){var f={};var j=null;var i=null;var a=null;var h=null;var c=null;var g=function(){if(j){j.remove();j=null;$(window).unbind("throttledresize",b);$("#app").show()}};var d=function(k){g();if(typeof(k)==="undefined"){Utils.Helpers.funcWrapper(c)()}else{Utils.Helpers.funcWrapper(h)(k)}};f.execute=function(m,l,n){n=n||{};if(typeof(n.okTitle)==="undefined"){n.okTitle=_T("HtmlTextCommentDialogButtonOk")}if(typeof(n.cancelTitle)==="undefined"){n.cancelTitle=_T("HtmlTextCommentDialogButtonCancel")}if(typeof(n.inputPlaceholder)==="undefined"){n.inputPlaceholder=_T("HtmlTextCommentDialogPlaceholder")}var p={ok:n.okTitle,cancel:n.cancelTitle,placeholder:n.inputPlaceholder};var o=commentDialogTemplates.dialog_tpl(p);j=$(o);h=m;c=l;a=j.find(".button_ok");a.tap(function(q){q.preventDefault();if(!$(q.target).hasClass("disabled")){UN.closeDialog(i.val())}return false});var k=j.find(".button_cancel");k.tap(function(q){q.preventDefault();UN.closeDialog();return false});i=j.find(".text_input");i.keyup(e);e();UN.openDialog({cbDone:d});$("body").prepend(j);$(window).bind("throttledresize",b);b();i.focus()};var e=function(){if(i.val()===""){a.addClass("disabled")}else{a.removeClass("disabled")}};var b=function(){var k=window.innerHeight+"px";var l=window.innerWidth+"px";j.css({height:k,width:l})};return f}()); var commentDialogTemplates={dialog_tpl:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="comment_dialog clr_comment_bg clr_contTypeB_subTxt"><div class="input_container clr_comment_panel_bg clr_comment_panel_brdr"><textarea rows="3" class="text_input clr_form_input_bg clr_form_input_brdr clr_form_input_txt" placeholder="'+((__t=(placeholder))==null?"":__t)+'" /></div><div class="comment_dialog_buttons_container"><div class="button_cancel comment_dialog_button clr_appGeneral_dialog_btn2_bg clr_appGeneral_dialog_btn2_brdr clr_appGeneral_dialog_btn2_hdlTxt" data-role="button">'+((__t=(cancel))==null?"":__t)+'</div><div class="button_ok comment_dialog_button clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt" data-role="button">'+((__t=(ok))==null?"":__t)+"</div></div></div>"}return __p}}; var LoginOverlay=(function(){var a={};a.execute=function(f,e){var c={dialogTitle:_T("HtmlTextLoginOverlayTitle"),loginText:_T("HtmlTextLoginOverlayLogin"),container:$(".ui-page-active")};var e=$.extend({},c,e);var g=e.container.find(".loginOverlay");if(ProfileManager.getUserId()){Utils.Helpers.funcWrapper(f)(false);g.remove();return}else{if(g.length==1){return}}var b=new LoginOverlayView(e);var d=function(){b.remove();delete b;Utils.Helpers.funcWrapper(f)(true)};b.bind("loginDone",d);e.container.prepend(b.render().el)};return a}()); var loginOverlayTemplates={loginOverlay:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="login_dialog"><div class="dialogTitle">'+((__t=(dialogTitle))==null?"":__t)+'</div><div class="linkedin_icon sprite sprite-aboutus_linkedin"></div><div class="button_login" data-role="button">'+((__t=(loginText))==null?"":__t)+'</div><span class="spin" style="position: opacity; static: .9; margin: 0 auto; width: 35px; height: 35px; background-color: transparent; background-image: url(app/interface/web/img/ajax-loader.png);  -webkit-border-radius: 20px; border-radius: 20px; background-size: 35px 35px; margin-top: 24px; "></span></div>'}return __p}}; LoginOverlayView=Backbone.View.extend({className:"loginOverlay",render:function(){this.$el.html(loginOverlayTemplates.loginOverlay(this.options));var a=this.$(".button_login");a.tap(this._onLoginClick.hitch(this));return this},_onLoginClick:function(){if(this._inProccess){return}var c=this;c._inProccess=true;var b=function(){c._inProccess=false;c.$el.removeClass("processing")};var a=function(){c._inProccess=false;c.$el.removeClass("processing");c.trigger("loginDone")};this.$el.addClass("processing");ProfileManager.login(a,b,ProfileManager.socialProviderEnum.LINKEDIN)}}); var ShareControlHelper={getShareOptionsForModel:function(b){var a=b.get("shareOptions");if(!a){var c=b.get("shareInfo");if(!c&&b.getShareInfo){c=b.getShareInfo()}if(c){var a={allowEdit:true,shareInfo:c}}}return a},addShareControlButton:function(i,f,a,j){if(!i||i.length===0||!f){return}var c=ShareControlHelper.getShareOptionsForModel(f);if(!c||!c.shareInfo){return}var g=this;if(socialDriver.getSupportedServices(c.shareInfo).length>0){function h(){c=ShareControlHelper.getShareOptionsForModel(f);g._shareOptions=c;g.onShareButtonClick()}if(a){a.tap(h)}else{var b=_T("HtmlTextShareButtonText");if(typeof(c.shareInfo.shareButtonText)!="undefined"){b=c.shareInfo.shareButtonText}var d={text:b,icon:"share"};j=_.extend(d,j);var e=new FlatButtonView(j);e.bind("onButtonClicked",h);a=e.render().$el}i.prepend(a)}},onShareButtonClick:function(){var g={shareType:null,socialId:this._shareOptions.shareInfo.socialId};UsageManager.addEvent(analytics.usageEventTypeEnum.SocialShare,g);if(PLATFORM===platformEnum.nativeApp){var a=this._shareOptions.shareInfo.emailDesc;this._shareOptions.shareInfo.emailDesc=decodeURIComponent(Utils.ShareInfo.getEMailBody(this._shareOptions.shareInfo));navigator.appManager.share(this._shareOptions.shareInfo);this._shareOptions.shareInfo.emailDesc=a}else{var b=socialDriver.getSupportedServices(this._shareOptions.shareInfo);if(b&&b.length>0){var f=[];var d=[_T("DialogCaptionFacebook"),_T("DialogCaptionTwitter"),_T("DialogCaptionEmail")];var e=this;_.each(b,function(h,j){f[j]={title:d[h],returnValue:h}});var c={dialogTitle:_T("DialogCaptionShareControlDialog"),immediate:true};ChooseDialog.execute(f,this.onServiceSelected.hitch(this),null,c)}}},onServiceSelected:function(a){function b(){var c="";switch(parseInt(a)){case socialServicesEnum.Facebook:c=_T("DialogMessageShareFailPostFacebook");break;case socialServicesEnum.Twitter:c=_T("DialogMessageShareFailTweet");break}uiDriver.showToastMessage(null,null,c)}socialDriver.share(null,b,a,this._shareOptions)},showSimulatorMessage:function(){cqm.showToastMessage("Share is not supported in simulator mode.")}}; FlatButtonView=Backbone.View.extend({className:"flat_button clr_contTypeB_actBtn_bg clr_contTypeB_actBtn_brdr clr_contTypeB_actBtn_hdlTxt",attributes:{"data-role":"button"},render:function(){var b=buttonTemplates.button(this.options);this.$el.html(b);if(this.options.dropDown&&this.options.dropDown.length){var d=$(buttonTemplates.dropDown({}));this.$el.append(d);for(var a=0;a<this.options.dropDown.length;a++){var c=buttonTemplates.comboSelectionOption(this.options.dropDown[a]);d.append(c)}d.bind("touchstart mousedown",function(f){f.stopPropagation()});d.change(this.onDropdownChange.hitch(this))}else{this.$el.tap(this.onButtonTap.hitch(this))}if(this.options.big){this.$el.addClass("big fullWidth")}else{if(this.options.floatBtn){this.$el.addClass("float responsive")}else{this.$el.addClass("order responsive")}}return this},onButtonTap:function(a){a.preventDefault();this.trigger("onButtonClicked")},onDropdownChange:function(c){c.preventDefault();var a=null;var b=null;this.$("select option:selected").each(function(){a=$(this).val();b=$(this).attr("-data-newCaption")});this.trigger("onButtonClicked",a);if(b){this.changeCaption(b)}},changeCaption:function(a){this.$(".text").text(a)}}); var buttonTemplates={button:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="icon mask_sprite sprite-'+((__t=(icon))==null?"":__t)+' clr_contTypeB_actBtn_icn" ></div><span class="text">'+((__t=(text))==null?"":__t)+"</span>"}return __p},dropDown:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<select class="drop_down_list"></select>'}return __p},comboSelectionOption:function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<option value="'+((__t=(value))==null?"":__t)+'"';if(typeof(selected)!="undefined"&&selected){__p+=' selected="selected"'}__p+="";if(typeof(newCaption)!="undefined"&&newCaption){__p+=' -data-newCaption="'+((__t=(newCaption))==null?"":__t)+'"'}__p+=">"+((__t=(caption))==null?"":__t)+"</option>"}return __p}}; var ShareIconsView=Backbone.View.extend({className:"share-icons",render:function(){var a=this.model.toJSON();this.$el.html(shareIconsTemplates.iconsTemplate(a));this.$(".twitter").tap(this._twitterClicked.hitch(this));this.$(".facebook").tap(this._facebookClicked.hitch(this));this.$(".myspace").tap(this._myspaceClicked.hitch(this));this.$(".linkedin").tap(this._linkedinClicked.hitch(this));this.$(".link").tap(this._linkClicked.hitch(this));this.$(".info").tap(this._infoClicked.hitch(this));this.$(".email").tap(this._emailClicked.hitch(this));return this},_twitterClicked:function(a){a.preventDefault();appDriver.openLink(null,null,{url:this.model.get("buttons").twitter})},_facebookClicked:function(a){a.preventDefault();appDriver.openLink(null,null,{url:this.model.get("buttons").facebook})},_myspaceClicked:function(a){a.preventDefault();appDriver.openLink(null,null,{url:this.model.get("buttons").mySpace})},_linkedinClicked:function(a){a.preventDefault();appDriver.openLink(null,null,{url:this.model.get("buttons").linkedin})},_linkClicked:function(a){a.preventDefault();appDriver.openLink(null,null,{url:this.model.get("buttons").webSite})},_emailClicked:function(a){a.preventDefault();appDriver.openLink(null,null,{url:"mailto:"+this.model.get("buttons").email})},_infoClicked:function(b){b.preventDefault();var a=this.model.get("info_alias");if(a){UN.navTo(a)}}}); var shareIconsTemplates={};shareIconsTemplates.iconsTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(typeof(buttons)!="undefined"&&buttons){__p+="";if(buttons.twitter){__p+='<div class="twitter icon sprite sprite-aboutus_twitter"></div>'}__p+="";if(buttons.facebook){__p+='<div class="facebook icon sprite sprite-aboutus_facebook"></div>'}__p+="";if(buttons.linkedin){__p+='<div class="linkedin icon sprite sprite-aboutus_linkedin"></div>'}__p+="";if(buttons.webSite){__p+='<div class="link icon sprite sprite-aboutus_link"></div>'}__p+="";if(buttons.mySpace){__p+='<div class="myspace icon sprite sprite-aboutus_myspace"></div>'}__p+="";if(buttons.email){__p+='<div class="email icon sprite sprite-aboutus_email"></div>'}__p+="";if(buttons.info){__p+='<div class="info icon sprite sprite-aboutus_info"></div>'}__p+=""}__p+=""}return __p}; var GenericPageModel=Backbone.Model.extend({defaults:{img:"",title:"",text:"",cbButton:null,buttonTitle:""}}); var ItemNotFoundModel=GenericPageModel.extend({initialize:function(){var e=this.get("title")||_T("HtmlTextItemNotFoundTitle");var d=this.get("subTitle");var c=this.get("text")||_T("HtmlTextItemNotFoundText");var a=this.get("img")||"app/interface/web/img/maze.svg";var b=this.get("buttonTitle")||_T("HtmlTextItemNotFoundBackButtonText");var f=this.get("cbButton")||function(){var g=UN.getCurrentUrl(-2);UN.navTo(g,{level:0,isInner:false})};this.set({title:e,subTitle:d,text:c,img:a,cbButton:f,buttonTitle:b})}}); var GenericPageView=Backbone.View.extend({className:"clr_contTypeB_fullPage3_bg",attributes:{"data-role":"page"},render:function(){this.$el.html(genericPageTemplates.pageTemplate({}));this.$scrollWrapper=this.$(".scroll_wrapper");this.$scroller=this.$(".scroller");var a=new GenericView({model:this.model});this.$scroller.html(a.render().el);Scrolling.init(this.$scrollWrapper);return this},addRefreshButton:function(a){this.$el.attr({"data-buttons":"refresh"});this.$el.bind("refresh",this.handleRefreshClick.hitch(this));this.$el.bind("silentRefresh",this.handleSilentRefresh.hitch(this));this.itemsView=a},handleRefreshClick:function(){if(this.itemsView){this.itemsView.handleRefreshClick()}},handleSilentRefresh:function(){if(this.itemsView){this.itemsView.handleSilentRefresh()}},addTabsView:function(a){this.$scroller.prepend(a)}}); var GenericView=Backbone.View.extend({className:"genericPage",render:function(){var c=this.model.get("img");var f=this.model.get("cbButton");var b=this.model.get("buttonClass");var e={img:c,title:Utils.String.translateIfNeed(this.model.get("title")),subTitle:Utils.String.translateIfNeed(this.model.get("subTitle")),text:Utils.String.translateIfNeed(this.model.get("text")),buttonTitle:Utils.String.translateIfNeed(this.model.get("buttonTitle")),buttonClass:b,cbButton:f};this.$el.html(genericPageTemplates.genericViewTemplate(e));if(c){var d=this.$(".iconGeneric");var a="clr_contTypeB_subSvg";Utils.Html.appendLayeredImage(d,c,a)}if(f){b="."+(b||"buttonGeneric");this.$(b).tap(function(g){g.preventDefault();f()})}return this}}); var EmptyPageView=Backbone.View.extend({className:"clr_contTypeA_classicItem_bg",attributes:{"data-role":"page"},render:function(){this.$el.html(genericPageTemplates.pageTemplate());Scrolling.init(this.$(".scroll_wrapper"));return this}}); var genericPageTemplates={};genericPageTemplates.genericViewTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";if(img){__p+='<div class="iconGeneric"></div>'}__p+='<div class="size_title_3 clr_contTypeB_hdlTxt textGeneric">'+((__t=(title))==null?"":__t)+"</div>";if(subTitle){__p+='<div class="size_title_1 clr_contTypeB_hdlTxt textGeneric">'+((__t=(subTitle))==null?"":__t)+"</div>"}__p+='<div class="size_0 clr_contTypeB_subTxt textGeneric">'+((__t=(text))==null?"":__t)+"</div>";if(buttonTitle||buttonClass){__p+='<a class="'+((__t=(buttonClass||"buttonGeneric clr_contTypeB_btn_bg clr_contTypeB_btn_brdr clr_contTypeB_btn_hdlTxt"))==null?"":__t)+'" data-role="button" >'+((__t=(buttonTitle))==null?"":__t)+"</a>"}__p+=""}return __p};genericPageTemplates.pageTemplate=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+='<div class="scroll_wrapper"><div class="scroller"></div></div>'}return __p}; var WebModuleView=Backbone.View.extend({className:"clr_contTypeB_bg",attributes:{"data-role":"page"},attributes:{"data-role":"page","data-buttons":"navigation"},showStaticText:function(b){var a={text:b};this.$el.html(webModuleTemplates.pageStaticTemplate(a));var c=this.$(".scroll_wrapper");if(c.length>0){Scrolling.init(c)}},showLinkAsIframe:function(){var a={link:this.model.get("link")};this.$el.html(webModuleTemplates.pageIframeTemplate(a));this.$el.css({height:"100%"})},render:function(){var a=null;if(PLATFORM===platformEnum.webApp&&this.model.get("staticMessage")){a=Utils.String.translateIfNeed(this.model.get("staticMessage"))}else{if(PLATFORM===platformEnum.simulator&&this.model.get("staticMessageCP")){a=Utils.String.translateIfNeed(this.model.get("staticMessageCP"))}}if(a){this.showStaticText(a)}else{this.showLinkAsIframe()}return this},addTabsView:function(a){this.$el.find(".scroller").prepend(a)}}); var colorTypes={state:{DEFAULT:"default",SELECTED:"selected",CLICK:"clicked",DISABLED:"disabled",MANDATORY:"mandatory",PLACEHOLDER:"watermark",PLACEHOLDER_MANDATORY:"mandWatermark"},colorType:{BACKGROUND:"background",ICON:"icon",SERVER_ICON:"server_icon",TEXT:"text",BORDER:"border",SVG:"svg"},gradientOrientation:{VERTICAL:"vertical",HORIZONTAL:"horizontal",RADIAL:"radial",DIAGONAL_TL_BR:"diagonal",DIAGONAL_BL_TR:"diagonal2"},backgroundType:{SOLID:"solid",GRADIENT:"gradient"}}; var LayoutApplier=(function(){var g={};g.colorThemeCSS={};function i(o){var n="";if($.support.opacity){if(o.a){n="background-color:rgba("+o.r+","+o.g+","+o.b+","+o.a+");"}else{n="background-color:rgb("+o.r+","+o.g+","+o.b+");"}}else{var p="#"+Utils.Colors.colorToHex(o,true);n='background: transparent; -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='+p+",endColorstr="+p+')"; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='+p+",endColorstr="+p+"); zoom: 1;"}return n}function c(o,p){var n="";var z=[];var w;for(w=0;w<o.length;w++){var r=o[w];var v=j(r.color)+" "+parseInt(r.location*100)+"% ";z.push(v)}var t=z.join(",");var x=o[0].color;var q=o[o.length-1].color;var u=j(x);var s=j(q);if(p===colorTypes.gradientOrientation.HORIZONTAL){var y='-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+')";filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+"); zoom: 1;background-image: -webkit-gradient(linear, left top, right top, from("+u+"), to("+s+"));background-image: -webkit-linear-gradient(left, "+t+");background-image:    -moz-linear-gradient(left, "+t+");background-image:     -ms-linear-gradient(left, "+t+");background-image:      -o-linear-gradient(left, "+t+");background-image:         linear-gradient(left, "+t+");"}else{if(p===colorTypes.gradientOrientation.DIAGONAL_TL_BR){var y='-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+')";filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+"); zoom: 1;background-image: -webkit-gradient(linear, left top, right bottom, from("+u+"), to("+s+"));background-image: -webkit-linear-gradient(-45deg, "+t+");background-image:    -moz-linear-gradient(-45deg, "+t+");background-image:     -ms-linear-gradient(-45deg, "+t+");background-image:      -o-linear-gradient(-45deg, "+t+");background-image:         linear-gradient(-45deg, "+t+");"}else{if(p===colorTypes.gradientOrientation.DIAGONAL_BL_TR){var y='-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+')";filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+"); zoom: 1;background-image: -webkit-gradient(linear, left bottom, right top, from("+u+"), to("+s+"));background-image: -webkit-linear-gradient(45deg, "+t+");background-image:    -moz-linear-gradient(45deg, "+t+");background-image:     -ms-linear-gradient(45deg, "+t+");background-image:      -o-linear-gradient(45deg, "+t+");background-image:         linear-gradient(45deg, "+t+");"}else{if(p===colorTypes.gradientOrientation.RADIAL){var y='-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+')";filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+"); zoom: 1;background-image: -webkit-gradient(radial, center center, from("+u+"), to("+s+"));background-image: -webkit-radial-gradient(center, ellipse cover, "+t+");background-image:    -moz-radial-gradient(center, ellipse cover, "+t+");background-image:     -ms-radial-gradient(center, ellipse cover, "+t+");background-image:      -o-radial-gradient(center, ellipse cover, "+t+");background-image:         radial-gradient(center, ellipse cover, "+t+");"}else{var y='-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+')";filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='+x+",endColorstr="+q+"); zoom: 1;background-image: -webkit-gradient(linear, left top, left bottom, from("+u+"), to("+s+"));background-image: -webkit-linear-gradient(top, "+t+");background-image:    -moz-linear-gradient(top, "+t+");background-image:     -ms-linear-gradient(top, "+t+");background-image:      -o-linear-gradient(top, "+t+");background-image:         linear-gradient(top, "+t+");"}}}}return y}function j(n){var o=Utils.Colors.hexToColor(n);if($.support.opacity){if(!o){return"rgba(0,0,0,1)"}return"rgba("+o.r+","+o.g+","+o.b+","+(o.a||"1.0")+")"}else{if(!o){return"rgb(0,0,0)"}return"rgb("+o.r+","+o.g+","+o.b+")"}}function m(s){if(!s.color){return""}var p=j(s.color);var n=s.x||"";var r=s.y||"";var q=s.blur||"";var o=n+" "+r+" "+q+" "+p;if(s.isInset){o="inset "+o}return o}function f(r){if(!r.color){return""}var o=j(r.color);var n=r.x||"";var q=r.y||"";var p=r.blur||"";return n+" "+q+" "+p+" "+o}function d(s){var n="";if(s&&s.type&&s.color){var q=s.color;var p=s.type;if(p===colorTypes.backgroundType.GRADIENT){n=c(q,s.orientation)}else{if(p===colorTypes.backgroundType.SOLID){var t=Utils.Colors.hexToColor(q);n=i(t)}}if(s.shadow){var o="";if(s.shadow.length>0){for(var r=0;r<s.shadow.length-1;r++){o=o+m(s.shadow[r])+","}o=o+m(s.shadow[r])}else{o=m(s.shadow)}if(o){o=o+";";n+="box-shadow:"+o;n+="-webkit-box-shadow:"+o;n+="-moz-box-shadow:"+o}}if(s.image){n+='background-image:url("'+s.image.url+'");';if(s.image.position){n+="background-position:"+s.image.position+";"}if(s.image.size){n+="background-size:"+s.image.size+";"}if(s.image.repeat){n+="background-repeat:"+s.image.repeat+";"}}}return n}function k(r){var o="";if(r&&r.color){var p=r.color;o="color:"+j(p)+";";if(r.shadow){var n="";if(r.shadow.length>0){for(var q=0;q<r.shadow.length-1;q++){n=n+f(r.shadow[q])+","}n=n+f(r.shadow[q])}else{n=f(r.shadow)}o+="text-shadow:"+n+";"}}return o}function h(o){var n="";_.each(o,function(t,q){var s=t.width||"1px";var r=t.style||"solid";var p=j(t.color);if(q==="ltrLeft"){if(IS_RTL){q="right"}else{q="left"}}if(q==="ltrRight"){if(IS_RTL){q="left"}else{q="right"}}n+="border-"+q+"-width:"+s+";";n+="border-"+q+"-style:"+r+";";n+="border-"+q+"-color:"+p+";"});return n}function b(q){var n="";if(!(q&&q.type&&q.color)){return n}var p=q.color;var o=q.type;if(o===colorTypes.backgroundType.SOLID){var r=Utils.Colors.hexToColor(p);n="fill:rgba("+r.r+","+r.g+","+r.b+","+r.a+");"}return n}function l(p,o,q,s){var n={};var r=(p.type===colorTypes.backgroundType.SOLID)&&(q!==".clr_contTypeA_btn_icn");_.each(s,function(x){var z=x.cssPrefix||"";var t=x.cssSuffix||"";if(o===colorTypes.colorType.BACKGROUND){n[z+q+t]=d(p)}else{if(o===colorTypes.colorType.ICON){var u="";if((r&&DeviceSupport.isSimpleMaskSupported)||DeviceSupport.isMaskSupported){u=d(p)}else{u="background-image: url(app/interface/web/img/";if(window.devicePixelRatio>=2){u+="@2/"}else{if(window.devicePixelRatio>=1.5){u+="@2/"}else{u+="@1/"}}if(layoutEngine.colorHelper.isDark(p.color)){u+="blackSprite.png);"}else{u+="whiteSprite.png);"}}n[z+q+t]=u}else{if(o===colorTypes.colorType.SVG){n[z+q+t]=b(p);n[z+q+t+"_fallback"]=d(p);n[z+q+t+"_fallback_text"]=k(p)}else{if(o===colorTypes.colorType.SERVER_ICON){var w="display: none !important;";var v="display: none !important;";var y="display: none !important;";if((r&&DeviceSupport.isSimpleMaskSupported)||DeviceSupport.isMaskSupported){w=d(p)}else{if(layoutEngine.colorHelper.isDark(p.color)){v=""}else{y=""}}n[z+q+"_mask_icon"+t]=w;n[z+q+"_black_icon"+t]=v;n[z+q+"_white_icon"+t]=y}else{if(o===colorTypes.colorType.TEXT){n[z+q+t]=k(p)}else{if(o===colorTypes.colorType.BORDER){n[z+q+t]=h(p)}}}}}}});return n}function a(o){if(PLATFORM===platformEnum.webApp&&ScrollingFactory.getScrollerName()===ScrollingFactory.FIXED_SCROLL_NAME){if(o&&o.appGeneral&&o.appGeneral.footer&&o.appGeneral.footer.bg&&o.appGeneral.footer.bg.data&&o.appGeneral.footer.bg.data["default"]&&o.appGeneral.footer.bg.data["default"].color){var n=o.appGeneral.footer.bg.data["default"];var p=n.color;n.color="#FF"+p.substr(3,6)}}}function e(p,o,n){_.each(n,function(q,s){var r=o+"_"+s;if(q.type){_.each(q.data,function(v,u){if(u===colorTypes.state.DEFAULT){var w=[{}]}else{if(u===colorTypes.state.SELECTED){var w=[{cssPrefix:".selected"}]}else{if(u===colorTypes.state.DISABLED){var w=[{cssPrefix:".disabled"}]}else{if(u===colorTypes.state.CLICK){var w=[{cssPrefix:".ui-btn-hover"}]}else{if(u===colorTypes.state.MANDATORY){var w=[{cssPrefix:".mandatory"}]}else{if(u===colorTypes.state.PLACEHOLDER){var w=[{cssSuffix:" .watermark"},{cssSuffix:"::-webkit-input-placeholder"},{cssSuffix:":-moz-placeholder"}]}else{if(u===colorTypes.state.PLACEHOLDER_MANDATORY){var w=[{cssPrefix:".mandatory",cssSuffix:" .watermark"},{cssPrefix:".mandatory",cssSuffix:"::-webkit-input-placeholder"},{cssPrefix:".mandatory",cssSuffix:":-moz-placeholder"}]}else{return}}}}}}}var t=l(v,q.type,r,w);_.extend(p,t)})}else{e(p,r,q)}})}g.generateColorTheme=function(r){var p=r.get("appLayout");var o=p.get("backgroundImage");var n=p.get("colors");a(n);var q={};if(DEVICE!=deviceTypeEnum.android||PLATFORM!=platformEnum.nativeApp){q[".theme_background_image"]="background-image:url("+o+");background-color:white"}e(q,".clr",n);return q};g.apply=function(o){var n=g.generateColorTheme(o);if(n){g.colorThemeCSS=Utils.Helpers.deepClone(true,{},n);for(colorIndex in n){n[colorIndex]="{ "+n[colorIndex]+" }"}if(DeviceSupport.isMaskSupported){n[".mask_sprite"]="{ background-position: 0 0 !important; }"}Utils.Html.addCssStyle(n,document,"themeColors")}};return g})(); var Device=(function(){var a={};a.init=function(){};return a}()); var TestAmsData={addTestData:function(a){this.overrideNavigationLayout(a.layout,a);this.addTestTemplates(a.pages);this.addTestSettings(a.settings);this.overrideColorsLayout(a.layout);this.overrideHeaderData(a.meta.header);this.addGeneralTests(a);this.overrideServices(a)},overrideServices:function(e){if(false){var d=["CMS_TWITTER_QUERY_GET","CMS_TWITTER_USER_GET"];for(var b=0;b<d.length;b++){var a=d[b];var c=_.find(e.settings.overrideServices,function(f){return f.key===a});if(!c){c={key:a,params:{},version:null};e.settings.overrideServices.push(c)}c.version=1}}},overrideNavigationLayout:function(g,f){var l=false;if(l){var k={type:"685f6141-e72b-4bf8-91aa-51ac6cbea288",minVersion:"4.1.0.0",id:"4EF730F0-922B-11E3-8C4C-27DD6188709B",meta:{layout:{loop:false,type:1},images:[{title:"big image",time:3334445556,imageUrl:"http://lh5.ggpht.com/-KBEm7DHMZHU/UYUedHX-93I/AAAAAAAAA-8/CioyLNinKSo/s9000/Cool%2BCars%2BWallpapers%2B%2525287%252529.jpg"},{title:"white car",time:33445566778,imageUrl:"1https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSK8WeXAKnVm5wWFL7xrfYlq7_INnwgxDnsR6NACWkRZ49G3Uqljg"},{title:"red car",time:3344556677,imageUrl:"http://images2.fanpop.com/image/photos/13800000/farrari-sports-cars-13821367-500-375.jpg"},{time:3232323232,imageUrl:"http://i.telegraph.co.uk/multimedia/archive/02441/Alfa-4C_2441766k.jpg"},{imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSF-ckpGwm3q7be_quPfZCeLA0i9EjmOY7-omAA8NRj1lFjog68"},{title:"future car",imageUrl:"http://www.cgtrader.com/blog/wp-content/uploads/2013/07/Mac-Apple-Auto-Desktop-Car-of-the-Future.jpg"}]}};var j={type:"future",minVersion:"4.1.0.0",id:"55555555-922B-11E3-8C4C-27DD6188709B",meta:{laserPower:500,useTimeMachine:true,teleportSpeed:999999999}};var b={type:"685f6141-e72b-4bf8-91aa-51ac6cbea288",minVersion:"999.999.999.999",id:"88888888-922B-11E3-8C4C-27DD6188709B",meta:{images:[]}};f.modules=[k,j,b];var i={id:2,reference:{h:480,w:320},title:"2 columns",scroll:gridScrollTypes.vertical,columns:2,elements:{icon:{box:{top:33,left:5,w:135,h:38,radius:7}},text:{font:{lineHeight:18,size:14},box:{top:80,left:5,w:135,h:32,radius:3}}},margins:{rows:10,cols:10,top:10,bottom:10,left:10,right:10},size:{h:145,w:145,radius:22}};var h={id:3,reference:{h:480,w:320},title:"3 columns",scroll:gridScrollTypes.vertical,columns:3,elements:{icon:{box:{top:19,left:5,w:84,h:34}},text:{font:{lineHeight:12,size:12},box:{top:61,left:5,w:84,h:22}}},margins:{rows:9,cols:9,top:10,bottom:10,left:10,right:10},size:{h:94,w:94}};var e={id:4,reference:{h:217,w:320},title:"2 rows",scroll:gridScrollTypes.horizontal,rows:2,elements:{icon:{box:{top:19,left:5,w:84,h:34}},text:{font:{lineHeight:12,size:12},box:{top:61,left:5,w:84,h:22}}},margins:{rows:9,cols:9,top:10,bottom:10,left:10,right:10},size:{h:94,w:94}};var d={id:5,reference:{h:114,w:500},title:"1 row",scroll:gridScrollTypes.horizontal,rows:1,elements:{icon:{box:{top:19,left:5,w:84,h:34}},text:{font:{lineHeight:12,size:12},box:{top:61,left:5,w:84,h:22}}},margins:{rows:9,cols:9,top:10,bottom:10,left:10,right:10},size:{h:94,w:94}};var a={id:6,reference:{h:480,w:320},title:"list = 1 column",scroll:gridScrollTypes.vertical,columns:1,elements:{icon:{box:{top:10,left:10,w:40,h:40}},text:{align:"left",font:{lineHeight:40,size:20},box:{top:10,left:60,w:230,h:40}}},margins:{rows:10,cols:10,top:10,bottom:10,left:10,right:10},size:{h:60,w:300}};var c={noModule:false,moduleHeight:200,moduleMinHeight:200,preset:a};var m={noModule:false,moduleHeight:100,preset:h};g.navigation={type:navigationLayoutTypes.dynamicGrid,meta:{moduleId:k.id,portrait:c,landscape:m},buttonIcon:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS8PhIe6_IkdkiWljxzpYv0Tf2bpDHHwtZyRegofgOllZ22cZfxVQ"}}},addGeneralTests:function(b){var a=false;if(a){b.social={facebook:{appId:"278356942286793"}};b.social.twitter={appAccessToken:"AAAAAAAAAAAAAAAAAAAAAMF2EAAAAAAAkZ9X1SDa6vqTlQJTwY7g%2Fl1eo2Y%3DKE1X5rE9QTxjR1iobyZ1fxvmW8rGzraY0zosJDapPS4"}}},overrideHeaderData:function(b){var a=false;if(a){b.content="NBA Title";b.imageUrl="http://communabuilder.tapuz.co.il/UsersFolders/garame/images/2103200676258.jpg";b.type=2}},addTestTemplates:function(y){var K=false;if(K){var L={channels:[{id:"3d5038bb-376d-86d5-3c3f-3cf017253109",title:"rihanna feed",postsSource:"feed",user:"rihanna"},{id:"332f06ac-9702-4dcc-45f5-bbc6df3f8a69",title:"NBA posts",postsSource:"posts",user:"nba"},{id:"31842c61-d769-8d3f-8466-d4aa2581f0cd",title:"cocacola feed",postsSource:"feed",user:"cocacola"},{id:"c2889774-92c1-0811-9524-83fccbc972fd",title:"cocacola posts",postsSource:"posts",user:"cocacola"},{id:"a65cdd08-a222-b289-9fad-57346968ca98",title:"ABC",user:"abcnews"},{errPageView:"invalid",id:"a65cdd08-a222-b289-9fad-57346968ca98",title:"NFL",user:""}]};var at={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"086b4be8-f548-5577-d8b9-6bb47040146f",label:"TEST",meta:L,minVersion:"0.0.0.0",type:"df7d11f3-233c-4d49-8f2a-d1886e07c641",version:null};y.push(at)}var W=false;if(W){var X={type:"a95e67d5-4816-11c2-318d-fe64a33e32d2",label:"USERS LIST",minVersion:"3.2.0.4",version:"100.0.0.0",icon:"http://images.mobile.site-services.com/icon/5",id:"83d40af6-7a4c-1c01-f3a5-8631ec1f1cf2",meta:{items:[{title:"tab1",id:"",params:{provider:"conduit",groupId:"9bd5bdde-83fa-4236-9d5e-7c10fda796fc",extraInfo:{order:{field:"name",order:1}}}}]}};y.push(X)}var aC=false;if(aC){var aE={type:"a8c1cd8e-7e55-828d-3bd2-fb2122472fa3",label:"Inbox",minVersion:"3.2.0.4",version:"100.0.0.0",icon:"http://images.mobile.site-services.com/icon/6",id:"83d40af6-7a4c-1c01-f3a5-8631ec1f1cf2",meta:{}};y.push(aE)}var ar=false;if(ar){var F={type:"fe6a4b7d-cf62-172e-8eba-a231dd39eb20",label:"My Profile",minVersion:"3.2.0.4",version:"100.0.0.0",icon:"http://images.mobile.site-services.com/icon/6",id:"83d40af6-7a4c-1c01-f3a5-8631ec1f1cf1",meta:{items:[{title:"",id:"aaaaaaf6-7a4c-1c01-f3a5-8631ec1f1cf2",params:{extraInfo:{}}}]}};y.push(F)}var aG=false;if(aG){var aG={displayDevices:511,icon:"http://images.mobile.site-services.com/icon/82",id:"877a15db-d18a-2d19-7b9d-57eea6e39401",isDeleted:false,label:"Menu",meta:{pageLayout:-1,items:[{params:{provider:"singleplatform",restid:"ototo-sushi"},type:"singleplatform",location:{address:"7 Boston St",city:"Seattle",postcode:"98109",country:"US"},id:"5337e48b-11ce-802d-6d54-317f189d2800",title:"Ototo Sushi",imageUrl:"http://blog.conduit.com/wp-content/uploads/2012/10/Final-Image.jpg"},{params:{provider:"singleplatform",restid:"1-of-a-kind-bbq"},type:"singleplatform",location:{address:"3325 E Sharon Rd Dadada str post post prod",city:"Cincinnati",postcode:"98109",country:"US"},id:"4337e48b-11ce-802d-6d54-317f189d2800",title:"1-of-a-kind-bbq"}]},subType:"00000000-0000-0000-0000-000000000000",type:"8901e95e-4dc9-411f-835a-0f18a7872122"};y.push(aG)}var Y=false;if(TEST_LOYALTY){Y=true}if(Y){var Y={minVersion:"3.0.0.0",displayDevices:511,type:"0255eb38-1fb5-4b65-abee-b6fdb69c8f07",label:"Coupons test",isDeleted:false,icon:"http://images.mobile.site-services.com/icon/86",id:"6f4cf51e-9b47-41a2-bf8d-d9eceb5b241c",meta:{pageLayout:-1,items:[{params:{listId:"0b93d2e1-bfa1-40a0-a43e-209e1d194d72",type:"contenthost"}}]}};y.splice(0,0,Y)}var O=false;if(O){var aA={type:"e9773a60-828f-6a16-a1fb-770163905537",label:"POLL TEST!",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/5",id:"b42799b1-bdec-aa36-9ea8-416daa2a4717",meta:{items:[{title:"tab1",id:"e6f02f39-d04d-5fd1-7afa-c972d79680ce",params:{type:"custom",pollId:"FC71DCF6-9A7D-4274-B51B-CEDA81188B5D"}}]}};y.push(aA)}var av=false;if(av){var F={type:"fe6a4b7d-cf62-172e-8eba-a231dd39eb20",displayDevices:0,id:"c545de00-a684-4720-bb7a-acb8e7eef5d7",label:"myProfile",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/85",meta:{pageLayout:-1}};y.push(F)}var C=false;if(C){var aM={type:"38ab2b78-a1ad-42f8-8cb7-9475498c0f30",displayDevices:0,id:"c545de00-a684-4720-bb7a-acb8e7eef5da",label:"Report",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/85",meta:{pageLayout:-1,items:[{reportId:"c66f7a89-ee65-4694-9c37-d926506c622d",reportVersion:"1",name:"Tomer's",desc:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",logoImgUrl:"http://fc00.deviantart.net/fs71/f/2012/346/b/0/b04e71f9e9ca95220dc7324357854112-d5nsqq6.jpg",sendButton:{caption:"Submit"},controls:[{caption:"test ",type:"combobox",id:"option",multiple:true,default_value:null,isMandatory:true,items:[{caption:"Vanilla",value:"Vanilla"},{caption:"Chocolate",value:"Chocolate"},{caption:"Herring",value:"Herring"},{caption:"Strawberry",value:"Strawberry"},{label:"test 3",optgroup:[{caption:"test1",value:"test1"},{caption:"test2",value:"test2"}]},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"},{caption:"Herring",value:"Herring"}]},{caption:"Select a gender:",isMandatory:true,isActive:true,type:"combobox",id:"gender",items:[{caption:"Male",value:"male"},{caption:"Female",value:"female"},{caption:"{$CollectionsSearchNoItemsFound}",value:"a"}]},{caption:"Name & Last name",type:"inputtext",id:"name",isMandatory:true},{caption:"Report details",type:"textarea",id:"details",isMandatory:false,isActive:null},{caption:"Do you agree?",type:"radio",id:"agree",items:[{value:"yes",caption:"Yes"},{value:"no",caption:"No"}],selected:"Yes",isMandatory:true,isActive:true,value:"yes"},{caption:"Email",type:"inputtext",id:"email",isMandatory:true,isActive:true,subType:"email"},{caption:"Checkbox bla bla bla Checkbox bla bla bla Checkbox bla bla bla Checkbox bla bla bla Checkbox bla bla bla Checkbox bla bla bla Checkbox bla bla bla ",type:"checkbox",id:"checkbox",isMandatory:true,isActive:true},{caption:"Location",type:"location",id:"location2",isMandatory:false,isActive:true},{caption:"Select a date:",type:"date",id:"date",default_value:1365206400,isMandatory:true,isActive:true},{caption:"Ice-cream (Radio group)",type:"radio",id:"radio1",isActive:true,default_value:"radioOption3",items:[{caption:"Vanilla",value:"radioOption1"},{caption:"Chocolate",value:"radioOption2"},{caption:"Herring",value:"radioOption3"},{caption:"Strawberry",value:"radioOption4"}]},{caption:"Country ",type:"combobox",isMandatory:true,isActive:true,subType:"country",id:"combo2",items:null},{caption:"State ",isMandatory:true,isActive:true,type:"combobox",subType:"state",id:"combo3",items:null},{caption:"First name (Text)",type:"inputtext",id:"input1",isMandatory:true},{caption:"Phone number ",isActive:true,type:"inputtext",id:"inputTel1",subType:"tel",isMandatory:true},{caption:"Email ",isActive:false,type:"inputtext",subType:"email",id:"inputEmail",isMandatory:true,placeholder:"your@email.com"}]}]}};y.splice(2,0,aM)}var d=false;if(d){var M={type:"0311d37d-6d9f-fc9d-35fd-45b471d2382f",label:"TEST TEST",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/5",id:"d1f16b9a-2e85-b96a-3422-1b34a58e3952",meta:{header:{title:"This is the title for all the quizzes",descr:"This is the description for all the quizzes. Maybe it will be a very long text. Maybe not. Who can know? Maybe number 1. -Who? Me? - Yes you. - What suddenly? But who?",imageUrl:"http://images.all-free-download.com/images/graphiclarge/cars_pixar_8_95489.jpg"},items:[{title:"quiz 1 (Clclst)",imageUrl:"http://groworganic.info/wordpress/gallery/wp-icons/bull.png",id:"808d8a45-2afe-305b-0cb5-1112ea9c267f",params:{type:"custom",pollId:"FC71DCF6-9A7D-4274-B51B-CEDA81188B5D"}},{title:"quiz 2",imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSVGQDrAfUwI1uUq8tLR3QRe-XOifbBX94zxQCszy7ilD20xVvgYQ",id:"808d8a45-2afe-305b-0cb5-1112ea9c2222",grades:[{value:0,text:"0 or 1",imageUrl:"http://t3.gstatic.com/images?q=tbn:ANd9GcT5c2t0fIQzs4aCNYrVpw8APoPrT7XrgYTOP09JKrw1nI2pZM7iEw"},{value:2,text:"2 +",imageUrl:"http://t0.gstatic.com/images?q=tbn:ANd9GcRlt9kAnvxdUONAQj6LDcI9tR7GyxMNOUjkHioE5aCB-q4_b-Gh3Q"}],params:{type:"custom",pollId:"87BF43E6-D7E2-4838-9F09-38CCC9FD77EB"}},{title:"",imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT72rpCVXG12r5zVKmxihIkkm7z3Eiq2g31LFuHo7owGB4QCTqn2g",id:"808d8a45-2afe-305b-0cb5-1112ea9c2333",params:{type:"custom",pollId:"87BF43E6-D7E2-4838-9F09-38CCC9FD77EB"}},{title:"quiz 4 (Maor)",imageUrl:"http://images.all-free-download.com/images/graphiclarge/cars_pixar_8_95489.jpg",id:"3a67638a-745c-8ea3-5271-8d6f9dd5b204",gameEnd:"end of questions",grades:[{value:0,text:"U R 0",imageUrl:""},{value:1,text:"Very Bad!"},{value:5,text:"Not so Bad"},{value:7,text:"Good!"},{value:10,text:"PERFECT!"}],params:{type:"custom",pollId:"87BF43E6-D7E2-4838-9F09-38CCC9FD77EB"}}]}};y.push(M)}var aB=false;if(aB){var aF={type:"f61f12d6-df0c-465c-b3ba-70fb8f3894a4",label:"AGENDA TEST!",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/5",id:"5e5e531f-d48b-374f-ae22-7b6637ea9778",meta:{items:[{title:"tab1",id:"f4b01aca-be51-e5a2-a129-8ef5a7143b0f",params:{type:"custom",id:"BC45E512-F9FF-4F6F-8E5E-279A9BFF0DB6",ranges:""}}]}};y.push(aF)}var N=false;if(N){var V={type:"ff4532d2-9137-8da2-f97f-be8b3ddd08e4",label:"SPEAKERS TEST!",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/5",id:"c8c3d697-c036-df3c-a3a7-11855acf1968",meta:{items:[{title:"tab1",id:"f4b01aca-be51-e5a2-a129-8ef5a7143b0f",params:{type:"custom",id:"BC45E512-F9FF-4F6F-8E5E-279A9BFF0DB6",ranges:""}}]}};y.push(V)}var ak=false;if(ak){var u={type:"e0adcb11-f7bb-8107-1cd0-77690221f31c",label:"Instagram",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/5",id:"6f4cf51e-9b47-41a2-bf8d-d9eceb5b241a",meta:{items:[{title:"tab1",id:"067e6521-2878-a7d3-5fdd-b66596503691",type:"instagram",userName:"189817868"},{title:"tab2",id:"71d2eddb-310b-c0cc-b970-d3ab3e5f3c2f",type:"instagram",userName:"1574083"}]}};y.push(u)}var aw=!true;if(aw){var a={type:"e0adcb11-f7bb-8107-1cd0-77690221f31c",label:"Ins2",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.site-services.com/icon/1",id:"d1be774c-4873-044d-ecb2-ae0c67f3bec6",meta:{items:[{title:"tab1",id:"d003570b-6191-9c26-af02-b32b87453ff6",type:"instagram",userName:"189817868"}]}};y.push(a)}var i=!false;if(i){var p={items:[{logoImgUrl:null,hideHeader:true,id:"b3f782c1-ca7e-f2ae-8ab5-7997bc603738",title:"mrss",params:{id:"ddd0fce3-6eba-f062-7e53-fd803e46effb",url:"http://rss.moddb.com/audio/feed/rss.xml",icon:"/Images/Providers/Audio/small_icon_1.png",type:1,params:{expiration:0,sort:{}}}},{id:"7962c5ff-a38f-a6f2-9065-7fd67cd1853e",title:"play list",params:{id:"b8cad3a2-cd9c-9547-47cb-a642f90a9124",url:"http://media.mobile.site-services.com/Services/Rss/Radio/330ae4f9-7018-44d7-abb3-d841a08d06ec",icon:"/Images/Providers/Audio/small_icon_2.png",type:2,params:{}}},{id:"7b2871c5-8f26-90fe-45df-52f3e24583d3",title:"bad camp",params:{id:"e0eceb62-83a1-9631-a75a-f7244b04ecd1",url:"http://cms.mobile.site-services.com/bandcamp/audio?album=321711561",icon:"/Images/Providers/Audio/small_icon_4.png",type:4,bandCamp:{albumId:321711561,artistId:3463798201,hint:{art:"http://f0.bcbits.com/z/17/26/172695457-1.jpg",title:"Who Killed Amanda Palmer [Alternate Tracks]"}},params:{}}}]};var aj={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"2acbb41d-2379-0e60-1c46-95c931eb234d",label:"Audio TEST",meta:p,minVersion:"0.0.0.0",type:"30be1358-8b36-4d22-b6d2-50c38f4246c4",version:null};y.push(aj)}var T=false;if(T){var az={items:[{title:"buzzer",params:{url:"http://www.conduit.com/Images/Mobile/LeumiBuzzer/LeumiBuzzer.xml",type:2,params:{}}},{title:"youtube",params:{url:"http://gdata.youtube.com/feeds/api/users/nba/uploads?v=2&orderby=published",type:2,params:{}}},{title:"fora.tv",params:{url:"http://fora.tv/media/rss/podcasts/wfc_video.xml",type:2,params:{}}}]};var H={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"b3ae29df-c4ea-f835-a739-def7b8c51c71",label:"Video",meta:az,minVersion:"0.0.0.0",type:"4680c3f3-e767-4ebf-b112-9ba769c3ff2a",version:"99999.0.0"};y.push(H)}var j=false;if(j){var ao={blogTitle:"take ranch",token:"123",buttons:[{type:"linkedin",url:"http://in.linkedin.com/in/nbainstitutions"},{type:"facebook",url:"http://www.facebook.com/nba"},{type:"twitter",url:"http://www.twitter.com/nba"}]};var ac={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"695dbae0-56b9-6cc3-9451-83bcbdc6593c",label:"Subscribe!",meta:ao,minVersion:"0.0.0.0",type:"c6bb3e68-0ea7-43dc-a358-b40d9b75d224",version:"99999.0.0.0"};y.push(ac)}var e=false;if(e){var aL={items:[{email:"Matanya@conduit.com"}]};var aQ={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"44f6a555-dd49-d351-77a5-e41635408c41",label:"Mail Us!",meta:aL,minVersion:"0.0.0.0",type:"ec79d314-f6aa-f396-a651-3f9b3344dd99",version:"9999.0.0.0"};y.push(aQ)}var aa=false;if(aa){var k={items:[{phone:"97289461713"}]};var Q={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"c0a74c53-c8a8-5456-37c6-11b1daa0ecce",label:"Call Us!",meta:k,minVersion:"0.0.0.0",type:"308af5fa-e91b-d7e7-1926-acfea8f266dc",version:"9999.0.0.0"};y.push(Q)}var ae=!false;if(ae){var s={items:[{imgUrl:"http://www.godwinprop.co.za/images/dolphin_coast_wide.jpg",name:"Techcrunch",title:"Tech blog",description:"An antioxidant is a molecule that inhibits the oxidation of other molecules.\n Oxidation is a chemical reaction that transfers electrons or hydrogen from a substance to an oxidizing agent. Oxidation reactions can produce free radicals. In turn, these radicals can start chain reactions. When the chain reaction occurs in a cell, it can cause damage or death to the cell. Antioxidants terminate these chain reactions by removing free radical intermediates, and inhibit other oxidation reactions. They do this by being oxidized themselves, so antioxidants are often reducing agents such as thiols, ascorbic acid, or polyphenols.\nAntioxidants are important additives in gasoline. These antioxidants prevent the formation of gums that interfere with the operation of internal combustion engines.",about:"RKO Pictures is an American film production and distribution company (http://www.nba.com, www.pixar.com, nba.com). It was one of the Big Five studios of Hollywood's Golden Age.",list:[{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Album.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Album.png",title:"Title",dataType:"html",data:{html:"This is the <i>HTML</i> description. maybe cantains long words like 0000111122223333444455556666777788889999 and/or long text. <br> Enjoy."}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Product.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Product.png",title:"{$HtmlTextAboutUsItemTitleFoodStyle}",dataType:"html",data:{html:"<b>Italian</b> - Yam.<br><b>Japanese</b> - Yack."}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Scroll.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Scroll.png",title:"Too long title 1234567890!",dataType:"list",data:{list:["list item 1","list item 2","rubber duck","list item 4"]}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Scroll.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Scroll.png",title:"long list",dataType:"list",data:{list:["list item 1","list item 2","rubber duck","list item 4","list item 5","list item 6","list item 7","list item 8","list item 9","list item 10\n with break lines","list item 11 NOTE: it is not HTML - it is text:<div>a</div>"]}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Awards.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Awards.png",title:"TITLE",dataType:"text",data:{text:"text! no description! <div> inside div </div>"}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Hometown.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Hometown.png",title:"no text",dataType:"text",data:{text:""}},{icon:null,iconBlack:null,title:"no icon + empty list",dataType:"list",data:{list:[]}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Note.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Note.png",title:"",dataType:"text",data:{text:"short text, but no title"}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Hours.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Hours.png",title:"{$HtmlTextAboutUsItemTitleHours}",dataType:"hours",data:{alwaysOpen:true}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Hours.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Hours.png",title:"{$HtmlTextAboutUsItemTitleHours}",dataType:"hours",data:null},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Hours.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Hours.png",title:"{$HtmlTextAboutUsItemTitleHours}",dataType:"hours",data:{hours:[{days:[7,1,3],startHour:"13:00",endHour:"16:00"},{days:[7,5,6],startHour:"8:00",endHour:"12:00"},{days:[3],startHour:"23:45",endHour:"23:59"},{days:[1,2,4,6,7],startHour:"5:00",endHour:"5:30"}]}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Group.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Group.png",title:"long text",dataType:"text",data:{text:"Uncle Tupelo was an alternative country music group from Belleville, Illinois, active between 1987 and 1994. Jay Farrar (pictured), Jeff Tweedy, and Mike Heidorn formed the band after the lead singer of their previous band, The Primitives, left to attend college. The trio recorded three albums for Rockville Records, before signing with Sire Records and expanding to a five-piece. Shortly after the release of the band's major label debut album Anodyne, Farrar announced his decision to leave the band due to a soured relationship with his co-songwriter Tweedy. Uncle Tupelo split on May 1, 1994, after completing a farewell tour. Following the breakup, Farrar formed Son Volt with Heidorn, while the remaining members continued as Wilco. Although Uncle Tupelo broke up before they achieved commercial success, the band is renowned for its impact on the alternative country music scene. The group's first album, No Depression, became a byword for the genre and was widely influential. Uncle Tupelo's sound was unlike popular country music of the time, drawing inspiration from styles as diverse as the hardcore punk of The Minutemen and the country instrumentation and harmony of the Carter Family and Hank Williams. Farrar and Tweedy lyrics frequently referred to Middle America and the working class of Belleville."}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Manager.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Manager.png",dataType:"text",title:"long text2",data:{text:"The African Crake (Crex egregia) is a bird in the rail family that breeds in most of sub-Saharan Africa away from the arid south and southwest. It is seasonally common in most of its range other than the rainforests and areas that have low annual rainfall. This crake is a partial migrant, moving away from the equator as soon as the rains provide sufficient grass cover to allow it to breed elsewhere. There have been a few records of vagrant birds reaching Atlantic islands. This species nests in a wide variety of grassland types, and agricultural land with tall crops may also be used."}},{icon:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_white/Manager.png",iconBlack:"http://storage.site.com/Images/Mobile/controlpanel/AboutUs/icons_black/Manager.png",dataType:"text",title:"long text + links and new lines",data:{text:"From http://en.wikipedia.org/wiki/Main_Page: The Courageous class comprised three battlecruisers built for the Royal Navy during World War I.\nNominally designed to support Admiral of the Fleet Lord John Fisher's Baltic Project, which was intended to land troops on the German Baltic Coast, ships of this class were fast but very lightly armoured with only a few heavy guns.\n\nTo maximize their speed, the Courageous-class battlecruisers were the first capital ships of the Royal Navy to use geared steam turbines and small-tube boilers. The first two ships, Courageous and Glorious, were commissioned in 1917 and spent the war patrolling the North Sea. Their half-sister Furious was designed with a pair of 18-inch (457 mm) guns, the largest guns ever fitted on a ship of the Royal Navy, but was modified during construction to take a flying-off deck and hangar in lieu of her forward gun turret and barbette. All three ships were laid up after the end of the war and were rebuilt as aircraft carriers during the 1920s."}}],buttons:{email:"test@email.com",twitter:"http://www.twitter.com/nba",facebook:"http://www.facebook.com/nba",mySpace:"http://www.myspace.com/nba",linkedin:"http://in.linkedin.com/in/nbainstitutions",webSite:"http://www.techcrunch.com"}},{imgUrl:"",name:"Techcrunch2",title:"Tech blog2",description:"bla bla bla",buttons:{facebook:"http://www.facebook.com/nba",link:"http://www.techcrunch.com"}}]};var D={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"ca41d26e-9263-2a48-4ff5-2e4f678a3c52",label:"About Us!",meta:s,minVersion:"0.0.0.0",type:"5a8368df-6ebd-c0f2-2d82-e173c1f33d40",version:"9999.0.0.0"};y.push(D)}var ab=false;if(ab){var r={};var aq={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"26826eb8-f051-e48f-90ab-e0057de00c0c",label:"Favorties",meta:r,minVersion:"0.0.0.0",type:"fa7071be-8262-3b0d-b439-d2edd1ac35ec",minVersion:"1.9.0.0"};y.splice(2,0,aq)}var ag=false;if(ag){var ay={items:[{location:{lat:30,lng:36},header:"This is the header",text:"This is some example text"},{location:{lat:31.9,lng:34.8},header:"header2",text:"Text"},{location:{lat:-5,lng:29},header:"header 3",address:"address3"},{location:{lat:-45,lng:-29},header:"4",address:"address4"}]};var c={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"78e550d7-a743-20dc-4cc8-94a90429222b",label:"Maps 4",meta:ay,minVersion:"0.0.0.0",type:"aca2f190-b22b-920d-f12a-998101ad4b70",version:"9999.0.0.0"};y.push(c);var ay={items:[{location:{lat:31.9,lng:34.8},header:"This is the header",text:"This is some example text"}]};var c={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"78e550d7-a743-20dc-4cc8-94a904292221",label:"Maps 1",meta:ay,minVersion:"0.0.0.0",type:"aca2f190-b22b-920d-f12a-998101ad4b70",version:"9999.0.0.0"};y.push(c)}var aH=false;if(aH){var aI={url:"http://www.conduit.com"};var g={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"0a5321d7-2ef6-0ea5-5ca0-669535274d17",label:"EPage",meta:aI,minVersion:"0.0.0.0",type:"0053bbba-1ca1-11e0-89a4-af28e0d72085",version:"9999.0.0.0"};y.splice(2,0,g)}var Z=false;if(Z){var I={hideHeader:!true,items:[{title:"0",layoutId:0,imgUrl:"http://imgisland.com/wallpapers/Around%20The%20World/2248_Aerial_View,_Singapore_City,_Singapore.jpg",logoImgUrl:"http://lh5.ggpht.com/-rw9perBWVMk/Rib9jG7OxbI/AAAAAAAAABc/CmIGUCEcjcc/3008x1960.jpg",header:"Cool header",text:"Tech blog it amet, consectetur adipiscing elit.\n\nVivamus imperdiet tortor eu erat dapibus mollis. Nullam molestie augue id justo facilisis fermentum. Maecenas sit amet turpis metus. Morbi dolor tellus, pellentesque vitae auctor ut, ullamcorper ac felis. Ut malesuada fermentum turpis eu adipiscing.",address:"Golda Meir 5 Nes Tziona",lat:32,"long":34.8,phone:"08-9999999",extraPhones:[{title:"{$HtmlTextContactUsCallNowHomeStr}",phone:"08-1234567"},{title:"{$HtmlTextContactUsCallNowWorkStr}",phone:"02-1234567"},{title:"{$HtmlTextContactUsCallNowMobileStr}",phone:"050-1234567"},{phone:"04-1234567"},{title:"Itsik",phone:"052-1234567"}],fax:"08-8888888",mail:"test@email.com",url:"http://mobile.conduit.com",urlTitle:"Conduit Mobile",description:'Lorem <a href="#">ipsum dolor </a>sit amet, consectetur adipiscing elit.\n\nVivamus imperdiet tortor eu erat dapibus mollis. Nullam molestie augue id justo facilisis fermentum. Maecenas sit amet turpis metus. Morbi dolor tellus, pellentesque vitae auctor ut, ullamcorper ac felis. Ut malesuada fermentum turpis eu adipiscing. '},{title:"1",layoutId:1,imgUrl:"http://imgisland.com/wallpapers/Around%20The%20World/2248_Aerial_View,_Singapore_City,_Singapore.jpg",logoImgUrl:"http://lh5.ggpht.com/-rw9perBWVMk/Rib9jG7OxbI/AAAAAAAAABc/CmIGUCEcjcc/3008x1960.jpg",header:"Cool header",text:"Tech blog it amet, consectetur adipiscing elit.\n\nVivamus imperdiet tortor eu erat dapibus mollis. Nullam molestie augue id justo facilisis fermentum. Maecenas sit amet turpis metus. Morbi dolor tellus, pellentesque vitae auctor ut, ullamcorper ac felis. Ut malesuada fermentum turpis eu adipiscing.",address:"Golda Meir 5 Nes Tziona",lat:33,"long":35,phone:"08-9999999",fax:"08-8888888",mail:"test@email.com",url:"http://mobile.conduit.com",urlTitle:"Conduit Mobile",description:'Lorem <a href="#">ipsum dolor </a>sit amet, consectetur adipiscing elit.\n\nVivamus imperdiet tortor eu erat dapibus mollis. Nullam molestie augue id justo facilisis fermentum. Maecenas sit amet turpis metus. Morbi dolor tellus, pellentesque vitae auctor ut, ullamcorper ac felis. Ut malesuada fermentum turpis eu adipiscing. ',extraPhones:[{title:"{$HtmlTextContactUsCallNowHomeStr}",phone:"08-1234567"},{title:"{$HtmlTextContactUsCallNowWorkStr}",phone:"02-1234567"},{title:"{$HtmlTextContactUsCallNowMobileStr}",phone:"050-1234567"},{phone:"04-1234567"},{title:"Itsik",phone:"052-1234567"}]},{title:"2",layoutId:2,imgUrl:"http://imgisland.com/wallpapers/Around%20The%20World/2248_Aerial_View,_Singapore_City,_Singapore.jpg",logoImgUrl:"http://lh5.ggpht.com/-rw9perBWVMk/Rib9jG7OxbI/AAAAAAAAABc/CmIGUCEcjcc/3008x1960.jpg",header:"Cool header",text:"Tech blog it amet, consectetur adipiscing elit.\n\nVivamus imperdiet tortor eu erat dapibus mollis. Nullam molestie augue id justo facilisis fermentum. Maecenas sit amet turpis metus. Morbi dolor tellus, pellentesque vitae auctor ut, ullamcorper ac felis. Ut malesuada fermentum turpis eu adipiscing.",address:"Golda Meir 5 Nes Tziona",lat:33,"long":35,phone:"08-9999999",extraPhones:[{title:"{$HtmlTextContactUsCallNowHomeStr}",phone:"08-1234567"},{title:"{$HtmlTextContactUsCallNowWorkStr}",phone:"02-1234567"},{title:"{$HtmlTextContactUsCallNowMobileStr}",phone:"050-1234567"},{phone:"04-1234567"},{title:"Itsik",phone:"052-1234567"}],fax:"08-8888888",mail:"test@email.com",url:"http://mobile.conduit.com",urlTitle:"Conduit Mobile",description:'Lorem <a href="#">ipsum dolor </a>sit amet, consectetur adipiscing elit.\n\nVivamus imperdiet tortor eu erat dapibus mollis. Nullam molestie augue id justo facilisis fermentum. Maecenas sit amet turpis metus. Morbi dolor tellus, pellentesque vitae auctor ut, ullamcorper ac felis. Ut malesuada fermentum turpis eu adipiscing. '}]};var ai={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"fa7819e6-3f63-15ac-4969-bc03acc70399",label:"Contact Us!",meta:I,minVersion:"0.0.0.0",type:"083e52df-721d-4ca4-efa3-25161d344f40",version:"9999.0.0.0"};y.splice(2,0,ai)}var aD=false;if(aD){var E={usePreviews:true,pageLayout:2,layoutParams:{loop:true,descriptionPosition:"top",iconPosition:"left"},feeds:[{hideHeader:false,logoImgUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",overrideDescription:"This text override all the descriptions",title:"tab 1",id:"a6a5f01b-b028-8842-7c72-d50e93f1b8be",type:"picasa",userName:"matanya.bir3",params:{albumId:"5582728848724476929",albumName:"20110311"}},{title:"Instagram",id:"067e6521-2878-a7d3-5fdd-b66596503691",type:"instagram",userName:"1574083"},{title:"tab 2",id:"f02f60cd-67f5-b4eb-a497-08ae3ceb5c7c",type:"picasa",userName:"matanya.bir4",params:{albumId:"5637383265425670465",albumName:"20110805"}}]};var af={icon:"http://images.mobile.site-services.com/icon/42",id:"cd2b93f7-62d0-e663-45ee-04834800d3b9",label:"test photos",meta:E,minVersion:"0.0.0.0",type:"3b11bcdf-ba5e-4eaa-9059-ea580b3f1681",version:"9999.0.0.0"};y.splice(2,0,af)}var ax=false;if(ax){var P={usePreviews:true,pageLayout:2,layoutParams:{loop:true,descriptionPosition:"top",iconPosition:"left"},feeds:[{hideHeader:false,logoImgUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",overrideDescription:"This text override all the descriptions",title:"tab 1",id:"a6a5f01b-b028-8842-7c72-d50e93f1b8be",type:"picasa",userName:"matanya.bir3",params:{albumId:"5582728848724476929",albumName:"20110311"}}]};var aK={icon:"http://images.mobile.site-services.com/icon/42",id:"cd2b93f7-62d0-e663-45ee-04834800d3b9",label:"Live Album",meta:P,minVersion:"0.0.0.0",type:"26ae8ccc-5464-7979-4fdf-3a13f166ffff",version:"9999.0.0.0"};y.splice(2,0,aK)}var f=false;if(f){var U={feeds:[{id:"c4d95826-f6a1-e9c2-8bb1-5f76d633c0c4",url:"http://feeds.abcnews.com/abcnews/topstories",title:"abc",params:{addGeo:true,sort:{},expiration:null}}]};var B={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"c69ffba8-820d-8468-2ac1-cd3543179068",label:"RSS!",meta:U,minVersion:"0.0.0.0",type:"51a61af7-1e90-4d68-88db-b1e69a0cca59",version:"9999.0.0.0"};y.push(B)}var x=false;if(x){var au={tabs:[{title:"tab1",apiKey:"82e23d794c6741e19fb3c22a5b693a6d",lpServer:"dev.liveperson.net",lpNumber:"P29473731"}]};var m={icon:"http://storage.conduit.com/images/mobile/controlpanel/pages/icons/white_t/Social.png",id:"4bfbd276-2d4c-e9b7-d181-50d2b44ec5cd",label:"Live Chat",meta:au,minVersion:"0.0.0.0",type:"a00b52bb-ff49-704f-bdf3-fb0bd0fd4739",version:"10.0.0.0"};y.splice(2,0,m)}var G=false;if(G){var H={type:"4680c3f3-e767-4ebf-b112-9ba769c3ff2a",label:"video",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://cdn.wibiya.com/Apps/9005_video/front/video_iphone.png",id:"eb28bb12-7ab0-4fac-061b-14d5a3bb9113",meta:{items:[{title:"vimeo",params:{url:"http://cms.mobile.site-services.com/vimeo/video/1/?query=dogs",params:{}},wibiyaUsername:"dogs",wibiyaService:"search"}],appId:"4025282"}};y.push(H)}var aJ=false;if(aJ){var aP={type:"7a2641b0-ceb2-48d6-b715-344198c73dd3",label:"R.V.iews",minVersion:"2.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.qasite-services.com/icon/58",id:"9545a8f3-cb53-84be-992a-42174ac35354",meta:{pageLayout:2,items:[{title:"CT Search: Asi&Ohad R cooking",params:{type:2,query:"44973480",extraInfo:{}}},{title:"Yelp: noordzee-mer-du-nord-bruxelles",params:{type:1,query:"noordzee-mer-du-nord-bruxelles",extraInfo:{}}},{title:"CT Search: Asi&Ohad R cooking",params:{type:2,query:"33654822",extraInfo:{}}},{title:"Yelp: Asi&Ohad R cooking",params:{type:1,query:"taste-of-happiness-san-francisco",extraInfo:{}}}]}};y.push(aP)}var al=false;if(TEST_LOYALTY){al=true}if(al){var ap={alias:"punch-cards",displayDevices:0,icon:"http://images.mobile.qasite-services.com/icon/58",id:"19cec4e7-5b14-4b6b-aafb-658cc77cc0b0",label:"TEST PunchCards",meta:{items:[{id:"c7f0d05a-c991-4ac1-8e6c-90f9990ebeed",name:"Crazy Al's Freebies",params:{listId:"ad06042e-0053-448a-b986-b6f66e503c39",type:"contentHost"}}],pageLayout:-1},minVersion:"3.0.0.0",type:"9953766f-6b47-4878-8d38-b9cde750fe58",version:null};y.splice(0,0,ap)}var t=false;if(t){var z={type:"1002937d-8b19-40de-9df5-ba0d1ea2fbb2",label:"TEST Events",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.qasite-services.com/icon/58",id:"eb28bb12-7ab0-4fac-061b-14d5a3bb9114",meta:{pageLayout:2,layout:{meta:{bgImage:"http://wallpapernet.eu/wp-content/gallery/4_landscape_02/landscape-9643.jpg"}},items:[{title:"My Events",params:{type:2,id:"conduit.android@gmail.com",extraInfo:{}},views:[{title:"{$HtmlTextEventsPastEvents}",since:"$date-30d",until:"$date",logoImgUrl:"http://blog.conduit.com/wp-content/uploads/2012/03/SXSW.jpg",extraInfo:{order:"desc"}},{title:"{$HtmlTextEventsFutureEvents}",since:"$date",until:"$date+3m",logoImgUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",extraInfo:{order:"asc"}}]},{title:"My Events2",params:{type:4,id:"331163",extraInfo:{customId:"654354354"}},views:[{title:"Year to date",since:"1323993599",until:"1639871999",logoImgUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",extraInfo:{order:"desc"}},{title:"My Events",since:"$date",until:"$date+1y",extraInfo:{order:"asc"}}]}]}};y.splice(2,0,z)}if(t){var z={type:"1002937d-8b19-40de-9df5-ba0d1ea2fbb2",label:"Events 2",minVersion:"0.0.0.0",version:"10.0.0.0",icon:"http://images.mobile.qasite-services.com/icon/58",id:"eb48bb12-7ab0-4fac-061b-14d5a3bb9114",meta:{pageLayout:2,layout:{meta:{bgImage:"http://wallpapernet.eu/wp-content/gallery/4_landscape_07/landscape-wallpapers-rezolucija-ekrana.jpg"}},items:[{title:"My Events",params:{type:2,id:"conduit.android@gmail.com",extraInfo:{}},views:[{title:"{$HtmlTextEventsFutureEvents}",since:"$date+30d",until:"$date",logoImgUrl:"",extraInfo:{order:"desc"}},{title:"{$HtmlTextEventsPastEvents}",since:"$date",until:"$date-3m",logoImgUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",extraInfo:{order:"asc"}}]}]}};y.splice(1,0,z)}var R=false;if(R){var w={icon:"http://images.mobile.site-services.com/icon/external/?src=http%3A%2F%2Fstorage.site.com%2Fimages%2Fmobile%2Fcontrolpanel%2Fpages%2Ficons%2Fwhite_t%2FLiveAlbum_White.png",id:"GUID_123123",label:"LA: Template",meta:{pageLayout:-1,albums:[{id:"d2886776-4629-112e-1372-237345231f5a",socialId:"100001084128133",isSmallImages:true,socialName:"Nuni Bas",parentSocialId:"100001084128133",albumId:"219155498130586",albumName:"LA test",albumDesc:"test for LA",parentAccessToken:"120397844671083|6aadcbed5092462ce441ba73.1-100001084128133|ohkyoKiOIqf4u5_CgSXA2VF5roI"},{id:"62b380b4-4181-b683-b0ae-be52934c9588",socialId:"100001084128133",isSmallImages:true,socialName:"Nuni Bas",parentSocialId:"100001084128133",albumId:"215058001873669",albumName:"album test2",albumDesc:"test",parentAccessToken:"120397844671083|6aadcbed5092462ce441ba73.1-100001084128133|ohkyoKiOIqf4u5_CgSXA2VF5roI"},{id:"68c52a09-88cb-62f9-f54b-0397f34ead04",socialId:"131000090328277",isSmallImages:false,socialName:"Conduit Mobile",parentSocialId:"100001084128133",albumId:"131000340328252",albumName:"August 10, 2011",albumDesc:"undefined",parentAccessToken:"120397844671083|6aadcbed5092462ce441ba73.1-100001084128133|ohkyoKiOIqf4u5_CgSXA2VF5roI"},{id:"34c6356b-36a8-090a-73ef-02202086b829",socialId:"100001084128133",socialName:"Nuni Bas",parentSocialId:"100001084128133",albumId:"215057638540372",albumName:"album test 17",albumDesc:"this is the description of album test!\r\nNOTE: this description is very very long, we probably will trim this long description in the client.\r\nsome formulas: E = MC^2, 1 1 = 2, E^(i*pi) = -1. the end!",parentAccessToken:"120397844671083|6aadcbed5092462ce441ba73.1-100001084128133|ohkyoKiOIqf4u5_CgSXA2VF5roI"}]},minVersion:"1.10.0.0",type:"4d365620-d00a-266d-ca8c-6cf6d762a7fc",version:null};y.push(w)}var h=!true;if(h){var J={icon:"http://images.mobile.site-services.com/icon/external/?src=http%3A%2F%2Fstorage.site.com%2Fimages%2Fmobile%2Fcontrolpanel%2Fpages%2Ficons%2Fwhite_t%2FLiveAlbum_White.png",id:"GUID_123123",label:"API Test",meta:{pageLayout:-1},minVersion:"1.10.0.0",type:"0",version:null};y.splice(0,0,J)}var ah=false;if(ah){var l={icon:"http://images.mobile.site-services.com/icon/external/?src=http%3A%2F%2Fstorage.site.com%2Fimages%2Fmobile%2Fcontrolpanel%2Fpages%2Ficons%2Fwhite_t%2FLiveAlbum_White.png",id:"fbbc1cff-01fc-7708-246f-3b593c0e9029",label:"test Form",minVersion:"1.10.0.0",type:"79eec590-f806-f7ac-946b-1fd9c90283ba",version:null,meta:{pageLayout:-1,items:[{logoImgUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",text:"This is the header text on the image",description:'<p dir="rtl"><span>RTL!</span></p><hr /><p><strong>Bolt</strong></p><p><span style="font-size: 20pt; color: #ff0000;"><strong>big red</strong></span></p><p><strong>link to <a href="http://www.google.com" title="new">google</a></strong></p><p><strong>another link to <a href="http://www.google.com" title="samw">google</a></strong></p><p><strong>send mail: <a href="mailto:matanya@conduit.com">click!</a></strong></p><p><strong>internal link to nav page: <a href="GoToPage:navigation">click!</a></strong></p><p><strong>internal link to page index = 3: <a href="GoToPage:index:3">click!</a></strong></p><p><strong></strong><strong>look! a line:</strong></p><hr /><p><span style="font-family: comic sans ms,sans-serif; color: #ff0000; font-size: 16pt;">&nbsp;</span><img alt="barvaz" height="79" src="data:image/jpg;base64,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" width="79" />&nbsp;</p><p>look! bad image:</p><p><img alt="aaa" src="sdfdcvergfefv35fc/34f34rf.dfhgdfh" /></p>"',title:"page1",id:"6b9869bb-f4b8-e9ab-c897-57b24900e0dc",postUrl:"http://sms.wmg.com/sms/register?js=true&updateprofile=yes&newsletterId=wakaflockaflame&keywordId=wakaflockaflamebase&signuptype=any",formId:"b23cfedb-c5db-65e7-4b7b-993325c48e9a",action:"get",sendButton:{bgImage:""},controls:[{caption:"Hellow",placeholder:"World",isActive:true,isMandatory:true,type:"combobox",id:"combo1",selectedIndex:null,items:[{caption:"Male",value:"m"},{caption:"Female",value:"f"}]},{caption:"Ice-cream (Radio group)",type:"radio",id:"radio1",selectedIndex:2,isActive:true,items:[{caption:"Vanilla",value:"radioOption1"},{caption:"Chocolate",value:"radioOption2"},{caption:"Herring",value:"radioOption3"},{caption:"Strawberry",value:"radioOption4"}]},{caption:"Country (Combo: hard-coded in the client)",placeholder:"Select country",type:"combobox",isActive:true,subType:"country",id:"combo2",items:null},{placeholder:"Select state",isActive:true,type:"combobox",subType:"state",id:"combo3",items:null},{isActive:true,type:"inputtext",id:"input1",isMandatory:true,placeholder:"Write something"},{isActive:true,type:"inputtext",id:"inputTel1",subType:"tel",isMandatory:false,placeholder:"02-1234567"},{isActive:true,type:"inputtext",subType:"email",id:"inputEmail",isMandatory:false,placeholder:"your@email.com"},{caption:"Birthday (Date)",isActive:true,type:"dateedit",subType:"date",id:"inputDate",isMandatory:true,placeholder:"enter date"},{caption:"Deathday (Datetime)",isActive:true,type:"dateedit",subType:"datetime",id:"inputDateTime",isMandatory:!true,placeholder:"Date + Time"},{caption:"Comments (Memo)",isActive:true,type:"textarea",id:"textarea1",rows:5,isMandatory:true,placeholder:"Write something"},{caption:"Ice-cream (Checkboxs group)",isActive:true,type:"checkbox",id:"checkbox1",items:[{caption:"Vanilla",value:"radioOption1"},{caption:"Chocolate",value:"radioOption2"},{caption:"Herring",value:"radioOption3"},{caption:"Strawberry",value:"radioOption4"}]}]}]}};y.splice(0,0,l)}var o=false;if(o){var an={icon:"http://images.mobile.site-services.com/icon/external/?src=http%3A%2F%2Fstorage.site.com%2Fimages%2Fmobile%2Fcontrolpanel%2Fpages%2Ficons%2Fwhite_t%2FLiveAlbum_White.png",id:"7bf11e07-688a-86fa-6571-7d176d78f2e9",label:"static HTML test",minVersion:"0.0.0.0",type:"27f91d0a-42c0-48fa-90a8-7138641ddecf",version:null,meta:{pageLayout:-1,notes:[{id:"1fd5904c-37d5-c257-de02-1748320df7d1",html:'<p dir="rtl"><span>RTL!</span></p><hr /><p><span style="font-size: 20pt; color: #ff0000;"><strong>big red</strong></span></p><p><strong>link to <a href="http://www.google.com" title="new">google</a></strong></p><p><strong>another link to <a href="http://www.google.com" class="bbb" title="samw">google</a></strong></p><p><strong>send mail: <a href="mailto:matanya@conduit.com">click!</a></strong></p><p><strong>internal link to nav page: <a href="GoToPage:navigation">click!</a></strong></p><p><strong>internal link to page index = 3: <a href="GoToPage:index:3">click!</a></strong></p><p><strong></strong><strong>look! a line:</strong></p><hr /><p><span style="font-family: comic sans ms,sans-serif; color: #ff0000; font-size: 16pt;">&nbsp;</span><img alt="barvaz" height="79" src="data:image/jpg;base64,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" width="79" />&nbsp;</p><p>look! bad image:</p><p><img alt="aaa" src="sdfdcvergfefv35fc/34f34rf.dfhgdfh" /></p>"'}]}};y.splice(2,0,an)}var b=false;if(b){var v={icon:"http://images.mobile.site-services.com/icon/external/?src=http%3A%2F%2Fstorage.site.com%2Fimages%2Fmobile%2Fcontrolpanel%2Fpages%2Ficons%2Fwhite_t%2FLiveAlbum_White.png",id:"430db20e-da28-eb6f-8110-9bccb186f585",label:"links test",minVersion:"2.5.0.0",type:"fc6700a7-a11e-de90-93f8-7357f9f0037f",version:null,meta:{pageLayout:0,items:[{logoImgUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",text:"This is the header text on the image",id:"1fd5904c-37d5-c257-de02-1748320df7d1",title:"tab1",links:[{title:"Google",url:"http://www.google.co.il"},{title:"Raqevet",imageUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",url:"http://www.rail.co.il/he/Pages/homepage.aspx",details:{title:"Rak Raqevet",imageUrl:"http://upload.wikimedia.org/wikipedia/commons/thumb/8/81/BNSF_GE_Dash-9_C44-9W_Kennewick_-_Wishram_WA.jpg/220px-BNSF_GE_Dash-9_C44-9W_Kennewick_-_Wishram_WA.jpg",linkTitle:"link Title",description:"<b>Motive power</b> is provided by a separate locomotive or individual motors in self-propelled multiple units. Although historically steam propulsion dominated, the most common modern forms are diesel and electric locomotives, the latter supplied by overhead wires or additional rails. Other energy sources include horses, rope or wire, gravity, pneumatics, batteries, and gas turbines."}},{imageUrl:"http://i.cdn.turner.com/nba/nba/.element/img/2.0/global/nbaErrorLogoPic.gif",url:"http://www.nba.com"},{title:"Pixar",imageUrl:"http://cdn.s7.disneystore.com/is/image/DisneyShopping/1261000441656?$carousel$",url:"http://www.pixar.com"}]},{logoImgUrl:"http://www.pixar.com/images/brave/brave3.jpg",id:"6661b744-9019-6570-fc8f-99f44af6fd61",title:"tab 1.5",links:[{title:"Google",imageUrl:"http://androidheadlines.com/wp-content/uploads/2011/02/google-music-logo.jpg",url:"http://www.google.co.il"},{title:"Raqevet",imageUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",url:"http://www.rail.co.il/he/Pages/homepage.aspx"},{title:"Pixar",imageUrl:"http://cdn.s7.disneystore.com/is/image/DisneyShopping/1261000441656?$carousel$",url:"http://www.pixar.com"}]},{logoImgUrl:"http://www.pixar.com/images/brave/brave4.jpg",text:"This is the header text on the image. maybe this text can be long and with long words 00112233445566778899! bla bla bla! the end!",id:"e2e4e402-18cd-cdcf-2e6f-64ea60db04bd",title:"tab 1.75",links:[{title:"Google",imageUrl:"http://androidheadlines.com/wp-content/uploads/2011/02/google-music-logo.jpg",url:"http://www.google.co.il"},{title:"Raqevet - with a very long title that ends with 9",url:"http://www.rail.co.il/he/Pages/homepage.aspx"},{imageUrl:"http://i.cdn.turner.com/nba/nba/.element/img/2.0/global/nbaErrorLogoPic.gif",url:"http://www.nba.com"},{title:"Pixar",imageUrl:"http://25.media.tumblr.com/tumblr_lh72aiuAnn1qh3v2go1_r1_400.jpg",url:"http://www.pixar.com"},{title:"Google",imageUrl:"http://androidheadlines.com/wp-content/uploads/2011/02/google-music-logo.jpg",url:"http://www.google.co.il"},{title:"Raqevet",imageUrl:"http://www.rail.co.il/resources/he-IL/Images/Master/header_right.gif",url:"http://www.rail.co.il/he/Pages/homepage.aspx"},{imageUrl:"http://i.cdn.turner.com/nba/nba/.element/img/2.0/global/nbaErrorLogoPic.gif",url:"http://www.nba.com"},{title:"Pixar",imageUrl:"http://cdn.s7.disneystore.com/is/image/DisneyShopping/1261000441656?$carousel$",url:"http://www.pixar.com"},{url:"http://www.google.co.il",imageUrl:"bad image"},{title:"Raqevet",url:"http://www.rail.co.il/he/Pages/homepage.aspx"},{imageUrl:"http://i.cdn.turner.com/nba/nba/.element/img/2.0/global/nbaErrorLogoPic.gif",url:"http://www.nba.com"},{title:"Pixar",imageUrl:"http://cdn.s7.disneystore.com/is/image/DisneyShopping/1261000441656?$carousel$",url:"http://www.pixar.com"}]},{id:"5be5ee29-c0a0-73f7-ea63-5d7a36e93ffa",title:"tab2",links:[{title:"nba",url:"http://www.nba.com"}]}]}};y.splice(2,0,v)}var am=false;if(am){var q={icon:"http://images.mobile.site-services.com/icon/external/?src=http%3A%2F%2Fstorage.site.com%2Fimages%2Fmobile%2Fcontrolpanel%2Fpages%2Ficons%2Fwhite_t%2FLiveAlbum_White.png",id:"9fade8d5-05ca-a251-aed9-34805fbac222",label:"Link",minVersion:"2.5.0.0",type:"c54d24ef-faf5-45dd-8859-85e3ebe7cecf",version:null,meta:{items:[{openInExternalBrowser:true,link:"http://www.google.com",title:"google"}]}};y.splice(2,0,q)}var aO=false;if(aO){var aN={icon:"http://images.mobile.site-services.com/icon/external/?src=http%3A%2F%2Fstorage.site.com%2Fimages%2Fmobile%2Fcontrolpanel%2Fpages%2Ficons%2Fwhite_t%2FLiveAlbum_White.png",id:"9fade8d5-05ca-a251-aed9-34805fbac233",label:"webModule",minVersion:"2.5.0.0",type:"9eea8149-956c-46f9-8597-167401c63cd7",version:null,meta:{items:[{link:"http://www.nba.com",staticPages:{simulator:{title:"Cannot view page in the LiveView",text:"To view the page properly,<br> test your app on a mobile device",img:"http://storage.qasite.com/Images/Mobile/ExternalPages/StaticPages/staticPageIcon.png"}}}]}};y.splice(0,0,aN)}var ad=false;if(ad){var n={type:"6181507a-fdf4-4b90-a270-cbd286603443",label:"Collection",icon:"http://images.mobile.site-services.com/icon/87",subType:"00000000-0000-0000-0000-000000000000",id:"72e9c318-05fa-ac72-b292-a1df3fb1a1e8",meta:{pageLayout:-1,items:[{id:"30d5917e-6ad4-6a9a-e64d-25c56e939f19",params:{id:"2de87be4-1346-468f-86ef-49892ae8c17a"},name:"title"}]}};y.splice(0,0,n)}var S=false;if(S){var A={type:"8d7507ff-317e-44b1-9ad3-776ad52d6ee2",label:"Homepage",icon:"http://images.mobile.site-services.com/icon/87",subType:"00000000-0000-0000-0000-000000000000",id:"01b241ed-676c-4f11-9045-309271f6acc3",meta:{pageLayout:-1,items:[{id:"30d5917e-6ad4-6a9a-e64d-25c56e939f19",widgets:[{id:"31d5917e-6ad4-6a9a-e64d-25c56e939f19",type:"495cb1c8-b08b-4c7e-82cf-7ffb93e2d5b3",title:"CHOOSE YOUR GAME",params:{initialInterval:1000,interval:4000,refreshRate:30000},models:[{title:"Game 1",imageUrl:"http://storage.conduit.com/storage/mobile/9b/fa/9bd5bdde-83fa-4236-9d5e-7c10fda796fc/icons/game1.png",click:{type:"twitter",value:"drink"}},{title:"Game 2",imageUrl:"http://storage.conduit.com/storage/mobile/9b/fa/9bd5bdde-83fa-4236-9d5e-7c10fda796fc/icons/game2.png",click:{type:"twitter",value:"QA game 1"}},{title:"Game 3",imageUrl:"http://storage.conduit.com/storage/mobile/9b/fa/9bd5bdde-83fa-4236-9d5e-7c10fda796fc/icons/game3.png",click:{type:"twitter",value:"QA game 2"}},{title:"Game 4",imageUrl:"http://storage.conduit.com/storage/mobile/9b/fa/9bd5bdde-83fa-4236-9d5e-7c10fda796fc/icons/game4.png",click:{type:"twitter",value:"QA game 3"}}]},{id:"32d5917e-6ad4-6a9a-e64d-25c56e939f19",type:"a2c260a1-9b61-4209-a18a-2472a5401c47",params:{initialInterval:1000,interval:4000,refreshRate:30000},pages:[{pageId:"cab6d296-0dc4-41cc-9f28-7cde7201ae29",selectedItemIndex:0}],title:"LIVE ALBUM"},{id:"33d5917e-6ad4-6a9a-e64d-25c56e939f19",type:"469cf7b9-4dbe-49dc-837d-944e014b425c",params:{initialInterval:1000,interval:4000,refreshRate:30000},pages:[{pageId:"a3252f83-8eb9-4d34-b994-fa297386967f",selectedItemIndex:0}],title:"Events"},{id:"30d5917e-6ad4-6a9a-e64d-25c56e939f19",type:"2793d32c-34f1-43fc-8d60-87f5051bf585",params:{initialInterval:1000,interval:4000,refreshRate:30000},pages:[{pageId:"83d40af6-7a4c-1c01-f3a5-8631ec1f1cf2",selectedItemIndex:0}],title:"People"},{id:"33d5917e-6ad4-6a9a-e64d-25c56e939f19",type:"e7252cf7-2d0a-4c05-899c-5b9f3672a45e",params:{initialInterval:1000,interval:4000,refreshRate:30000},pages:[{pageId:"be3c599e-f8ab-4de8-a589-ac993f250651",selectedItemIndex:0}],title:"Twitter"}]}]}};y.splice(0,0,A)}},addTestSettings:function(f){var c=false;if(c){f.overrideTranslation={HtmlTextAboutUsItemHoursAlwaysOpen:"24/7",ButtonOk:"Sure!",HtmlTextContactUsPhoneNumberStr:"NUMBER"}}var b=false;if(b){f.brand={name:"En Bee Hey!",link:"http://www.nba.com",showAppLinks:true}}var a=false;if(a){f.ads={enabled:true,fullScreenAdEnabled:false,bottomBarAdEnabled:true,bottomBarSwitchInterval:5000,adBarCycles:2,fullScreenAdDisplayDuration:3500,fullScreenAdTO:1000,providers:[{id:adProvidersTypes.adsense,meta:{slots:[{adUnitID:"ca-pub-6106021769401125",slot:1,adSlotID:"6319902337",width:320,height:50}]},trafficPercentage:1}]}}var g=false;if(g){var h="B0F623544089136A611CCFED8026548B";f.appsFire={enabled:true,appKey:h}}var i=false;if(i){f.instagramShare={enabled:true,title:"@MeekMill #DreamsandNightmares"}}var e=false;if(e){f.fbAppId="117766941714411"}var d=false;if(d){f.startupDialog={id:"6",startDueDate:0,interval:864000,title:"{$DialogCaptionError}",message:"Rate me!",buttons:[{title:"{$ButtonOk}",url:"http://www.google.com",stop:true},{title:"NEVER!",stop:true},{title:"Remind me later",stop:false}]}}},overrideColorsLayout:function(c){var d=false;if(d){c.colorTheme={appBg:"#00ffffff",hdrBg:"#ffffffff",hdrTxt:"#FFFFFFFF",navBg:"#ffffffff",navTxt:"#FFFFFFFF",navIcn:"#FFFFFFFF",contAbg:"#FFFFFFFF",contAhdlTxt:"#ffd01e24",contAtxt:"#ff585a5a",contAsubTxt:"#FFB4B4B4",contAbrdr:"#FFDDDDDD",contBbg:"#FFFFFFFF",contBhdlTxt:"#ffd01e24",contBtxt:"#ff585a5a",contBsubTxt:"#FFB4B4B4",contBbrdr:"#FFC1C1C2",contCbg:"#ffffffff",contChdlTxt:"#FFFFFFFF",contCtxt:"#FFFFFFFF",contCsubTxt:"#FFB4B4B4",lnkTxt:"#ff043d89",actBtn:"#ff043d89"}}var a=false;if(TEST_LOYALTY){a=true}if(a){var b={appGeneral:{errTxt:{type:"text",data:{"default":{color:"#FFB60021"}}},bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"appBg"}]}}}},loadingSmallIcn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"contAsubTxt"}]},isBlack:false,isSimple:false}}},footer:{bg:{type:"background",data:{"default":{type:"solid",color:"#00000000",shadow:{isInset:false,x:"0px",y:"-2px",blur:"3px",color:"#99000000"}}}}},scrnDiv:{bg:{type:"background",data:{"default":{type:"solid",color:"#00000000",shadow:{isInset:false,x:"3px",y:"0px",blur:"10px",color:"#99000000"}}}},brdr:{type:"border",data:{"default":{right:{color:"#FF000000",width:"1px"}}}}},dialog:{bg:{type:"background",data:{"default":{type:"solid",color:"#CC000000"}}},btn2:{bg:{type:"background",data:{"default":{type:"gradient",orientation:"vertical",color:[{color:"#FFe4e4e4",location:0},{color:"#FF8d8d8d",location:1}]},clicked:{type:"solid",color:"#FF8d8d8d"},disabled:{type:"solid",color:"#33333333"}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FFBFBBB8",width:"1px"},right:{color:"#FFBFBBB8",width:"1px"},left:{color:"#FFBFBBB8",width:"1px"},top:{color:"#FFBFBBB8",width:"1px"}},clicked:{bottom:{color:"#FF757575",width:"1px"},right:{color:"#FF757575",width:"1px"},left:{color:"#FF757575",width:"1px"},top:{color:"#FF757575",width:"1px"}}}},hdlTxt:{type:"text",data:{"default":{color:"#FF5F5B5A",shadow:{x:"0",y:"1px",blur:"0",color:"#80FFFFFF"}},selected:{color:"#CC000000",shadow:{x:"0",y:"1px",blur:"0",color:"#80FFFFFF"}},disabled:{color:"#CCCCCCCC"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FF5F5B5A",isBlack:true,isSimple:true},clicked:{type:"solid",color:"#FF464342",isBlack:true,isSimple:true},disabled:{type:"solid",color:"#CCCCCCCC",isBlack:true,isSimple:true}}}}},floatBtn:{bg:{type:"background",data:{"default":{type:"solid",color:"#00000000"},clicked:{},disabled:{}}},brdr:{type:"border",data:{}},hdlTxt:{type:"text",data:{"default":{color:"#FFFFFFFF",shadow:{x:"0px",y:"1px",blur:"2px",color:"#E5000000"}},selected:{color:"#ffb0b0b0"},disabled:{color:"#CCCCCCCC"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}}},shareViewIcn:{type:"icon",data:{"default":{type:"solid",color:"#FFa29f9e",isBlack:true,isSimple:true}}},adBar:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.9]}]}}}},brdr:{type:"border",data:{top:{color:{_replace:[{param:"contBbg"}]},width:"1px"}}},hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contBhdlTxt"}]}}}}},pullToRef:{typeA:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contAbg"}]},shadow:{isInset:true,x:"-1px",y:"1px",blur:"2px",color:"#54000000"}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contAsubTxt"}]}}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"contAbrdr"}]},width:"1px"}}}}},typeB:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg"}]},shadow:{isInset:true,x:"-1px",y:"1px",blur:"2px",color:"#54000000"}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contBsubTxt"}]}}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"}}}}},icn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"subTxt"}]},isBlack:true,isSimple:false}}}},ribbon:{txt:{type:"text",data:{"default":{color:"#FF000000"}}},bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF",shadow:{isInset:false,x:"0px",y:"0px",blur:"3px",color:"#99000000"}}}},brdr:{type:"border",data:{"default":{top:{color:"#FF000000",width:"1px"},bottom:{color:"#FF000000",width:"1px"}}}}}},appHeader:{bg:{type:"background",data:{"default":{type:"gradient",orientation:"vertical",color:[{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,1.6,1],[1,0.9,1.25,0.92]]}]},location:0},{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.9,1.4,1],[1,1,1.13,0.95]]}]},location:0.25},{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,1,1.1,1],[1,1,1.1,1]]}]},location:0.49},{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,1,1,1],[1,1,1,1]]}]},location:0.5},{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,1,0.8,1],[1,1,0.8,0.9]]}]},location:0.73},{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,1,0.7,1],[1,0.7,0.5,1]]}]},location:1}],shadow:{isInset:false,x:"0px",y:"1px",blur:"3px",color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,0.3,0.8],[1,0.7,0.2,1]]}]}}}}},bgTint:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"hdrTxt"}]}}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.5,1.05,1],[1,0.7,0.6,0.9]]}]},width:"1px"}}}},hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"hdrTxt"}]}}}},btn:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.9,0.7,0.4],[1,0.9,0.5,0.4]]}]}},clicked:{type:"solid",color:"#4C000000",shadow:{isInset:true,x:"-1px",y:"1px",blur:"2px",color:"#66000000"}},selected:{type:"solid",color:"#4C000000",shadow:{isInset:true,x:"-1px",y:"1px",blur:"2px",color:"#66000000"}}}},icn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"hdrTxt"}]},isBlack:false,isSimple:true}}}}},navBar:{item:{bg:{type:"background",data:{"default":{type:"gradient",orientation:"vertical",color:[{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,0.8,1.3,1],[1,0.9,1.25,0.95]]}]},location:0},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,0.9,1.2,1],[1,1,1,0.95]]}]},location:0.18},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,1,1],[1,1,0.7,1]]}]},location:0.55},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.8,1],[1,1,0.5,1]]}]},location:0.84},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.7,1],[1,0.6,0.4,1]]}]},location:1}]},clicked:{type:"gradient",orientation:"vertical",color:[{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.5,0.7],[1,0.6,0.5,1]]}]},location:0},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.5,0.7],[1,1,0.35,1]]}]},location:0.18},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.4,0.7],[1,1,0.3,1]]}]},location:0.55},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,0.8,0.2,0.7],[1,1,0.4,1]]}]},location:0.84},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,0.5,0.1,0.7],[1,0.9,0.5,1]]}]},location:1}],shadow:{isInset:true,x:"0px",y:"0px",blur:"2px",color:"#FF000000"}},selected:{type:"gradient",orientation:"vertical",color:[{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.5,0.7],[1,0.6,0.5,1]]}]},location:0},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.5,0.7],[1,1,0.35,1]]}]},location:0.18},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,1,0.4,0.7],[1,1,0.3,1]]}]},location:0.55},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,0.8,0.2,0.7],[1,1,0.4,1]]}]},location:0.84},{color:{_replace:[{param:"navBg",fn:"t_hsla",params:[0.5,[1,0.5,0.1,0.7],[1,0.9,0.5,1]]}]},location:1}],shadow:{isInset:true,x:"0px",y:"0px",blur:"2px",color:"#FF000000"}}}},bubbleBg:{type:"background",data:{"default":{},clicked:{}}},brdr:{type:"border",data:{"default":{},clicked:{}}},hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"navTxt",fn:"hsla",params:[1,1,1,0.8]}]}},clicked:{color:{_replace:[{param:"navTxt"}]}},selected:{color:{_replace:[{param:"navTxt"}]}}}},icn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"navIcn"}]},isBlack:false,isSimple:true}}}}},navGrid:{bg:{type:"background",data:{"default":{type:"solid",color:"#33000000"}}},btn:{bg:{type:"background",data:{"default":{},clicked:{}}},brdr:{type:"border",data:{"default":{},clicked:{}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"navTxt",fn:"hsla",params:[1,1,1,0.8]}]}},clicked:{color:{_replace:[{param:"navTxt"}]}}}}}},navList:{bg:{type:"background",data:{"default":{type:"solid",color:"#33000000"}}},item:{bg:{type:"background",data:{"default":{},clicked:{type:"solid",color:"#40000000"}}},brdr:{type:"border",data:{"default":{bottom:{color:"#4c2a2a2a",width:"1px"}},clicked:{}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"navTxt"}]}},clicked:{}}}}},navSidebar:{bg:{type:"background",data:{"default":{type:"solid",color:"#FF282828"}}},scrnDiv:{bg:{type:"background",data:{"default":{type:"solid",color:"#00000000",shadow:{isInset:false,x:"-3px",y:"0px",blur:"10px",color:"#99000000"}}}},brdr:{type:"border",data:{"default":{left:{color:"#FF000000",width:"1px"}}}}},item:{bg:{type:"background",data:{"default":{},clicked:{type:"solid",color:"#33000000",shadow:{isInset:true,x:"0px",y:"1px",blur:"3px",color:"#99000000"}},selected:{type:"solid",color:"#33000000",shadow:{isInset:true,x:"0px",y:"1px",blur:"3px",color:"#99000000"}}}},marker:{type:"background",data:{"default":{},clicked:{type:"solid",color:{_replace:[{param:"actBtn"}]}},selected:{type:"solid",color:{_replace:[{param:"actBtn"}]}}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FF3e3e3e",width:"1px"}},clicked:{},selected:{}}},txt:{type:"text",data:{"default":{color:"#FFefefef"},clicked:{color:"#FFFFFFFF"},selected:{color:"#FFFFFFFF"}}}}},tabBar:{bg:{type:"background",data:{"default":{type:"solid",color:"#E1FFFFFF"}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FFC1C1C2",width:"1px"}}}},item:{bg:{type:"background",data:{"default":{},clicked:{}}},bubble:{bg:{type:"background",data:{"default":{},clicked:{type:"solid",color:"#3C000000"},selected:{type:"solid",color:"#FFb0b0b1"}}},brdr:{type:"border",data:{"default":{},clicked:{},selected:{}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"lnkTxt"}]},shadow:{x:"0",y:"1px",blur:"0",color:"#FFf6f5f1"}},clicked:{color:"#FFFFFFFF",shadow:{x:"0",y:"1px",blur:"0",color:"#FFa1a09e"}},selected:{color:"#FFFFFFFF",shadow:{x:"0",y:"1px",blur:"1px",color:"#FFa1a09e"}}}}},brdr:{type:"border",data:{"default":{},clicked:{}}}}},tab2Bar:{bg:{type:"background",data:{"default":{type:"gradient",orientation:"horizontal",color:[{color:"#DCCDCDCD",location:0},{color:"#E6FFFFFF",location:0.5},{color:"#DCCDCDCD",location:1}],shadow:[{isInset:true,x:"0px",y:"-1px",blur:"0px",color:{_replace:[{param:"lnkTxt"}]}},{isInset:true,x:"0px",y:"1px",blur:"0px",color:{_replace:[{param:"lnkTxt"}]}},{isInset:true,x:"0px",y:"1px",blur:"10px -2px",color:"#B4000000"},{isInset:true,x:"0px",y:"-1px",blur:"10px -2px",color:"#B4000000"}]}}},triangle:{type:"border",data:{"default":{top:{width:"6px",color:{_replace:[{param:"contAtxt"}]}},left:{width:"8px",color:"#00000000"},right:{width:"8px",color:"#00000000"},bottom:{width:"6px",color:{_replace:[{param:"contAtxt"}]}}}}},item:{bg:{type:"background",data:{"default":{type:"solid",color:"#00000000"},selected:{type:"solid",color:"#00000000"}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"lnkTxt"}]}},selected:{color:{_replace:[{param:"contAtxt"}]}}}}}},punch:{wideBg:{type:"background",data:{"default":{type:"solid",color:"#B2000000"}}},bgImage:{bg:{type:"background",data:{"default":{type:"solid",color:"#FF123456"}}},overlayBg:{type:"background",data:{"default":{type:"solid",color:"#DDFFFFFF"}}}},slot:{whole:{bg:{type:"svg",data:{"default":{type:"solid",color:{_replace:[{param:"actBtn"}]}}}},overlay:{type:"svg",data:{"default":{type:"solid",color:"#55FFFFFF"}}},txt:{type:"text",data:{"default":{color:"#FFFFFFFF"}}}},punch:{bg:{type:"svg",data:{"default":{type:"solid",color:{_replace:[{param:"actBtn"}]}}}},overlay:{type:"svg",data:{"default":{type:"solid",color:"#FFFFFFFF"}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"lnkTxt"}]}}}}}}},contTypeA:{hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contAhdlTxt"}]}}}},hdlTxtBrdr:{type:"border",data:{"default":{top:{width:"1px",color:"#FFCCCCCC"},bottom:{width:"1px",color:"#FFCCCCCC"}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contAtxt"}]}},mandatory:{color:"#FFBB0000"}}},subTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contAsubTxt"}]}}}},lnkTxt:{type:"text",data:{"default":{color:{_replace:[{param:"lnkTxt"}]}}}},hdlIcn:{type:"server_icon",data:{"default":{type:"solid",color:{_replace:[{param:"contAhdlTxt"}]},isBlack:true,isSimple:true}}},icn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"contAtxt"}]},isBlack:true,isSimple:false}}},subIcn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"contAsubTxt"}]},isBlack:true,isSimple:false}}},bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contAbg"}]}},clicked:{type:"solid",color:"#FFf5f3ef"},selected:{type:"solid",color:"#FFf7f7f7"}}},subBg:{type:"background",data:{"default":{type:"solid",color:"#FFeeeeee"}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"contAbrdr"}]},width:"1px"}},clicked:{},selected:{top:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}},bottom:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}},left:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}},right:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}}}}},classicItem:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contAbg"}]}},clicked:{type:"solid",color:"#FFf5f3ef"},selected:{type:"solid",color:"#FFf7f7f7"}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"contAbrdr"}]},width:"1px"}},clicked:{},selected:{top:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}},bottom:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}},left:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}},right:{width:"1px",color:{_replace:[{param:"contAbrdr",fn:"hsla",params:[1,1,0.5,1]}]}}}}}},btn:{bg:{type:"background",data:{"default":{type:"gradient",orientation:"vertical",color:[{color:"#FFfcfcfc",location:0},{color:"#FFe5e5e5",location:1}],shadow:[{isInset:false,x:"1px",y:"1px",blur:"2px",color:"#26000000"},{isInset:true,x:"-1px",y:"-1px",blur:"0px",color:"#CCFFFFFF"}]},clicked:{type:"gradient",orientation:"vertical",color:[{color:"#FFe5e5e5",location:0},{color:"#FFfcfcfc",location:1}],shadow:[{isInset:false,x:"1px",y:"1px",blur:"1px",color:"#4c000000"},{isInset:true,x:"1px",y:"1px",blur:"0px",color:"#CCFFFFFF"}]},disabled:{type:"gradient",orientation:"vertical",color:[{color:"#FFe7e7e7",location:0},{color:"#FFE6E6E6",location:1}]}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FFBFBBB8",width:"1px"},right:{color:"#FFBFBBB8",width:"1px"},left:{color:"#FFBFBBB8",width:"1px"},top:{color:"#FFBFBBB8",width:"1px"}},clicked:{bottom:{color:"#FFa7a7a7",width:"1px"},right:{color:"#FFa7a7a7",width:"1px"},left:{color:"#FFa7a7a7",width:"1px"},top:{color:"#FFa7a7a7",width:"1px"}}}},hdlTxt:{type:"text",data:{"default":{color:"#FF5F5B5A",shadow:{x:"0",y:"1px",blur:"0",color:"#80FFFFFF"}},selected:{color:"#CC000000",shadow:{x:"0",y:"1px",blur:"0",color:"#80FFFFFF"}},disabled:{color:"#ffCCCCCC"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FF2a2a2a",isBlack:true,isSimple:false}}}},actBtn:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"actBtn"}]}},clicked:{type:"solid",color:{_replace:[{param:"actBtn",fn:"t_hsla",params:[0.5,[1,1,1.3,1],[1,1,0.5,1]]}]}},disabled:{type:"solid",color:"#33333333"}}},brdr:{type:"border",data:{}},hdlTxt:{type:"text",data:{"default":{color:"#FFFFFFFF"},selected:{color:"#FFFFFFFF"},disabled:{color:"#ffCCCCCC"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}}},contentSession:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contAhdlTxt",fn:"hsla",params:[1,1,1,0.88]}]}}}},hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contAbg"}]}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contAbg",fn:"hsla",params:[1,1,1,0.69]}]}}}},subTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contAbg",fn:"hsla",params:[1,1,1,0.49]}]}}}},btn:{bg:{type:"background",data:{"default":{type:"solid",color:"#00FFFFFF",shadow:[{isInset:false,x:"0px",y:"0px",blur:"0px 1px",color:"#66000000"},{isInset:true,x:"1px",y:"1px",blur:"0px",color:"#4Dffffff"}]}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}}}},contentSession2:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"lnkTxt",fn:"hsla",params:[1,1,1,0.88]}]}}}},hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contAbg"}]}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contAbg",fn:"hsla",params:[1,1,1,0.69]}]}}}},subTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contAbg",fn:"hsla",params:[1,1,1,0.49]}]}}}},btn:{bg:{type:"background",data:{"default":{type:"solid",color:"#00FFFFFF",shadow:[{isInset:false,x:"1px",y:"1px",blur:"0px",color:"#66ffffff"},{isInset:true,x:"1px",y:"1px",blur:"3px",color:"#99000000"}]}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}}}},calBoxBrdr1:{type:"border",data:{"default":{top:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},bottom:{width:"1px",style:"dotted",color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,1,0.7]}]}}}}},calBoxBrdr2:{type:"border",data:{"default":{top:{width:"1px",style:"dotted",color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,1,0.7]}]}},bottom:{width:"1px",style:"dotted",color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,1,0.7]}]}}}}}},contTypeB:{hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contBhdlTxt"}]},shadow:{x:"1px",y:"1px",blur:"0",color:"#ccFFFFFF"}}}},hdlTxtBrdr:{type:"border",data:{"default":{top:{width:"1px",color:{_replace:[{param:"contBhdlTxt",fn:"hsla",params:[1,1,1,0.2]}]}},bottom:{width:"1px",color:{_replace:[{param:"contBhdlTxt",fn:"hsla",params:[1,1,1,0.2]}]}}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contBtxt"}]},shadow:{x:"1px",y:"1px",blur:"1px",color:"#FFFFFFFF"}},mandatory:{color:"#FFBB0000",shadow:{x:"1px",y:"1px",blur:"1px",color:"#FFFFFFFF"}}}},subTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contBsubTxt"}]},shadow:{x:"1px",y:"1px",blur:"1px",color:"#FFFFFFFF"}}}},lnkTxt:{type:"text",data:{"default":{color:{_replace:[{param:"lnkTxt"}]},shadow:{x:"1px",y:"1px",blur:"1px",color:"#FFf6f5f1"}}}},icn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"contBtxt"}]},isBlack:true,isSimple:false}}},subIcn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"contBsubTxt"}]},isBlack:true,isSimple:true}}},hdlIcn:{type:"server_icon",data:{"default":{type:"solid",color:{_replace:[{param:"contBhdlTxt"}]},isBlack:true,isSimple:true}}},bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.88]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}},clicked:{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.82]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}},selected:{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.82]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}}}},subBg:{type:"background",data:{"default":{type:"solid",color:"#FFe1e1e1"}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"}},clicked:{bottom:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"}},selected:{top:{color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,0.6,1]}]},width:"1px"},bottom:{color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,0.6,1]}]},width:"1px"},left:{color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,0.6,1]}]},width:"1px"},right:{color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,0.6,1]}]},width:"1px"}}}},bubbleItem:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.88]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}},clicked:{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.82]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}},selected:{type:"solid",color:{_replace:[{param:"contBbg"}]},shadow:[{isInset:false,x:"0px",y:"0px",blur:"1px",color:"#FFFFFFFF"},{isInset:false,x:"0px",y:"0px",blur:"2px",color:"#FFFFFFFF"},{isInset:false,x:"0px",y:"0px",blur:"2px",color:"#FFFFFFFF"},{isInset:false,x:"0px",y:"0px",blur:"2px",color:"#FFFFFFFF"}]}}},ovrImg:{bg:{type:"background",data:{"default":{type:"solid",color:"#B2000000"},clicked:{type:"solid",color:{_replace:[{param:"lnkTxt",fn:"hsla",params:[1,1,1,0.6]}]}},selected:{type:"solid",color:{_replace:[{param:"lnkTxt",fn:"hsla",params:[1,1,1,0.8]}]}}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#b2ffffff",isBlack:false,isSimple:false}}},hdlTxt:{type:"text",data:{"default":{color:"#FFFFFFFF"}}},txt:{type:"text",data:{"default":{color:"#B2FFFFFF"}}},subTxt:{type:"text",data:{"default":{color:"#7fFFFFFF"}}}},brdr:{type:"border",data:{}}},headerItem:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.88]}]}},clicked:{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.82]}]}},selected:{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.82]}]}}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"}}}}},trackItem:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.88]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}},clicked:{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.82]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}},selected:{type:"solid",color:{_replace:[{param:"contBbg"}]}}}},brdr:{type:"border",data:{"default":{top:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"},bottom:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"},left:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"},right:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"}},clicked:{top:{color:{_replace:[{param:"hdrBg"}]},width:"1px"},bottom:{color:{_replace:[{param:"hdrBg"}]},width:"1px"},left:{color:{_replace:[{param:"hdrBg"}]},width:"1px"},right:{color:{_replace:[{param:"hdrBg"}]},width:"1px"}},selected:{top:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"},bottom:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"},left:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"},right:{color:{_replace:[{param:"contBbrdr"}]},width:"1px"}}}}},fullPage:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.68]}]}}}}},fullPage2:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.1]}]}}}}},fullPage3:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.95]}]}}}}},sep:{brdr:{type:"border",data:{"default":{top:{width:"1px",color:{_replace:[{param:"contBbrdr",fn:"hsla",params:[1,1,0.6,1]}]}}}}}},btn:{bg:{type:"background",data:{"default":{type:"gradient",orientation:"vertical",color:[{color:"#FFFFFFFF",location:0},{color:"#FFE6E6E6",location:1}]},clicked:{type:"gradient",orientation:"vertical",color:[{color:"#ffdddddd",location:0},{color:"#ffcccccc",location:1}]},disabled:{type:"gradient",orientation:"vertical",color:[{color:"#FFe7e7e7",location:0},{color:"#FFE6E6E6",location:1}]}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FFBFBBB8",width:"1px"},right:{color:"#FFBFBBB8",width:"1px"},left:{color:"#FFBFBBB8",width:"1px"},top:{color:"#FFBFBBB8",width:"1px"}},clicked:{bottom:{color:"#FF757575",width:"1px"},right:{color:"#FF757575",width:"1px"},left:{color:"#FF757575",width:"1px"},top:{color:"#FF757575",width:"1px"}}}},hdlTxt:{type:"text",data:{"default":{color:"#FF5F5B5A",shadow:{x:"0",y:"1px",blur:"0",color:"#80FFFFFF"}},selected:{},disabled:{color:"#CCCCCCCC"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FF5F5B5A",isBlack:true,isSimple:false},clicked:{type:"solid",color:"#FF464342",isBlack:true,isSimple:false},disabled:{type:"solid",color:"#CCCCCCCC",isBlack:true,isSimple:false}}}},actBtn:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"actBtn"}]}},clicked:{type:"solid",color:{_replace:[{param:"actBtn",fn:"t_hsla",params:[0.5,[1,1,1.3,1],[1,1,0.5,1]]}]}},disabled:{type:"solid",color:"#33333333"}}},brdr:{type:"border",data:{}},hdlTxt:{type:"text",data:{"default":{color:"#FFFFFFFF"},selected:{color:"#FFFFFFFF"},disabled:{color:"#ffCCCCCC"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}}},subBtn:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBsubTxt",fn:"hsla",params:[1,1,0.8,1]}]}},selected:{type:"solid",color:{_replace:[{param:"contBsubTxt"}]}}}},hdlTxt:{type:"text",data:{"default":{color:"#FFFFFFFF",shadow:{x:"0px",y:"1px",blur:"1px",color:"#80FFFFFF"}}}}}},contTypeC:{hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contChdlTxt"}]}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contCtxt"}]}}}},subTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contCsubTxt"}]}}}},lnkTxt:{type:"text",data:{"default":{color:{_replace:[{param:"lnkTxt"}]}}}},bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contCbg",fn:"t_hsla",params:[0.5,[1,1,0.6,0.9],[1,1,0.3,0.9]]}]}}}},btn:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"actBtn"}]}},clicked:{type:"solid",color:{_replace:[{param:"actBtn",fn:"t_hsla",params:[0.5,[1,1,1.3,1],[1,1,0.5,1]]}]}},disabled:{type:"solid",color:"#33333333"}}},brdr:{type:"border",data:{}},hdlTxt:{type:"text",data:{"default":{color:"#FFFFFFFF"},selected:{color:"#FFFFFFFF"},disabled:{color:"#ffCCCCCC"}}}}},form:{element:{bg:{type:"background",data:{"default":{type:"gradient",orientation:"vertical",color:[{color:"#FFe4e4e4",location:0},{color:"#FF8d8d8d",location:1}]},mandatory:{type:"gradient",orientation:"vertical",color:[{color:"#FFFFFFFF",location:0},{color:"#FF8d8d8d",location:1}],shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#4cb60021"}}}},brdr:{type:"border",data:{"default":{top:{width:"1px",color:"#FFC1C1C2"},bottom:{width:"1px",color:"#FFC1C1C2"},left:{width:"1px",color:"#FFC1C1C2"},right:{width:"1px",color:"#FFC1C1C2"}},mandatory:{top:{color:"#FFB60021",width:"1px"},bottom:{color:"#FFB60021",width:"1px"},left:{color:"#FFB60021",width:"1px"},right:{color:"#FFB60021",width:"1px"}}}},txt:{type:"text",data:{"default":{color:"#FF111111"},watermark:{color:"#FF888888"},mandWatermark:{color:"#FFb60021"}}}},dropdown:{icn:{type:"icon",data:{"default":{type:"solid",color:"#FF2a2a2a",isBlack:true,isSimple:true}}},bg:{type:"background",data:{"default":{type:"solid",color:"#22000000"}}},brdr:{type:"border",data:{"default":{left:{color:"#FFC1C1C2",width:"1px"},right:{color:"#FFC1C1C2",width:"1px"}}}}},input:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF"},disabled:{type:"solid",color:"#FFCCCCCC"},mandatory:{type:"solid",color:"#FFfff8f8",shadow:{isInset:false,x:"1px",y:"1px",blur:"5px",color:"#4cb60021"}}}},brdr:{type:"border",data:{"default":{top:{width:"1px",color:"#FFC1C1C2"},bottom:{width:"1px",color:"#FFC1C1C2"},left:{width:"1px",color:"#FFC1C1C2"},right:{width:"1px",color:"#FFC1C1C2"}},diabled:{},mandatory:{top:{color:"#FFB60021",width:"1px"},bottom:{color:"#FFB60021",width:"1px"},left:{color:"#FFB60021",width:"1px"},right:{color:"#FFB60021",width:"1px"}}}},txt:{type:"text",data:{"default":{color:"#FF000000"},watermark:{color:"#FF8e8e8e"},mandWatermark:{color:"#FFb60021"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFa8a8a8",isBlack:false,isSimple:true},selected:{type:"solid",color:"#FF2a2a2a",isBlack:true,isSimple:true},clicked:{type:"solid",color:"#FF626262",isBlack:true,isSimple:true}}}},checkBox:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF",shadow:{isInset:true,x:"1px",y:"1px",blur:"2px",color:"#33000000"}},selected:{type:"solid",color:"#FFFFFFFF",shadow:{isInset:true,x:"1px",y:"1px",blur:"2px",color:"#33000000"}},mandatory:{type:"solid",color:"#FFFFFFFF",shadow:{isInset:true,x:"1px",y:"1px",blur:"2px",color:"#33000000"}},disabled:{type:"solid",color:"#54d3d3d3",shadow:{isInset:false,x:"0px",y:"1px",blur:"0px",color:"#FFFFFFFF"}}}},brdr:{type:"border",data:{"default":{top:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},bottom:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},left:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},right:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}}},selected:{top:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},bottom:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},left:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},right:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}}},mandatory:{top:{color:"#FFB60021",width:"1px"},bottom:{color:"#FFB60021",width:"1px"},left:{color:"#FFB60021",width:"1px"},right:{color:"#FFB60021",width:"1px"}},disabled:{top:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},bottom:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},left:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},right:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}}}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#00FFFFFF",isBlack:false,isSimple:true},selected:{type:"solid",color:"#FF2a2a2a",isBlack:true,isSimple:true}}}},radioBtn:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF",shadow:{isInset:true,x:"1px",y:"1px",blur:"2px",color:"#33000000"}},selected:{type:"solid",color:"#FFFFFFFF",shadow:{isInset:true,x:"1px",y:"1px",blur:"2px",color:"#33000000"}},mandatory:{type:"solid",color:"#FFFFFFFF",shadow:{isInset:true,x:"1px",y:"1px",blur:"2px",color:"#33000000"}},disabled:{type:"solid",color:"#54d3d3d3",shadow:{isInset:false,x:"0px",y:"1px",blur:"0px",color:"#FFFFFFFF"}}}},brdr:{type:"border",data:{"default":{top:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},bottom:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},left:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},right:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}}},selected:{top:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},bottom:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},left:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},right:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}}},mandatory:{top:{color:"#FFB60021",width:"1px"},bottom:{color:"#FFB60021",width:"1px"},left:{color:"#FFB60021",width:"1px"},right:{color:"#FFB60021",width:"1px"}},disabled:{top:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},bottom:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},left:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}},right:{width:"1px",color:{_replace:[{param:"contBbrdr"}]}}}}},icn:{type:"background",data:{"default":{},selected:{type:"solid",color:"#FF2a2a2a",isBlack:true,isSimple:true},disabled:{type:"solid",color:"#FFd3d3d3",isBlack:true,isSimple:true}}}}},audioPlayer:{hdlTxt:{type:"text",data:{"default":{color:{_replace:[{param:"hdrTxt"}]}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"hdrTxt",fn:"hsla",params:[1,1,1,0.8]}]}}}},icn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"hdrTxt"}]},isBlack:false,isSimple:false}}},bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"hdrBg",fn:"hsla",params:[1,1,0.3,1]}]}}}},bgMini:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"hdrBg",fn:"hsla",params:[1,1,0.3,1]}]}}}},brdr:{type:"border",data:{"default":{bottom:{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.5,0.7,0.9],[1,0.7,0.6,0.9]]}]},width:"1px"}}}},seekBar:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,1.3,1],[1,0.7,0.7,1]]}]},shadow:{isInset:true,x:"1px",y:"1px",blur:"2px",color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,0.001,1],[1,0.7,0.001,1]]}]}}}}},brdr:{type:"border",data:{"default":{top:{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,1.1,1],[1,0.7,0.7,1]]}]},width:"1px"},bottom:{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,1.8,1],[1,0.7,0.7,1]]}]},width:"1px"},right:{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,1.8,1],[1,0.7,0.7,1]]}]},width:"1px"},left:{color:{_replace:[{param:"hdrBg",fn:"t_hsla",params:[0.5,[1,0.7,1.1,1],[1,0.7,0.7,1]]}]},width:"1px"}}}},seekFill:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"hdrTxt"}]},shadow:{isInset:true,x:"0px",y:"1px",blur:"1px",color:"#ff000000"}}}}}},liveChat:{bubbleMe:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.88]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}}}},triangle:{type:"border",data:{"default":{ltrLeft:{color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.88]}]},width:"10px"},bottom:{color:"#00000000",width:"10px"},top:{color:"#00000000",width:"10px"}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contBhdlTxt"}]},shadow:{x:"1px",y:"1px",blur:"0",color:"#CCFFFFFF"}}}},subTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contBsubTxt"}]},shadow:{x:"1px",y:"1px",blur:"1px",color:"#FFFFFFFF"}}}}},bubbleOther:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contAbg"}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#96000000"}}}},triangle:{type:"border",data:{"default":{ltrRight:{color:{_replace:[{param:"contAbg"}]},width:"10px"},bottom:{color:"#00000000",width:"10px"},top:{color:"#00000000",width:"10px"}}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"contAhdlTxt"}]},shadow:{x:"1px",y:"1px",blur:"0px",color:"#CCFFFFFF"}}}},subTxt:{type:"text",data:{"default":{color:{_replace:[{param:"contBsubTxt"}]},shadow:{x:"1px",y:"1px",blur:"0px",color:"#FFFFFFFF"}}}}}},facebook:{txt:{type:"text",data:{"default":{color:"#FF576b95"}}},bubble:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFedeff4"}}},brdr:{type:"border",data:{"default":{left:{color:"#FFced5e4",width:"1px"},right:{color:"#FFced5e4",width:"1px"},bottom:{color:"#FFced5e4",width:"1px"},top:{color:"#FFced5e4",width:"1px"}}}},triangle:{type:"border",data:{"default":{left:{color:"#00000000",width:"4px"},right:{color:"#00000000",width:"4px"},bottom:{color:"#FFedeff4",width:"4px"}}}},triangleBrdr:{type:"border",data:{"default":{left:{color:"#00000000",width:"6px"},right:{color:"#00000000",width:"6px"},bottom:{color:"#FFced5e4",width:"6px"}}}}},btn:{bg:{type:"background",data:{"default":{type:"solid",color:"#00000000"},clicked:{type:"solid",color:"#FFFFCCAA"},disabled:{type:"solid",color:"#33333333"}}},brdr:{type:"border",data:{"default":{left:{color:"#00000000",width:"1px"},right:{color:"#00000000",width:"1px"},bottom:{color:"#00000000",width:"1px"},top:{color:"#00000000",width:"1px"}},clicked:{bottom:{color:"#FFFF6611",width:"1px"},right:{color:"#FFFF6611",width:"1px"},left:{color:"#FFFF6611",width:"1px"},top:{color:"#FFFF6611",width:"1px"}}}},hdlTxt:{type:"text",data:{"default":{color:"#FF576b95"},selected:{color:"#FF576b95"},disabled:{color:"#CCCCCCCC"}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FF5F5B5A",isBlack:true,isSimple:true},clicked:{type:"solid",color:"#FF464342",isBlack:true,isSimple:true},disabled:{type:"solid",color:"#CCCCCCCC",isBlack:true,isSimple:true}}}}},events:{calPict:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.78]}]},shadow:{isInset:false,x:"1px",y:"1px",blur:"2px",color:"#FF000000"}}}}}},comment:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF"}}},panel:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFF0F0F0"}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FFCCCCCC",width:"1px"}}}}}},images:{image1:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF"}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FFC1C1C2",width:"1px"},top:{color:"#FFC1C1C2",width:"1px"},right:{color:"#FFC1C1C2",width:"1px"},left:{color:"#FFC1C1C2",width:"1px"}}}}},image2:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF"}}},brdr:{type:"border",data:{"default":{bottom:{color:"#FF000000",width:"1px"},top:{color:"#FF000000",width:"1px"},right:{color:"#FF000000",width:"1px"},left:{color:"#FF000000",width:"1px"}}}}},catImage:{bg:{type:"background",data:{"default":{type:"solid",color:"#00000000",shadow:[{isInset:false,x:"0px",y:"0px",blur:"1px",color:"#FF000000"},{isInset:true,x:"0px",y:"0px",blur:"0px 3px",color:"#FFFFFFFF"},{isInset:true,x:"0px",y:"0px",blur:"1px 3px",color:"#66000000"}]},clicked:{type:"solid",color:"#00000000",shadow:{isInset:true,x:"1px",y:"1px",blur:"3px",color:"#CC000000"}},selected:{type:"solid",color:"#00000000",shadow:{isInset:true,x:"1px",y:"1px",blur:"3px",color:"#CC000000"}}}},bgGrad:{type:"background",data:{"default":{type:"gradient",orientation:"vertical",color:[{color:"#00000000",location:0},{color:"#00000000",location:0.47},{color:"#59000000",location:1}],shadow:[{isInset:false,x:"0px",y:"0px",blur:"1px",color:"#FF000000"},{isInset:true,x:"0px",y:"0px",blur:"0px 3px",color:"#FFFFFFFF"},{isInset:true,x:"0px",y:"0px",blur:"1px 3px",color:"#66000000"}]}}},txt:{type:"text",data:{"default":{color:"#FFFFFFFF",shadow:[{x:"0px",y:"0px",blur:"1px",color:"#FF000000"},{x:"1px",y:"1px",blur:"3px",color:"#CC000000"}]}}}},imgBtn:{bg:{type:"background",data:{"default":{type:"solid",color:"#FFFFFFFF",shadow:{isInset:false,x:"1px",y:"1px",blur:"3px",color:"#FF000000"}},clicked:{type:"solid",color:"#FFFFFFFF"},selected:{type:"solid",color:"#FFFFFFFF"}}},overlayBg:{type:"background",data:{"default":{type:"solid",color:"#99000000"},clicked:{type:"solid",color:"#00000000"},selected:{type:"solid",color:"#00000000"}}},brdr:{type:"border",data:{"default":{left:{color:"#ffffffff",width:"3px"},right:{color:"#ffffffff",width:"3px"},bottom:{color:"#ffffffff",width:"3px"},top:{color:"#ffffffff",width:"3px"}},clicked:{bottom:{color:"#00000000",width:"0px"},right:{color:"#00000000",width:"0px"},left:{color:"#00000000",width:"0px"},top:{color:"#00000000",width:"0px"}},selected:{bottom:{color:"#00000000",width:"0px"},right:{color:"#00000000",width:"0px"},left:{color:"#00000000",width:"0px"},top:{color:"#00000000",width:"0px"}}}}}},coupons:{claimed:{txt:{type:"text",data:{"default":{color:"#FFFFFFFF"}}},bg:{type:"background",data:{"default":{type:"solid",color:"#FF9cba3e",shadow:{isInset:true,x:"0px",y:"-1px",blur:"3px",color:"#96000000"}}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}},brdr:{type:"border",data:{"default":{bottom:{width:"1px",color:"#FF2a2a2a"}}}}},notClaimed:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"hdrBg"}]},shadow:{isInset:true,x:"0px",y:"-1px",blur:"3px",color:"#96000000"}}}},brdr:{type:"border",data:{"default":{bottom:{style:"dotted",width:"1px",color:"#FF2A2A2A"}}}}}},punchcards:{bg:{type:"background",data:{"default":{type:"solid",color:{_replace:[{param:"contBbg",fn:"hsla",params:[1,1,1,0.7]}]}}}},watermarkSlot:{bgIcn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"actBtn"}]},isBlack:true,isSimple:true}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#4cFFFFFF",isBlack:false,isSimple:true},selected:{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}},txt:{type:"text",data:{"default":{color:"#FFFFFFFF"},selected:{color:{_replace:[{param:"actBtn"}]}}}}},slot:{bgIcn:{type:"icon",data:{"default":{type:"solid",color:{_replace:[{param:"actBtn"}]},isBlack:true,isSimple:true}}},icn:{type:"icon",data:{"default":{type:"solid",color:"#FFFFFFFF",isBlack:false,isSimple:true}}},txt:{type:"text",data:{"default":{color:{_replace:[{param:"actBtn"}]}}}}}}};c.template=b}}}; var testServiceData=(function(){var b=[];if(false){b.push({key:"CMS_CALENDER_GET",result:{items:[{description:null,descriptionPlainText:null,id:"19939583",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:true,isRecurrence:false,location:"Lyon, France",meta:{ticketUrl:"http://www.songkick.com/festivals/86566/id/19939583-les-nuits-de-fourvire-2014?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Les Nuits de Fourvire 2014",socialId:"SongKick:19939583",title:"Les Nuits de Fourvire 2014",url:"http://www.songkick.com/festivals/86566/id/19939583-les-nuits-de-fourvire-2014?utm_source=7358&utm_medium=partner"},times:[{end:{localTime:1406678400,timeZoneOffset:0},endTime:1406678400,start:{localTime:1401753600,timeZoneOffset:0},startTime:1401753600}],title:"Les Nuits de Fourvire 2014",url:"http://www.songkick.com/festivals/86566/id/19939583-les-nuits-de-fourvire-2014?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:45.75,"long":4.85,state:null,street:null}},{description:null,descriptionPlainText:null,id:"20144213",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Charleston, WV, US",meta:{ticketUrl:"http://www.songkick.com/concerts/20144213-elton-john-at-charleston-civic-center?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Charleston Civic Center (June 11, 2014)",socialId:"SongKick:20144213",title:"Elton John at Charleston Civic Center (June 11, 2014)",url:"http://www.songkick.com/concerts/20144213-elton-john-at-charleston-civic-center?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1402516800,start:{localTime:1402516800,timeZoneOffset:-5},startTime:1402516800}],title:"Elton John at Charleston Civic Center (June 11, 2014)",url:"http://www.songkick.com/concerts/20144213-elton-john-at-charleston-civic-center?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:38.3556897,"long":-81.6409451,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18350264",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Manchester, TN, US",meta:{ticketUrl:"http://www.songkick.com/festivals/1234/id/18350264-bonnaroo-music-festival-2014?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Bonnaroo Music Festival 2014",socialId:"SongKick:18350264",title:"Bonnaroo Music Festival 2014",url:"http://www.songkick.com/festivals/1234/id/18350264-bonnaroo-music-festival-2014?utm_source=7358&utm_medium=partner"},times:[{end:{localTime:1402790400,timeZoneOffset:0},endTime:1402790400,start:{localTime:1402574400,timeZoneOffset:-6},startTime:1402574400}],title:"Bonnaroo Music Festival 2014",url:"http://www.songkick.com/festivals/1234/id/18350264-bonnaroo-music-festival-2014?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:35.4817,"long":-86.0886,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19331179",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Virginia Beach, VA, US",meta:{ticketUrl:"http://www.songkick.com/concerts/19331179-elton-john-at-farm-bureau-live-at-virginia-beach?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Farm Bureau Live at Virginia Beach (June 12, 2014)",socialId:"SongKick:19331179",title:"Elton John at Farm Bureau Live at Virginia Beach (June 12, 2014)",url:"http://www.songkick.com/concerts/19331179-elton-john-at-farm-bureau-live-at-virginia-beach?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1402603200,start:{localTime:1402603200,timeZoneOffset:-5},startTime:1402603200}],title:"Elton John at Farm Bureau Live at Virginia Beach (June 12, 2014)",url:"http://www.songkick.com/concerts/19331179-elton-john-at-farm-bureau-live-at-virginia-beach?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:36.7686679,"long":-76.1019623,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19348119",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Charlotte, NC, US",meta:{ticketUrl:"http://www.songkick.com/concerts/19348119-elton-john-at-pnc-music-pavilion-charlotte?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at PNC Music Pavilion Charlotte (June 14, 2014)",socialId:"SongKick:19348119",title:"Elton John at PNC Music Pavilion Charlotte (June 14, 2014)",url:"http://www.songkick.com/concerts/19348119-elton-john-at-pnc-music-pavilion-charlotte?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1402776000,start:{localTime:1402776000,timeZoneOffset:-5},startTime:1402776000}],title:"Elton John at PNC Music Pavilion Charlotte (June 14, 2014)",url:"http://www.songkick.com/concerts/19348119-elton-john-at-pnc-music-pavilion-charlotte?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:35.327362,"long":-80.7106699,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18595474",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Manchester, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/18595474-elton-john-at-leigh-sports-village-stadium?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Leigh Sports Village Stadium (June 21, 2014)",socialId:"SongKick:18595474",title:"Elton John at Leigh Sports Village Stadium (June 21, 2014)",url:"http://www.songkick.com/concerts/18595474-elton-john-at-leigh-sports-village-stadium?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1403377200,start:{localTime:1403377200,timeZoneOffset:0},startTime:1403377200}],title:"Elton John at Leigh Sports Village Stadium (June 21, 2014)",url:"http://www.songkick.com/concerts/18595474-elton-john-at-leigh-sports-village-stadium?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:53.4887112,"long":-2.5302558,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18619204",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Leigh, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/18619204-elton-john-at-leigh-sports-village-stadium?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Leigh Sports Village Stadium (June 21, 2014)",socialId:"SongKick:18619204",title:"Elton John at Leigh Sports Village Stadium (June 21, 2014)",url:"http://www.songkick.com/concerts/18619204-elton-john-at-leigh-sports-village-stadium?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1403377200,start:{localTime:1403377200,timeZoneOffset:0},startTime:1403377200}],title:"Elton John at Leigh Sports Village Stadium (June 21, 2014)",url:"http://www.songkick.com/concerts/18619204-elton-john-at-leigh-sports-village-stadium?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:53.4887112,"long":-2.5302558,state:null,street:null}},{description:null,descriptionPlainText:null,id:"20011373",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"St. Gallen, Switzerland",meta:{ticketUrl:"http://www.songkick.com/concerts/20011373-elton-john-at-afg-arena?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Afg Arena (June 22, 2014)",socialId:"SongKick:20011373",title:"Elton John at Afg Arena (June 22, 2014)",url:"http://www.songkick.com/concerts/20011373-elton-john-at-afg-arena?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1403456400,start:{localTime:1403456400,timeZoneOffset:0},startTime:1403456400}],title:"Elton John at Afg Arena (June 22, 2014)",url:"http://www.songkick.com/concerts/20011373-elton-john-at-afg-arena?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:47.4076298,"long":9.3039444,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18595479",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Nottingham, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/18595479-elton-john-at-capital-fm-arena?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Capital FM Arena (June 24, 2014)",socialId:"SongKick:18595479",title:"Elton John at Capital FM Arena (June 24, 2014)",url:"http://www.songkick.com/concerts/18595479-elton-john-at-capital-fm-arena?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1403636400,start:{localTime:1403636400,timeZoneOffset:0},startTime:1403636400}],title:"Elton John at Capital FM Arena (June 24, 2014)",url:"http://www.songkick.com/concerts/18595479-elton-john-at-capital-fm-arena?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:52.954,"long":-1.147,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19212029",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Buckinghamshire, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/19212029-sir-elton-john-in-a-concert-for-sportsaid-at-stoke-park-country-club?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Sir Elton John in a Concert for Sportsaid with Elton John at Stoke Park Country Club (June 28, 2014)",socialId:"SongKick:19212029",title:"Sir Elton John in a Concert for Sportsaid with Elton John at Stoke Park Country Club (June 28, 2014)",url:"http://www.songkick.com/concerts/19212029-sir-elton-john-in-a-concert-for-sportsaid-at-stoke-park-country-club?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1403971200,start:{localTime:1403971200,timeZoneOffset:0},startTime:1403971200}],title:"Sir Elton John in a Concert for Sportsaid with Elton John at Stoke Park Country Club (June 28, 2014)",url:"http://www.songkick.com/concerts/19212029-sir-elton-john-in-a-concert-for-sportsaid-at-stoke-park-country-club?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:51.538304,"long":-0.5958137,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18961884",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Slough, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/18961884-elton-john-at-stoke-park-country-club?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Stoke Park Country Club (June 28, 2014)",socialId:"SongKick:18961884",title:"Elton John at Stoke Park Country Club (June 28, 2014)",url:"http://www.songkick.com/concerts/18961884-elton-john-at-stoke-park-country-club?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1403974800,start:{localTime:1403974800,timeZoneOffset:0},startTime:1403974800}],title:"Elton John at Stoke Park Country Club (June 28, 2014)",url:"http://www.songkick.com/concerts/18961884-elton-john-at-stoke-park-country-club?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:51.5105384,"long":-0.5950406,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18595489",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Colchester, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/18595489-elton-john-at-weston-homes-community-stadium?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Weston Homes Community Stadium (June 29, 2014)",socialId:"SongKick:18595489",title:"Elton John at Weston Homes Community Stadium (June 29, 2014)",url:"http://www.songkick.com/concerts/18595489-elton-john-at-weston-homes-community-stadium?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1404068400,start:{localTime:1404068400,timeZoneOffset:0},startTime:1404068400}],title:"Elton John at Weston Homes Community Stadium (June 29, 2014)",url:"http://www.songkick.com/concerts/18595489-elton-john-at-weston-homes-community-stadium?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:51.9225085,"long":0.8962362,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18796959",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Newcastle Upon Tyne, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/18796959-elton-john-at-metro-radio-arena?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Metro Radio Arena (July 2, 2014)",socialId:"SongKick:18796959",title:"Elton John at Metro Radio Arena (July 2, 2014)",url:"http://www.songkick.com/concerts/18796959-elton-john-at-metro-radio-arena?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1404327600,start:{localTime:1404327600,timeZoneOffset:0},startTime:1404327600}],title:"Elton John at Metro Radio Arena (July 2, 2014)",url:"http://www.songkick.com/concerts/18796959-elton-john-at-metro-radio-arena?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:54.9630746,"long":-1.624028,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19935638",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:true,isRecurrence:false,location:"Girona, Spain",meta:{ticketUrl:"http://www.songkick.com/concerts/19935638-elton-john-at-jardins-de-cap-roig?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Jardins De Cap Roig (July 4, 2014)",socialId:"SongKick:19935638",title:"Elton John at Jardins De Cap Roig (July 4, 2014)",url:"http://www.songkick.com/concerts/19935638-elton-john-at-jardins-de-cap-roig?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1404432000,start:{localTime:1404432000,timeZoneOffset:0},startTime:1404432000}],title:"Elton John at Jardins De Cap Roig (July 4, 2014)",url:"http://www.songkick.com/concerts/19935638-elton-john-at-jardins-de-cap-roig?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:41.9809,"long":2.81874,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19382974",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Aalborg, Denmark",meta:{ticketUrl:"http://www.songkick.com/concerts/19382974-elton-john-at-skovdalen?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Skovdalen (July 5, 2014)",socialId:"SongKick:19382974",title:"Elton John at Skovdalen (July 5, 2014)",url:"http://www.songkick.com/concerts/19382974-elton-john-at-skovdalen?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1404590400,start:{localTime:1404590400,timeZoneOffset:1},startTime:1404590400}],title:"Elton John at Skovdalen (July 5, 2014)",url:"http://www.songkick.com/concerts/19382974-elton-john-at-skovdalen?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:57.05,"long":9.93333,state:null,street:null}},{description:null,descriptionPlainText:null,id:"17587539",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Halle, Germany",meta:{ticketUrl:"http://www.songkick.com/concerts/17587539-elton-john-at-gerryweberstadion?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Gerry-Weber-Stadion (July 6, 2014)",socialId:"SongKick:17587539",title:"Elton John at Gerry-Weber-Stadion (July 6, 2014)",url:"http://www.songkick.com/concerts/17587539-elton-john-at-gerryweberstadion?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1404673200,start:{localTime:1404673200,timeZoneOffset:1},startTime:1404673200}],title:"Elton John at Gerry-Weber-Stadion (July 6, 2014)",url:"http://www.songkick.com/concerts/17587539-elton-john-at-gerryweberstadion?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:51.5,"long":12,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18196624",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Fulda, Germany",meta:{ticketUrl:"http://www.songkick.com/concerts/18196624-elton-john-at-domplatz?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John with Greatest Hits Live 2014 at Domplatz (July 10, 2014)",socialId:"SongKick:18196624",title:"Elton John with Greatest Hits Live 2014 at Domplatz (July 10, 2014)",url:"http://www.songkick.com/concerts/18196624-elton-john-at-domplatz?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405020600,start:{localTime:1405020600,timeZoneOffset:1},startTime:1405020600}],title:"Elton John with Greatest Hits Live 2014 at Domplatz (July 10, 2014)",url:"http://www.songkick.com/concerts/18196624-elton-john-at-domplatz?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:50.55,"long":9.66667,state:null,street:null}},{description:null,descriptionPlainText:null,id:"15579729",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Dresden, Germany",meta:{ticketUrl:"http://www.songkick.com/concerts/15579729-elton-john-at-theaterplatz-vor-der-semperoper?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Theaterplatz Vor Der Semperoper (July 11, 2014)",socialId:"SongKick:15579729",title:"Elton John at Theaterplatz Vor Der Semperoper (July 11, 2014)",url:"http://www.songkick.com/concerts/15579729-elton-john-at-theaterplatz-vor-der-semperoper?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405105200,start:{localTime:1405105200,timeZoneOffset:1},startTime:1405105200}],title:"Elton John at Theaterplatz Vor Der Semperoper (July 11, 2014)",url:"http://www.songkick.com/concerts/15579729-elton-john-at-theaterplatz-vor-der-semperoper?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:51.05,"long":13.75,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19885878",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Leamington Spa, UK",meta:{ticketUrl:"http://www.songkick.com/concerts/19885878-elton-john-at-assembly?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at The Assembly (July 11, 2014)",socialId:"SongKick:19885878",title:"Elton John at The Assembly (July 11, 2014)",url:"http://www.songkick.com/concerts/19885878-elton-john-at-assembly?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405105200,start:{localTime:1405105200,timeZoneOffset:0},startTime:1405105200}],title:"Elton John at The Assembly (July 11, 2014)",url:"http://www.songkick.com/concerts/19885878-elton-john-at-assembly?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:52.2857563,"long":-1.5335069,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19466864",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Carcassonne, France",meta:{ticketUrl:"http://www.songkick.com/concerts/19466864-elton-john-at-theatre-jean-deschamps?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Theatre Jean Deschamps (July 15, 2014)",socialId:"SongKick:19466864",title:"Elton John at Theatre Jean Deschamps (July 15, 2014)",url:"http://www.songkick.com/concerts/19466864-elton-john-at-theatre-jean-deschamps?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405459800,start:{localTime:1405459800,timeZoneOffset:1},startTime:1405459800}],title:"Elton John at Theatre Jean Deschamps (July 15, 2014)",url:"http://www.songkick.com/concerts/19466864-elton-john-at-theatre-jean-deschamps?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:43.2167,"long":2.35,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18957439",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Carhaix, France",meta:{ticketUrl:"http://www.songkick.com/concerts/18957439-festival-les-vieilles-charrues-2014-at-site-de-kerampuilh?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Festival Les Vieilles Charrues 2014 with Elton John, Arctic Monkeys, Girls In Hawaii, and 2 more at Site De Kerampuilh (July 17, 2014)",socialId:"SongKick:18957439",title:"Festival Les Vieilles Charrues 2014 with Elton John, Arctic Monkeys, Girls In Hawaii, and 2 more at Site De Kerampuilh (July 17, 2014)",url:"http://www.songkick.com/concerts/18957439-festival-les-vieilles-charrues-2014-at-site-de-kerampuilh?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405612800,start:{localTime:1405612800,timeZoneOffset:1},startTime:1405612800}],title:"Festival Les Vieilles Charrues 2014 with Elton John, Arctic Monkeys, Girls In Hawaii, and 2 more at Site De Kerampuilh (July 17, 2014)",url:"http://www.songkick.com/concerts/18957439-festival-les-vieilles-charrues-2014-at-site-de-kerampuilh?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:48.2763,"long":-3.57391,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18957444",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Carhaix, France",meta:{ticketUrl:"http://www.songkick.com/concerts/18957444-elton-john-at-site-de-kerampuilh?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John with Tinariwen, Stromae, and Festival Les Vieilles Charrues 2014 at Site De Kerampuilh (July 18, 2014)",socialId:"SongKick:18957444",title:"Elton John with Tinariwen, Stromae, and Festival Les Vieilles Charrues 2014 at Site De Kerampuilh (July 18, 2014)",url:"http://www.songkick.com/concerts/18957444-elton-john-at-site-de-kerampuilh?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405695600,start:{localTime:1405695600,timeZoneOffset:1},startTime:1405695600}],title:"Elton John with Tinariwen, Stromae, and Festival Les Vieilles Charrues 2014 at Site De Kerampuilh (July 18, 2014)",url:"http://www.songkick.com/concerts/18957444-elton-john-at-site-de-kerampuilh?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:48.2763,"long":-3.57391,state:null,street:null}},{description:null,descriptionPlainText:null,id:"17597259",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Mainz, Germany",meta:{ticketUrl:"http://www.songkick.com/concerts/17597259-elton-john-at-nordmole-zollhafen?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Nordmole / Zollhafen (July 19, 2014)",socialId:"SongKick:17597259",title:"Elton John at Nordmole / Zollhafen (July 19, 2014)",url:"http://www.songkick.com/concerts/17597259-elton-john-at-nordmole-zollhafen?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405800000,start:{localTime:1405800000,timeZoneOffset:1},startTime:1405800000}],title:"Elton John at Nordmole / Zollhafen (July 19, 2014)",url:"http://www.songkick.com/concerts/17597259-elton-john-at-nordmole-zollhafen?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:50.0129426,"long":8.2635935,state:null,street:null}},{description:null,descriptionPlainText:null,id:"18196629",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Mnchengladbach, Germany",meta:{ticketUrl:"http://www.songkick.com/concerts/18196629-elton-john-at-warsteiner-hockey-park?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John with Live Open Air Warsteiner Hockeypark at Warsteiner Hockey Park (July 20, 2014)",socialId:"SongKick:18196629",title:"Elton John with Live Open Air Warsteiner Hockeypark at Warsteiner Hockey Park (July 20, 2014)",url:"http://www.songkick.com/concerts/18196629-elton-john-at-warsteiner-hockey-park?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1405882800,start:{localTime:1405882800,timeZoneOffset:1},startTime:1405882800}],title:"Elton John with Live Open Air Warsteiner Hockeypark at Warsteiner Hockey Park (July 20, 2014)",url:"http://www.songkick.com/concerts/18196629-elton-john-at-warsteiner-hockey-park?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:51.17722,"long":6.3904,state:null,street:null}},{description:null,descriptionPlainText:null,id:"19011609",imageUrl:"http://storage.conduit.com/images/mobile/deviceicons/eventdefault.jpg",isAllDayEvent:false,isRecurrence:false,location:"Regensburg, Germany",meta:{ticketUrl:"http://www.songkick.com/concerts/19011609-elton-john-at-schloss-thurn-und-taxis?utm_source=7358&utm_medium=partner"},owner:null,socialInfo:{imageUrl:null,shortDesc:"Elton John at Schloss Thurn Und Taxis (July 22, 2014)",socialId:"SongKick:19011609",title:"Elton John at Schloss Thurn Und Taxis (July 22, 2014)",url:"http://www.songkick.com/concerts/19011609-elton-john-at-schloss-thurn-und-taxis?utm_source=7358&utm_medium=partner"},times:[{end:null,endTime:1406059200,start:{localTime:1406059200,timeZoneOffset:1},startTime:1406059200}],title:"Elton John at Schloss Thurn Und Taxis (July 22, 2014)",url:"http://www.songkick.com/concerts/19011609-elton-john-at-schloss-thurn-und-taxis?utm_source=7358&utm_medium=partner",venue:{city:null,country:null,lat:49.01482,"long":12.09251,state:null,street:null}}],paging:{next:"http://cms.mobile.qasite-services.com/calendar/4/?id=371163&max-results=25&start-index=25&since=%24date&until=%24date%2b6m&params=%7b%22order%22%3a%22asc%22%7d",nextUrl:"http://cms.mobile.qasite-services.com/calendar/4/?id=371163&max-results=25&start-index=25&since=%24date&until=%24date%2b6m&params=%7b%22order%22%3a%22asc%22%7d"},totalItems:32}})}if(false){b.push({key:"CMS_CONTENT_ITEMS",result:{category:null,collection:null,items:[{description:"The Dragonflies / Jeans",id:"669998321",name:"BIKER DENIM TROUSERS",type:"83a5a90b-6950-49c3-a0c9-594f82df3e6a",meta:{currency:"ILS",currencySign:"",details:"",images:{main1:"http://cdn.shopify.com/s/files/1/0353/4129/products/1889401407_1_1_1.jpg?v=1396879144",main2:"http://cdn.shopify.com/s/files/1/0353/4129/products/1889401407_2_1_1.jpg?v=1396879144",main3:"http://cdn.shopify.com/s/files/1/0353/4129/products/1889401407_2_3_1.jpg?v=1396879144"},links:{store:"http://the-dragonflies.myshopify.com/cart/669998321:1?rel=ConduitPermalink"},price:"299",priceInt:299}},{description:"The Dragonflies / Shirts",id:"670038649",name:"DENIM SHIRT WITH POCKETS",type:"83a5a90b-6950-49c3-a0c9-594f82df3e6a",meta:{currency:"ILS",currencySign:"",details:"",images:{main1:"http://cdn.shopify.com/s/files/1/0353/4129/products/6096474406_2_2_1.jpg?v=1396879919",main2:"http://cdn.shopify.com/s/files/1/0353/4129/products/6096474406_2_3_1.jpg?v=1396879919",main3:"http://cdn.shopify.com/s/files/1/0353/4129/products/6096474406_2_4_1.jpg?v=1396879919"},links:{store:"http://the-dragonflies.myshopify.com/cart/670038649:1?rel=ConduitPermalink"},price:"149",priceInt:149}},{description:"The Dragonflies / Jeans",id:"669968577",name:"DENIM TROUSERS WITH KNEE PATCH",type:"83a5a90b-6950-49c3-a0c9-594f82df3e6a",meta:{currency:"ILS",currencySign:"",details:"",images:{main1:"http://cdn.shopify.com/s/files/1/0353/4129/products/1889400406_2_1_1.jpg?v=1396878053",main2:"http://cdn.shopify.com/s/files/1/0353/4129/products/1889400406_6_1_1.jpg?v=1396878053",main3:"http://cdn.shopify.com/s/files/1/0353/4129/products/1889400406_2_6_1.jpg?v=1396878053"},links:{store:"http://the-dragonflies.myshopify.com/cart/669968577:1?rel=ConduitPermalink"},price:"149",priceInt:149}}],totalItems:3}})}if(false){b.push({key:"DISCUSSION_MESSAGES_GET",result:{items:[{fromId:"100",ts:1359529950432,message:{text:"aaa bbb asda fasf asdgs drfg"}},{fromId:"100",ts:1359529000000,message:{text:"sdf sdf w4rt esgerty"}},{fromId:"123456",ts:1359520000000,message:{text:"It's me! again!"}},{fromId:"100",ts:1359500000000,message:{text:"hi, I'm another user"}},{fromId:"123456",ts:1359000000000,message:{text:"old message"}}],nextUrl:"http://...."}})}if(false){b.push({key:"ADS_POST",result:[{cId:"ConduitMobile2",displayType:2,imageUrl:"http://storage.conduit.com/Images/Mobile/ads/Banner_320x50.png",impressionId:"1ac37464-c6ea-462f-90dc-35fd3e9dbf0d",link:"http://ads.mobile.conduit-services.com/click/?link=http%3a%2f%2fmobile.conduit.com%2fWhy-Conduit-Mobile.aspx&appId=323666de-61b7-4aef-913b-3cc533ad532a&deviceType=1&cId=ConduitMobile2&displayType=2&imageUrl=http%3a%2f%2fstorage.conduit.com%2fImages%2fMobile%2fads%2fBanner_320x50.png&text=Conduit+Mobile&impId=1ac37464-c6ea-462f-90dc-35fd3e9dbf0d",slot:1,text:"Conduit Mobile"},{cId:"99999",displayType:2,imageUrl:"http://cdas.buzzcity.net/img.php?contentid=adc48bec0166df5c",impressionId:"ed57e64e-efd4-4285-8962-01e5a69ca713",link:"http://ads.mobile.conduit-services.com/click/?link=http%3a%2f%2fm2m1.inner-active.com%2fsimpleM2M%2fClientUpdateStatus%3fcn%3dConDoIt_ConDoItTest%26v%3dSm2m-1_5_1%26ci%3d99999%26s%3d1860345477%26cip%3d188-120-136-220%26po%3d559%26re%3d1%26lt%3d12%26cc%3dIL&appId=323666de-61b7-4aef-913b-3cc533ad532a&deviceType=1&cId=99999&displayType=2&imageUrl=http%3a%2f%2fcdas.buzzcity.net%2fimg.php%3fcontentid%3dadc48bec0166df5c&text=&impId=ed57e64e-efd4-4285-8962-01e5a69ca713",slot:1,text:""}]})}if(false){b.push({key:"DISCUSSION_MESSAGES_SEND_POST",result:{discussionId:"17"}})}if(false){b.push({key:"COMMUNITY_SOCIAL_LOGIN_POST",result:function(f,g){return{userId:"123456",profile:{id:"123456",img:{original:g.data.pictureUrl||""},name:"test_"+g.data.firstname,company:"company test",field:"test_"+g.data.industry,summary:"test_summary",country:"test_country",job_title:"test_"+g.data.sub_headline}}}})}if(false){b.push({key:"COMMUNITY_SOCIAL_LOGOUT_POST",result:{}})}if(false){b.push({key:"CMS_MEDIA_AUDIO_GET",result:{total:10,items:[{id:"media1087029",title:"Mind Freak - W.I.P",description:"Mind Freak - W.I.P",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/24/23711/encode_mp3/Mind_Freak.mp3",type:"audio/mpeg",mediaType:1},duration:80,author:"TheSleepingObama",socialInfo:{socialId:"Videos:media1087029",url:"http://www.moddb.com/mods/black-mesa-resonance1/audio/mind-freak-wip",title:"Mind Freak - W.I.P",shortDesc:"Mind Freak - W.I.P",imageUrl:null},time:1398745145,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/black-mesa-resonance1/audio/mind-freak-wip#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1086639",title:"Sancho Studios: Gravemind",description:"Sancho Studios: Gravemind",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/12/11043/encode_mp3/Gravemind_UI_Announcements.mp3",type:"audio/mpeg",mediaType:1},duration:108,author:"Sancho_I_Am",socialInfo:{socialId:"Videos:media1086639",url:"http://www.moddb.com/mods/halo-sins-of-the-prophets/audio/sancho-studios-gravemind",title:"Sancho Studios: Gravemind",shortDesc:"Sancho Studios: Gravemind",imageUrl:null},time:1398696155,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/halo-sins-of-the-prophets/audio/sancho-studios-gravemind#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1086484",title:"Agribolt Industries Ambient Loop (not finished)",description:"Agribolt Industries Ambient Loop (not finished)",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/23/22533/encode_mp3/agr_ind_main_bg_loop.mp3",type:"audio/mpeg",mediaType:1},duration:51,author:"E8S",socialInfo:{socialId:"Videos:media1086484",url:"http://www.moddb.com/mods/kknd-frontfire/audio/agribolt-industries-ambient-loop-not-finished",title:"Agribolt Industries Ambient Loop (not finished)",shortDesc:"Agribolt Industries Ambient Loop (not finished)",imageUrl:null},time:1398681515,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/kknd-frontfire/audio/agribolt-industries-ambient-loop-not-finished#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1085109",title:"Another and Final (For now) Menu Music!",description:"Another and Final (For now) Menu Music!",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/23/22273/encode_mp3/UND_Zann_Consortium_Theme.2.mp3",type:"audio/mpeg",mediaType:1},duration:187,author:"Emperorniko",socialInfo:{socialId:"Videos:media1085109",url:"http://www.moddb.com/mods/knights-of-the-old-empire/audio/another-and-final-for-now-menu-music",title:"Another and Final (For now) Menu Music!",shortDesc:"Another and Final (For now) Menu Music!",imageUrl:null},time:1398495656,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/knights-of-the-old-empire/audio/another-and-final-for-now-menu-music#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1084950",title:"Wooden Floor - Soundtrack Preview",description:"Wooden Floor - Soundtrack Preview",stream:{url:"http://cdn.dbolical.com/cache/audio/games/1/29/28520/encode_mp3/gabepreviewindiedb.mp3",type:"audio/mpeg",mediaType:1},duration:70,author:"pheenix93",socialInfo:{socialId:"Videos:media1084950",url:"http://www.moddb.com/games/wooden-floor/audio/wooden-floor-soundtrack-preview",title:"Wooden Floor - Soundtrack Preview",shortDesc:"Wooden Floor - Soundtrack Preview",imageUrl:null},time:1398456117,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/games/wooden-floor/audio/wooden-floor-soundtrack-preview#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1084479",title:"Remember - Final",description:"Remember - Final",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/10/9722/encode_mp3/Remember_Final_Fixed.mp3",type:"audio/mpeg",mediaType:1},duration:121,author:"McChaffe",socialInfo:{socialId:"Videos:media1084479",url:"http://www.moddb.com/mods/halo-homefront/audio/remember-final",title:"Remember - Final",shortDesc:"Remember - Final",imageUrl:null},time:1398390915,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/halo-homefront/audio/remember-final#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1084402",title:"RoKkO's mod pack music tape #1",description:"RoKkO's mod pack music tape #1",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/24/23162/encode_mp3/Untitled1.mp3",type:"audio/mpeg",mediaType:1},duration:54,author:"_-RoKkO-_",socialInfo:{socialId:"Videos:media1084402",url:"http://www.moddb.com/mods/rokkos-mod-pack/audio/rokkos-mod-pack-music-tape-1",title:"RoKkO's mod pack music tape #1",shortDesc:"RoKkO's mod pack music tape #1",imageUrl:null},time:1398370452,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/rokkos-mod-pack/audio/rokkos-mod-pack-music-tape-1#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1083953",title:"Inner Sanctum",description:"Inner Sanctum",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/25/24585/encode_mp3/Inner_Sanctum.mp3",type:"audio/mpeg",mediaType:1},duration:250,author:"Tychaos",socialInfo:{socialId:"Videos:media1083953",url:"http://www.moddb.com/mods/dark-tower/audio/inner-sanctum",title:"Inner Sanctum",shortDesc:"Inner Sanctum",imageUrl:null},time:1398303370,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/dark-tower/audio/inner-sanctum#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1083409",title:"UED BGM Sample",description:"UED BGM Sample",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/21/20859/encode_mp3/UED_Fast.mp3",type:"audio/mpeg",mediaType:1},duration:105,author:"Black_Overseer",socialInfo:{socialId:"Videos:media1083409",url:"http://www.moddb.com/mods/burningground/audio/ued-bgm-sample",title:"UED BGM Sample",shortDesc:"UED BGM Sample",imageUrl:null},time:1398245557,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/burningground/audio/ued-bgm-sample#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}},{id:"media1082629",title:"Main menu music",description:"Main menu music",stream:{url:"http://cdn.dbolical.com/cache/audio/mods/1/25/24039/encode_mp3/Siege.1.mp3",type:"audio/mpeg",mediaType:1},duration:246,author:"AubeSangante",socialInfo:{socialId:"Videos:media1082629",url:"http://www.moddb.com/mods/revolution/audio/main-menu-music",title:"Main menu music",shortDesc:"Main menu music",imageUrl:null},time:1398123815,smallThumbnail:null,mediumThumbnail:null,largeThumbnail:null,link:"http://www.moddb.com/mods/revolution/audio/main-menu-music#noredirect",categories:[],textItems:[],credits:{},info:{rating:{avg:null,total:null},stats:{favorite:null,view:null}}}],title:"Videos & Audio RSS feed - Mod DB",description:"Subscribe to the Mod DB  video & audio feed, and get the latest eye candy as it is posted.",author:"Mod DB",categories:["Media"],paging:null}})}if(TEST_LOYALTY||false){b.push({key:"CMS_COUPONS_GET",result:{items:[{id:"asd2",couponType:couponsEnums.couponType.DISCOUNT,claim:true,title:"Main title",description:"Description: In marketing, a coupon is a ticket or document that can be exchanged for a financial discount or rebate when purchasing a product. Customarily, coupons are issued by manufacturers of consumer packaged goods or by retailers, to be used in retail stores as a part of sales promotions. They are often widely distributed through mail, coupon envelopes, magazines, newspapers, the Internet, directly from the retailer, and mobile devices such as cell phones. Since only price conscious consumers are likely to spend the time to claim the savings, coupons function as a form of price discrimination, enabling retailers to offer a lower price only to those consumers who would otherwise go elsewhere. In addition, coupons can also be targeted selectively to regional markets in which price competition is great.",imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR5pd7BeJq7Wh1kbFYuo1iE68tkfpd8ye3S0q1UPPEAFxm8IgEU",largeImageUrl:"http://4.bp.blogspot.com/-0iGBZFMUnBU/UVoUKl7je-I/AAAAAAAACdg/892VnLbLGhk/s1600/Gift_Giving_Tips.jpg",dealDetails:"Deal details: Australian consumers first came in contact with couponing when Shop A Docket promoted offers and discounts on the back of shopping receipts in 1986.",disclaimer:"disclaimer text: Coupon manufacturers may or may not place restrictions on coupons limiting their transferability to ensure the coupons stay within the targeted market. Since such restrictions are not universal and are difficult and/or costly to enforce, limited coupon trading is tolerated in the industry. Organized coupon exchange clubs are commonly found in regions where coupons are distributed. Often coupons are available for purchase at some online sites, but since most coupons are not allowed to be sold, the fee is considered to be for the time and effort put into cutting out the coupons.",productDiscount:{discountType:couponsEnums.discountType.PERCENT,offerType:couponsEnums.offerType.DISCOUNT,price:200,discount:40,upperTitle:null,lowerTitle:null,offerTitle:"",currency:"USD",currencySymbol:"$"},validity:{validFrom:1369438194,validUntil:1369538194,hours:[{days:[1,2,3,4,5,6,7],startHour:"8:00",endHour:"16:30"}]},linkCaption:"",linkUrl:"http://www.nba.com",socialInfo:{title:"Buy a new giraffe in only 60$",imageUrl:"http://4.bp.blogspot.com/-0iGBZFMUnBU/UVoUKl7je-I/AAAAAAAACdg/892VnLbLGhk/s1600/Gift_Giving_Tips.jpg",url:""}},{id:"asd3",couponType:couponsEnums.couponType.DISCOUNT,claim:true,title:"Main title",description:"Description: In marketing, a coupon is a ticket or document that can be exchanged for a financial discount or rebate when purchasing a product. Customarily, coupons are issued by manufacturers of consumer packaged goods or by retailers, to be used in retail stores as a part of sales promotions. They are often widely distributed through mail, coupon envelopes, magazines, newspapers, the Internet, directly from the retailer, and mobile devices such as cell phones. Since only price conscious consumers are likely to spend the time to claim the savings, coupons function as a form of price discrimination, enabling retailers to offer a lower price only to those consumers who would otherwise go elsewhere. In addition, coupons can also be targeted selectively to regional markets in which price competition is great.",imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR5pd7BeJq7Wh1kbFYuo1iE68tkfpd8ye3S0q1UPPEAFxm8IgEU",largeImageUrl:"http://4.bp.blogspot.com/-0iGBZFMUnBU/UVoUKl7je-I/AAAAAAAACdg/892VnLbLGhk/s1600/Gift_Giving_Tips.jpg",dealDetails:"Deal details: Australian consumers first came in contact with couponing when Shop A Docket promoted offers and discounts on the back of shopping receipts in 1986.",disclaimer:"disclaimer text: Coupon manufacturers may or may not place restrictions on coupons limiting their transferability to ensure the coupons stay within the targeted market. Since such restrictions are not universal and are difficult and/or costly to enforce, limited coupon trading is tolerated in the industry. Organized coupon exchange clubs are commonly found in regions where coupons are distributed. Often coupons are available for purchase at some online sites, but since most coupons are not allowed to be sold, the fee is considered to be for the time and effort put into cutting out the coupons.",productDiscount:{discountType:couponsEnums.discountType.PERCENT,offerType:couponsEnums.offerType.CUSTOM_ICON,price:100,discount:40,imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTuT6Y_hEzyjx0IQZIMP4xVN840leccJXsNbI-IJzG1c2oWUvJofA",upperTitle:"{$HtmlTextCouponsTitleOffer}",lowerTitle:"{$HtmlTextCouponsPriceOff}",offerTitle:"",currency:"USD",currencySymbol:"$"},validity:{validFrom:3376543210,validUntil:3386543210,hours:[{days:[7,1,3],startHour:"13:00",endHour:"16:00"},{days:[7,5,6],startHour:"8:00",endHour:"12:00"},{days:[3],startHour:"23:45",endHour:"23:59"},{days:[1,2,4,6,7],startHour:"5:00",endHour:"5:30"}]},linkCaption:"{$HtmlTextCouponsTermsTitle}",linkUrl:"http://www.nba.com",socialInfo:{title:"Buy a new giraffe in only 60$",imageUrl:"http://4.bp.blogspot.com/-0iGBZFMUnBU/UVoUKl7je-I/AAAAAAAACdg/892VnLbLGhk/s1600/Gift_Giving_Tips.jpg",url:""}},{id:"asd",couponType:couponsEnums.couponType.DISCOUNT,claim:true,title:"Main title2",description:"Description..",imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR5pd7BeJq7Wh1kbFYuo1iE68tkfpd8ye3S0q1UPPEAFxm8IgEU",largeImageUrl:"http://4.bp.blogspot.com/-0iGBZFMUnBU/UVoUKl7je-I/AAAAAAAACdg/892VnLbLGhk/s1600/Gift_Giving_Tips.jpg",dealDetails:"Deal details: Australian consumers first came in contact with couponing when Shop A Docket promoted offers and discounts on the back of shopping receipts in 1986.",disclaimer:"disclaimer text: Coupon manufacturers may or may not place restrictions on coupons limiting their transferability to ensure the coupons stay within the targeted market. Since such restrictions are not universal and are difficult and/or costly to enforce, limited coupon trading is tolerated in the industry. Organized coupon exchange clubs are commonly found in regions where coupons are distributed. Often coupons are available for purchase at some online sites, but since most coupons are not allowed to be sold, the fee is considered to be for the time and effort put into cutting out the coupons.",productDiscount:{discountType:couponsEnums.discountType.MONEY,offerType:couponsEnums.offerType.DISCOUNT,price:10000,discount:4500,imageUrl:"",upperTitle:null,lowerTitle:null,offerTitle:"",currency:"USD",currencySymbol:"$"},validity:{validFrom:3376543210,validUntil:0,hours:null},linkCaption:"link",linkUrl:"http://www.google.com",socialInfo:{imageUrl:"http://4.bp.blogspot.com/-0iGBZFMUnBU/UVoUKl7je-I/AAAAAAAACdg/892VnLbLGhk/s1600/Gift_Giving_Tips.jpg"}},{id:"123",couponType:couponsEnums.couponType.DISCOUNT,claim:true,title:"Main title2",description:"Description: In marketing, a coupon is a ticket or document that can be exchanged for a financial discount or rebate when purchasing a product. Customarily, coupons are issued by manufacturers of consumer packaged goods or by retailers, to be used in retail stores as a part of sales promotions. They are often widely distributed through mail, coupon envelopes, magazines, newspapers, the Internet, directly from the retailer, and mobile devices such as cell phones. Since only price conscious consumers are likely to spend the time to claim the savings, coupons function as a form of price discrimination, enabling retailers to offer a lower price only to those consumers who would otherwise go elsewhere. In addition, coupons can also be targeted selectively to regional markets in which price competition is great.",imageUrl:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR5pd7BeJq7Wh1kbFYuo1iE68tkfpd8ye3S0q1UPPEAFxm8IgEU",largeImageUrl:"http://4.bp.blogspot.com/-0iGBZFMUnBU/UVoUKl7je-I/AAAAAAAACdg/892VnLbLGhk/s1600/Gift_Giving_Tips.jpg",dealDetails:"Deal details: Australian consumers first came in contact with couponing when Shop A Docket promoted offers and discounts on the back of shopping receipts in 1986.",disclaimer:"disclaimer text: Coupon manufacturers may or may not place restrictions on coupons limiting their transferability to ensure the coupons stay within the targeted market. Since such restrictions are not universal and are difficult and/or costly to enforce, limited coupon trading is tolerated in the industry. Organized coupon exchange clubs are commonly found in regions where coupons are distributed. Often coupons are available for purchase at some online sites, but since most coupons are not allowed to be sold, the fee is considered to be for the time and effort put into cutting out the coupons.",productDiscount:{discountType:couponsEnums.discountType.MONEY,offerType:couponsEnums.offerType.FINAL_PRICE,price:10000000,discount:5,imageUrl:"",upperTitle:"",lowerTitle:"",offerTitle:"",currency:"USD",currencySymbol:"$"},validity:{validFrom:0,validUntil:0,hours:[{days:[1,2,3,4,5],startHour:"08:00",endHour:"16:30"}]},linkCaption:"",linkUrl:"",socialInfo:{}}],nextUrl:"http://...."}})}if(TEST_LOYALTY||false){var e={id:"123456789",title:"Itsik-Bitsik-Coffee loyalty card",offerTitle:"9+1",icons:{"default":{whole:{bg:"http://storage.conduit.com/mobile/anyorigin/resources/bg.svg"},punched:{bg:"http://storage.conduit.com/mobile/anyorigin/resources/bg.svg",overlay:"http://storage.conduit.com/mobile/anyorigin/resources/stamp.svg"}},bonus:{whole:{bg:"http://storage.conduit.com/mobile/anyorigin/resources/bg.svg",overlay:"http://storage.conduit.com/mobile/anyorigin/resources/bag.svg"},punched:{bg:"http://storage.conduit.com/mobile/anyorigin/resources/bg.svg",overlay:"http://storage.conduit.com/mobile/anyorigin/resources/bag.svg"}},bonus2:{whole:{bg:"http://storage.conduit.com/mobile/anyorigin/resources/bg.svg",overlay:"http://storage.conduit.com/mobile/anyorigin/resources/icecream.svg"},punched:{bg:"http://storage.conduit.com/mobile/anyorigin/resources/bg.svg",overlay:"http://storage.conduit.com/mobile/anyorigin/resources/paw.svg"}}},images:{header:"data:image/jpeg;base64,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",background:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBhISERUTEhQWFRUVFRcaGBgYFxcXFBcYFBcXGBgYGxgXHicfGBwkGhYaIC8hJicpLCwsFx8xNTAqNSYrLCkBCQoKDgwOGg8PGi8kHyQvMi0vMCwsLSksLC8wLy0pLCw0LywsLCwsLCwtLCwsLywsKiwsKSwqLCwsKSwsLCwsLP/AABEIAQsAvQMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAAFBgADBAcCAf/EAEoQAAIAAwQECAkJBgYDAQAAAAECAAMRBBIhMQUGQVETIjJhcYGRoRVCUnKSsbLB0QcUIzNTYnOiw4KDk7PC0iQ0Q2Ph8BZEo+L/xAAbAQABBQEBAAAAAAAAAAAAAAAFAAIDBAYBB//EADgRAAEDAgMDCgUEAQUAAAAAAAEAAgMEEQUhMRJBURMiYXGBkaGx0fAGFDLB8SMzNOFCFSRScrL/2gAMAwEAAhEDEQA/APdlsaNLRmRGZkUklVJJKgkkkVJJ2xb4PlfZy/QX4RZYF+il/hp7IjRdjSNAsMljnl20c1j8Hyvs5foL8Ing+V9nL9BfhGy7Euw6w4Jt3cVj8Hyvs5foL8Ing+V9nL9BfhGy7EuwrDgld3FY/B8r7OX6C/CJ4PlfZy/QX4RsuxLsKw4JXdxWPwfK+zl+gvwieD5X2cv0F+EbLsS7CsOCV3cVj8Hyvs5foL8Ing+V9nL9BfhGy7EuwrDgld3FY/B8r7OX6C/CJ4PlfZy/QX4Rsux8pHLBK7uKyeD5X2cv0F+ETwfK+zl+gvwjYiVpTGuVMaw46G1KUANPxPkA0A6SMz/3GIpZY4xdynhhlmNmlIaaMlk0EpCdwlqT6o1pqs5ysv8A8R/bHVrNZ5acVFVabFAHqi+KBruDUUbhh/yeVyJ9V2Gdlp+5H9sZG0bLBoZSA86KD6o7RFFpsUuYKOisOcAwm13FqTsMP+LyuO+D5X2cv0F+ETwfK+zl+gvwh701qUKF5FajxCag+aTt5jCgUi/FKyUXahc0MsJs4rH4PlfZy/QX4QI1gYygnBEy716vB8StLtK3aVpU9ph20Zq1On4qt1fKbAdW0wK191V4ESKzKluEyWgFOD3nniKeaINLd6s0kExeHWNl80ev0Mv8NPYEaLsV6PX6GV+GnsCNF2JwclUcOcVXdiXYsuxLsdum2Vd2PPUc6VphWlaV30xjVZJcu/SYMGyYMwKnKhoeSe49OF8ywFJhlULrMU0IpeUoaqzbBQnPbWlKjHO12OtpZTC9pDhnno5u+xvqBuPCyK0+GmZgeDcHLLUHdfoQ5RlgRUBhXarYg9Bj6dnPlvPQNsErfo51SWQAzKgRgDSpqLtK5ipI68oJ2DRyyhvcjjNtPRuXcPfAyX4tijpWyAbTySLDICx1PWLK03BXOmLb2aLZpdezsoBZGUE0BIpjQmlDjkDsjzdjdpO08JMoOSlQNxbxj1cn0t8ZbsaPC6ioqKZs1QAHOzsNw3aoXWQxxSlkRuB5qu7Hxl3ZxbdiXYJXVSytl6KdpYdGD1HJpdYEYEZkEg4Uwyzj7KsClZRpQk0Ipi4LBlYjmBxJ34xbokzL5Eul08smt1TTMb2pTDorTaak2dUrTMnEnNjnie3DIbI8uxbFqqlmdTvftlpu0i17EEEOt0HruFsKOjhlYJQ21xmN2RvcKaPs1nl35pW9NE03UBpiygjijADM1I2ExonWiZM5bHzVqqY9GLdZ6hGIMvCFjUkC6tFJ4uBNCAc2z80Ro0LdtlSh+iVir5hyRmoGag1zOzIY1A8VddXiOmiuA0AE38b/AGRAQxQ3fbUrdq/o8XuGugChCUAF6vKfDYaADmqdog9HxVAFBkI+xtaWnbTRCJu7x6VRe4uNypEiRIspqkYG0DZyxYylJJqSRWpOcb4kdDiNCmua12ouvirTAQg/Kr/6/wC9/Sh/hA+VX/1/3v6UcTkH0cv0Mr8KX7CxouxXo1foZX4Uv2FjTdg8Dkss4ZlVXYl2PbUGfRvJJyAAzPNGqRot2xbiDdgX/tX80UK7FKahbed1uA1J7FYp6OWoNmD0WJZJc3FFSRtyAO1ubm2+o5ZLKspKVyHGZjiabzsAGQyAiyz2ZUFFFN+0k7yTiTFjKCKHEHOPKsbxx+JyAWswaDf1n0WtoaFtK3i46oXO0uhmmTisxCrXXFK1ANM86ODTPmNCIx6x6XmyODrdCuWDFbxYAUyY5Z7q4YGDBkS1cNcW+2F6gv0AzvZ0Aw6wIy6xaMM+Qyry14ydI2dYJHXFWKenZURuazmj/lndXCwuaQT3IYiCgplTCmVNkfbsYtXyTIAIIusyiu5Tl1ZdUWaW0mkhVZ71GYLxQC2JAwrhXH155R7N8y0QcsRla6wpp3csYhreyvJFabTkACWPQBiY22bRDti/EXdXjnrGCjv6I9as6Zs1oRzZwQEa614UY7mJqSwIxFT2QYjznFfiqqeXQwt5P/1/XvNaOlweJlnSHaPgvMqUFAVQABkBkIH6Y0SZ6Ml4KCVxukkBaEqOMBQkerOkbGta1IBvEbFF49dMB10jyRMfDkDmNX7sF6cYyUMssL+UBseJz160ZIBFl9sVm4NApYuQFF5qVN0BRWnMBC7qbpX5pbpsqa1EmF12kXkJZDl5F6D9pt8mSovuiAYAEgZbAMzCiukZVotpmS0N0JdvEUvPsNNlUDAbSFOVI0Pw+ZZK3afeztSfe9Vat4jgcQNAutybdLfkup6CIurHNrsfRWPTDR8Cs0MQO9viujvMAzIHSaREcEVBBB2jKOblY02PSE2VyGIG7New4Q00ZtkU4YgL5tyXQYkK0jW5xy0B5wSO41jamtsrarjqB98QGnkG5Wm1UR3o5CB8qv8A6/739KGb/wAqk/f9H/mEf5StPS5nAXQ2HC5028HzwwxPGoTxPGTYFe9GL9DK/Cl+wsabsadE6EnGzySEwMqXtXyF549T7C6cpWHSMO2CjZGnQoK+JwJJCDaUkzjwZkTFlsJi1ZsgtRXYcwLv7VKipi/VC22oypgttAyTCFY3ReWla4YEA5HaOiNZSKE0dKBBEtARkQoBHRSM7i+Cf6g4uDgL21GeXA/ZEqOv+XZsEXRZraKcUFufkp6TUB6qxne2DxpgHNLq7dbUPqHTGb5uta0BO8ip7THu7AmH4Pjb9cncPW/krL8YP+Le8qWnSsuSjuJbtQVagF4gZkl2qaD1QsaQ+UN2BEhAn3mIZh0DIHprDLMkhgVIqCCCN4OB7o5BbLMZE55e1GK9IBw7RQ9cOqvh2lprPbd3/Y39ArFFXPnuHeC6Pq9ZXSSrOSeGvTMcTUnHnxFG62gmyHArdvKai8Ly1ptHwOwRunyKyFujFFVlHmrl1rUdcZ1oRUZHLrgjgNa3EKR0MovskgjoOnp2IdiMJgnEjMr59qw6JsnzYMsmXLQO15qXzU815jQbhkI2PNZuVRvOJYegt1fXHu7Euxc/0CgL9ssuekn1UJxGotba8AvJnzMr9BuUKo9RPfFM+z3wVYsagjFmOeGRNI0XYl2L0WHUkP7cTR2DzVZ9RM/6nHvXIFthDUcDOh3gjAx1HReiBIsSkjj1WY2/ZXsQkdu+OcaW0aRapq0oOFbrBNR6469pG1y5Un6Vrqlbu8kkUoAMzGAxWV1PPEI9Q69h0Fa5rRLEb7x5rDdiXY82Gdflo/lKD2jHvi+7HpgcCLhYotsbFVXYl2LbsS7HbrllVdiXYtuxLsK6VlVdhY13XCT0zP04bLsK2vIwk9Mz9OGSHmlTQDnhdZ1e/wApZ/wJXsLG9lBFDiIG6vzl+aWfEfUSto8hYIo4IqCCObGA6PZIX/45Lv3qm7Xk7Oiu6CEqyIooqqOoRdEh5e52pTGxsboFVMsqMKMqnpAgZP1almpUlebMfHvgnabUqLVjT1nmEDX1jXYp66CHx8p/io5eS0egVssLS2ut1HYRHPtd9FhZ6zafWLT9pKD2SvZHRbXaWmNeb/gCF/W2w8JZmIzl8cdC8r8pPZEtXGZKcg66qpTPEc4I00Xq16ZeVYJMyXymWWoOd3iYnHbxe+KtWLcZkoqxqyGh6Dip9Y/ZjzqsEtViMiZ4jXcMxjeRhzjEdUW6P1cayvf4QOhopF2hxIoxxOR7mMYXA6yKjqnRPyLjbrvoj1fDysBI1Gfqit2Jdiy7Eux6PdZSyruxLsWXYl2FdKyQNZpIW245NwbHuUn8p7IPa+yXrLfxAGHMGJBx6QPywJ+UTiNJenKV1w+6QR7UPWjrUs6TLcUZXRTvGIxHbUdUeb/EBNNVtltcXPiFrqB21C1L2qc69Z6eQ7DqNHHtQaux9myFSYLoC3k2AAEoebmePd2NphNWKqjZKOFu7JZ2tj2J3Dpv3qu7EuxZdiXYKXVOyruxLsWXYl2FdKyruwq69jCT0zP04brsKmvowkdMz9OI5DzVLCOeEzaKT6CT+DK9hY3SprLySR0Rm0Sv+Hk/gyv5axquxwWITzcHJaRped5XcPhHx9Kzj41OgARnuxLsN2G8E7bfxXiYxY1JJPPjHm7Ft2Jdh90yyquxGl1FCKg59Bi27EuwrrllzHVec9j0kbP4ruZZG8YmWw3YEdpjp82WGUqciCD0GELXvR/B2iVaVFCQBXc8s1U9N00/Zg5pzWVkkSnlUrOFanG6ABXDImpp1GPMseonfON5PIn8jw8lq6STlIgSi9nJK48oVDdK4E9efXFl2FnVPTbzJry5rXiy3lNACSmBHFAB4tPQhrux6FRTmaBrna2z696zlTDyUpaqrsS7Ft2Jdi3dV7JO+Uqy1sqNTkTV/MrD10gnqAP8DLFcQXrzG+TTsIjRrXZr9jmjcoYfsMG9QMLWrluZbDaQhoyEEEZgOApPNQKcdmcYv4oiMgaBvI9PutBhjuYR0pstukZN9F4RL4cC7eW9xqpSmebA05o1XY5arlcVwK4jZiuI7xHVJLhlDDJgCOhhUeuCPw9GIIHQg3sb9/4VfFY7Pa7iF5uxLsW3Yl2NHdB7Kq7H27Fl2JdhXSsqrsKev64SOmb+nDjdhR+UEYSOmb+nDHnmqSIc4Jm0T/l5P4Mr+Wsaoy6J/wAvJ/Blfy1jVHRouHVSJEjJpTSsqzyzNmtdUdpOxVG0ndCJtmUmtLjYaqy3W6XJltMmsFRRiT6ucnYNsLMj5TrE3K4VOlAaeiTCFrNrTNtj1biy1PEl1wHOd7U29nOFDEYg0MDJK07XM0WqpMDYWXqCbnhuXa7LrlYphAWelSaAG8pqfOAgzHAg4IzXnBA+MdA1H10Bu2e0OpOUp657kapz3Hq3VkgrNs7L8kzEsA+Xj5aA7QGul+vJMmt2j+Fsr0FWTjrvqmfat4Qu6t2VbXZjIZrryWvI2dFmZgjaKg90PZG+ONzrM1ktzy1LLdchSDQ3TxkNRzEQNxukMrQ9hsRv99oQ/DJMyxO+jdT5sqYJhdapxlC1N4iuBJAoDltzhrlTAwDDEEAjoOIjBq9pMz5Cu3KBKtuJXb1gg9capHFZk57w6HJr2NXqIgR8O4jIah9LMc9R1jXvGfYpcTiu0SDdkr4kSJG5QJVWuziZLdD46svpAj3xzjUjTkqVOdZporpQkg3ag7dwxOJwjplY4za7NwVumpumTAOgkkd1IBY1Ttmhs5FsMdzi1dSlasWUMHEsbwKsU3jik090bbGKKV8lmXqBqv5SIw6qMxskq9uYDzQ7Bfy0jcmExh5QVusVU9wWMr8OVL48QdC917gjuz9VcxJm1DtcCr49FDuPZG/RryRQtyufLqgqJ6HC8p6xHoDpS02sgrIQ4XulmJDLLsiLkojDbnkY+V93f05QhNc5BddBsi5KEQofKFlI6Zv6cN8KHyhZSOmb+nEj9FFF9QTLon/LyfwZX8tY1Rl0T/l5P4Mr+WsaocNEw6ofpvTkqyyzMmnmVRynO5R78htjj+sGsM21zL8w0ArcQclAd287zt6KAdG+UGxS2kozS1ZhMABoL1Crkip2VANOaEP5jL+y9n+6AuIVRY/k9y0mDtiY3lSLu8kBiQdNil/Z94/uj4LBK+zPpD+6BnLjgtB803ggiuRiM+4xes+vjL0Ef8wUOjpf2bel/wDqNuiNDSWdrwZeKKVY4mvM0cdVMaLkFWoK7ZOzuKZNSNdRMu2ee4MzKW/l/davjbjt6c8fymaMImyrQg5QuN0pxl7QT6MaNHavWdpssFCQWNQQ4BorNmTzQy606P4WyzFGai+vSmNOsVHXBWnmNZSuPDS/QsjiLYaatBiyBzI3C/DMr3qzYeCsyCoJfjkjKrgGg6BQdUedJ6alSp0tSxvkgEAVAV8KsdmIU78N0ZNRrfwllC7ZZK9R4y9xp1QraxyyLTODbXJ6VIF38tB1RgKFrmYgZHHNpv1/1ZX3sErC0710mJA7V7SHDWdHPKHFbzlwJ68D1wRj1djg9ocN6yLmlri07lI5vp/RIOlheJCTGlE0wNGAQ0OzEGOkQj6+pctEib93vluG/qgdijSaZ1ve5XKB1ph0p1RFlpQUVEXoCqo9QAhcsWtQnWpECUQh1VjyjUBhUbAbmWeUGtNSy9nmhczLanPhWnWI5vY7TwcxJg8VlbqBBPdWPPcBa1swndqD+VoZ2cpG5vQuqRIkSPVVkF9LHeY+RIkcSUhQ+ULKR0zf04b4UPlCykdM39OGv0UkX1BMuif8vJ/Blfy1jVGXRP8Al5P4Mr+WsaocNEw6pc18WtmXCv0q7aeK+0Qg3D5A9M/COga9AfNcafWJnl40c9ov+13fGM3in73YtFhn7PaiWj7MpTFRW8dpPik54bo926xqJRIUVqm0jM447I+aNcBDTHjHkqSOTzA7++Lra4Mhgf8Ab5SkDBlG0CM+S4SdqOgDY7EHuHyB6Z+EE9AtSY2SVTeWrRlyBp74FcX/AGu74wT1fYCYxBQcQ4gfeXnief8AbKhh+sJr0Qaz05R5WYAHJOygO2GWFrQqVnqeNgr4thsHi7OwQyxosCFqTtKz2NG9V2BIGitJpYLdOkTLwRsiBUAcpDTPksRhuhq0noSTa1V6404sxKGoOI5mH/cIVflNsN15NpHmN1VZe68OoQb1EnEyXHiq/F/aUEjtx/ajJ4/R/LSmoiNiiFHJykQK26H0OLKbocsJhxqAKMowoBvUEHHxRBePFplFlIGeY5mGI7wIkmaGUMNo7ObpGXVB74ZxB1TTmOQ3c0+B0QrEodmTbG9e4UPlLWlnlvSt2bTqdW96iG+AOvUi/YJ33Qrei6k91Y0dQ3bicOhUad2zK09K+6qayLaJaqRdmKimlahgAAWB6cxsqM41ztWrK7FmlCpNTQsAd9VBA7oS/k8lM01GGSI947MaqB1k9x3R0ePIK9vytQRCSL8CtcNFRYq8GoOJXik7yhK17oujPZ2AeYoIrVWI3X195QmNEes0E/L00cvED+1kZ2bEjm9KkSJEi6oVIUPlCykdM39OG+FD5QspHTN/Thj9FJF9QQ+wWyZwUv6SZ9Wn+o/kjni/55N+0mfxH+MBJi2gyZYk3V+jTjE8bkjLCg6YBzNX7SKnPbW+K98Y5rnuJvLbtPquPcQbAJp0zaXMujTHIvDlMzDbsJgJe+8vo/8AMYrNoq0h1JVwAccQaZg4VOW6kEWs7j7T0K+pYbICDm7a8fVHMNlaIyHZG+9ENG0KHI8bdTxTF1sX6B8hhL2ffSM+jmIBBrWtReBU0u0yujCpEaLW30LjaQlKVJwZdlOaB7geU7R5o82aMs+oacUFvfeX0f8AmCWgG+kY3lwTOlKcZefGBpY+VM/hn+yN2hZ12YTxm4ppVCKGq5cUY9YixK0lhCgjlY1wJI70cnTCCCpcHHjXipOWAApQdmyPnzyb9rM/iP8AGKGJJqefnOO89WQoOnOPsQxSSRtDQ4jqKz+IzMmnL2aLPpoPNksrO7U4wBZjiuORPSOuGzUsJ8zlXBvvbywJBJ56Ad0LZFcI3/J3a+JNknNGvDr4rd6jtiniZfLTkkk2IP2U+Gv1amHT1oaXZprIaMFwO0VIFRzisIuirfMAKCZMAGIAdgKE45Hysf2o6LaLOroyMKqwII5jCRadSp6v9GVYVwa8FYdIPurXuinhNUyFrml2yTv0V+phEzNnfuXr55N+1mfxH+MUW20O0t1aZMIKMCC70IIPPBGbq7PRRlMwFSmBrt4pzHOOwQJ0m3BqyzKoSjUDArXAjCvPBqOtdJ9EhPaUAdBJG7MJg+T6Qq2MXQAS7VO00OFTtwg/bZ9yW7jxUZvRUn3QufJ5OrZmXyZntKp9xhodAQQcQQQRvBwMZWtyqnbXFaZv0rmOj7a4mk32BmA3iGILMDXGhxzaC3zyb9rM/iP8Y9WrUWbeIlsjJXAsSGA56DMbx3RrmasTkUUYTTTHJWrzVNCOeoPNGlGJMAAZLbouR+EKraVzncowXWL55N+1mfxH+MT57N+1mfxH+MZ7W/BELNBQkVowIwrStRhmN8fJc5W5LA9BB9UWBUTEXDzbrKEljm6hafns37WZ/Ef4wv62WlyJVXc4vm7HyN5g1AHWrKV0v/RFimnldIAXHvK6z6kXsP1Uv8NPZEENGSL85RsXjn9mlPzEHqgbYxWXJFbt5UFQAT9XhnhmBBbRlnaXOQl7wNV5NDxhUYg71Ay2wMqn7IcL552RKho3yOEtrtBzWjTej6Vmrl44/r+PNjsNRUNzoCCDkRQ9BwhPk2abdAuqRSh4+OGBwK59cU6GfaZsuOis11A979uJt76onYNECZKLnBnxRvJArd6mqSd4I3CBxBBIIoQaEbiP++qGbRjEyZd6lbgBplVRQ94gTrAtJikKTeQ1uqSeIVzpzPDaeoc6ZzHdNuiydV0Q5FpYMx4oeFJIVeUxoOk+4ZnmBjTb9H8CQKllOROdRmD6xzV3RZoIgzsQahGIqrCmKg8oZ0Prg3brMHlsp3VG8EYgjrh81UY5g3dv99Cip6APpyXZO8rJXj3KszveuCt0VPPuUfeONOjnimVNDAGoxAyO+GTQsoCShHjqHJ3lwD8B0ARPVTcgy41VShpRO8h2gS6pqKiMurts4K345O5Q/vKEfmKwX0tZBLmYZPVqbiCL3USQekmF+z6KM/SAWpVQiu1DQlVotBzk0FdmJiZrmSwuJ0LSpKeN0NQY10uz25XZlFcMjsYDAld4DYdmwiNECZyFQDLAvJyRkDhS5XYCMObA7I3aOtonSkmgEB1DUOYrGUkjAG23TT31o4RsmxV0yYFBLEAAVJOQAgVrJoqXPkMWwKo5VhmOLWnODTKLrRMvtTxEPpOD6lPf5sYNKz7ljtKZXZEwp5rKRTqY06CsTU8bmvaWmzrjxXHA7N0J+Teb9cvmH2hDtHHtVNOTbPMYpdIu0IYE4V5iD646NJnzmVZswXXArwak0C+MDXNiOwgDeSQxSjcJy8kWPnZNZchG4kfEcEAg1BFQd4ORjxaLQEWp6ABmScgOeAQaSbJyxaa0IlpQAm6y1usMxXMEbQaDDm2QhaV0HMkH6VQRXBxip69h5jQ9MdBsNpYsyvStLwplTIrXbQ0x23h1a5ksMCGAIOBBFQRzg5wTp62SlOwc2+9Fyy5VLtDrkx6G4w78R1GB+sekAwl1BUgvvI8TIgQ9ab1SljGSSrmtJeanoJxQDacQKjDIFK1n0FPRZJKghwxBDA7E30IOO6NPQ1UUz2kHvyOipz00ThtWsUbsi1lS9nElkHcQFIPaI1G2zRQ1Q3SG5LA8UgnG8dg3RmsP1Uv8NPZEXkRFI0FxuEHiqpYbhjrApvhbtNq4OZMQISA5OBXx6PkxHlwa0VNvSUJzugHpXinvECNOJSdXykB9EkHuKwEpGgSujd7stJU1L4oeVj6O4ojoS0XpZwIo7ChpXHjbCR42+PGm3C8G5yDEVoTylJ2eaIp1emYzF81u2oPsjtjRp+XWTXyXQ/mCnuYxwsDavZ3E+a7HUOdByw1tfuWOwW5GmpdcHlAjbySculRB2kK1jek2WfvgelxffDTHK6MMe23D7rtLVmqaXkWS5ZrIhRSUUmgzUZgY7INaNAEpAMgoHZh7oVjZVDNgKh5mOR5bbRDNob6hOg9zGJq6PZZe981yGtbO8sDbELHpuzh5kuteRMyJHjSt0Z9E6NRLTfBYkymXE1FA6Ed5izWJiHlUJXCZlTfK3g7oo0LOc2gAtUcFMOIFah5O4DYYfGH/AC1wcrHLtKRnpxLyZbz+NvumImBdh0vPWWgAlEBFGIdTgoGd4+qCc08U9B9UYZWhZoRSDLPFG1l2DmMD4SzZIfbtVv8ATv8AqLRYCTLUnMipplViT74F62qzSTLRSzTEYAVUZNLJJLEYfGCtg+ql+YvsiBGsekkkurzK3QtKgVoXOApn/pnsiWnBNRdouQSU0hpFnGwS5qjoObLtC8LLoKk4lSKqrEZE41oeqOgwD0NaVmurqGu3HoSrKCbyDxgMc4Nu9ATuFezGH4hK+WUbYsbaLoa1tw03C8aO0rJCXeFQFWcULAUo7UGO4UiCaJjlwQwBKrQ1WlBeIpmSaivMBvqAsc9bii+pN0Vowzpjt3wZ0YlJS84vdbkt74imhbHdwvclc5ENsb3V7YNLIzvgdTYMOzH9kRvtE64palaDLedg7YA6XxMtedmzI5IujLz+6M8mUTMQXnpeqRfcghQTkWpyguyGCAPa1xKToXOBeEXRTUs2LHM7MMgNwH/O2FjW3/TTyWmEdDiWaekG7RDVCHrhaXJUhqAzJtBQHBRLTPPG5Xri9hQLqgE+8ioZ47x2arrD9VL/AA09kRfFFh+ql/hp7Ii+DD/qKxx1RrV6ZxHXyXr1OAfXejxrFL+rbnZfSW9/RFGgptJpHlJ7B+DGN+nkrIY+SVbsYV7qwFf+nWA8fvktJH+tRW6PJDtCTKTqeUjDrBB9QPZBbS6VkTKZhGI6VF4eqAVhmXZss/fA9Kq+siGdlqCN4p2xyt5kzX9XgUsNO3TlvWEo36UO4q3osG90N5hLTGWPN76fGHGRMvKreUoPaKw/Em/SetQ4SbbbUsWtaTZn4jHtNffBrQJ+hHM8z22I7jAfSK0nzfOU9stPeDBXQB+jPM59Sn3xJV50zT1eSbR82seOvzVOsS4yz547Qp90Z9CfXfu39qXGrWHKX5zezGXQn137t/alwov4nYfulL/PHZ5I7aTxG81vUY3K9JQO5K9i1gdpA/RTPw39kwmaI0/Ns16zzgxQgpdOaGhHFrsxxEUIaR08ZLdx04opO6xCdrMtEUblUdgEKevDzLyig4Pi1O2+BMIHRRjDhSFbXIEyq7rQB/8AAH1sYlw93+4unT5Mst2qlOAl8yEn9qbM9yQVtteDYDNhdHS5C++B2q0ulnTDNR2YsPbMEZ8wBpYJAvTVArtIq9OniRHPnUG3H+11uUa26QReDc0BorUqAQDTDPnjMiXQAMgAOzCNGkjxAPKZR1A3j3KYpik0nYHWlENSkzWu2zPnIWWs5iktfqw5ALkk1u8wXONGpc95rTHe/wAUKFv/AH+MSOpRDfowgJWvLdj00N0U38VRA3RNluK43zXp0K1xe5YKuqm8g6LZsRYX48VG1zy+27NarTNuoxGYBp07O+kKWuuheDWQoetL4xXcJe4wS1y0gZclQpozzFoRmLnHJHWo7YD6e1hW0SZBYhXUzA4qBjSXRhzH4xPhkUjXskGhJv3G33TaiQi4BX2w/VS/w09kRfFFh+ql/hp7Ii+Cb/qKyR1V1im3Zss/fAPQ/F/qr1Qy2mTfRl8pSPSBHvhScGhpns6dnfDdJm3lVh4wB7RWA+ICxa8I/hL7scw+7pPSdxQ+4Buyje6HOsKU6XR3Xc7jqJJHcRDJo2ZWTLP3F7hQ94juIi7WuHu6WF818kZ3fhLcxKO43TH9on1GGLRTVky/NA9HD3QD0klJ8znKntRfeDBfQTEyQDsZx1XiR3ER2t50DXdXkuUPMqZGe9UM00tJ550T1uPdG/V9uI43P60Qxj099cvPL9lj/dGjV1vrBzqe0Ef0wpc6MHoHolFza9wX3WLKX5x9kxl0J9d+7f2pca9YhxZfn/0PGTQn137t/alx2L+Ieork389qL6VekiaTslv7JhatJWazkG8rTHINM/pDQ0OUMOnv8tO/DbvEKeimJov+8g6ndK+to7hw/Tc7gfRT4i0nZI4hPZhb1vlf4O8Mf8SSeYUdfWAIY4U9JaW4bR9qApWVPJHmmfUH1jqinQtdygcNxHjkrs+lkZ1cX/Dpzj2QF/pgfrmrMktVPGDM4G03ABgdh4+EEtXUIskiufBKT+0K++MGnWrOA8mWPzM39oiWDOsJ4EqGqeYqe46FfoPWD50ksN9ZLqX+9xbqsOm+a8454LTpl1S24E9grC/qpYbkye2wlAOatWYdpEHp4rdXynUdhvHuUxDVMY2fZZp7JUsD9qEP4pR1Ls5mtw8ytLODWuP0gB4oJ2DP0Yb7OhCqDmAK9O3vhU0aDJtc2SvInu/UVmFm/LeHQw3Q3xLiJJkvuOY6vzdcpnBw2uxLOsspZsy42IRRTeGfEkHYaBe3nhI0xoByRVqKCQpGZwUmo3ioy3w4TJt9mfy2JHRkv5QIx6fk0kSDtczW7eDu/lCwconmHYZ2eBJQdj3TTvN8vYC92H6qX+GnsiL4osP1Uv8ADT2RF8J/1FCDqpDBoOZWSo8kleoHD8pEL8FtXpmMxfNbtBU+yIH1zdqEnhmieFv2ZrcQsml0pPb7yo3cV/ognoFvoqbnYdpvf1Rl1hTjS23hl9TDuDd8etXmxmDzT2gr/SIgl59IDwt4ZK5F+nXOHH8rPpxaTh96WPyswPtLGzV9+I43P61UxVrEuMs+eO5W/pMTV48aYOZD3vCdzqMH3rZJvMrz0+i+awrxpZ20cd8sxNXuVM5wncXj3rFlL85h2qT/AExVoD6x/MHc3/MIZ0Xvik7LEB0+iv1j5Ev8X9ObGPQn14/Df2pUbNYx9GnNNX2XHvjHoT68fhv7UqHQfxD2rk/85nvit+szEWSdTO4adJIhT1fmgz5e52XtU3h/V2Q26ySy1lmqMyAB0llpAPVmxLMSTOFA0uYUYbwVJQ+cK06BzR2jeGUrieJ8kQms5+weg+KbqxzO0twQmg8ifJbqYi+OyYAeho6Pa5l2W7bkY9gJhHt9gMxEA5StLpszIVh2HuELCrAOJ0y8M1WrpdiRg43+yeLLJuS0UeKqr6IA90LuknrPmHcVX0VX3kw0GFB515neuBdz1XiB3ARDh42nud7zTcVdaIN6Ub0An0ZPlO3YtF9amCUoVmqPJVm9Sj2m7DGbRSUky653QT0txj64D6V1meTPdJYU0VASwJoaM1KAjY4iDk3VEzwzp9FcY3Yha3oC1WeTW2zTTkFz1vQA9haN2k5xSS7Lygpp0nAd5ED9WJjzFmzphBaZMzAAwRQtKDc16CjOpnSpbHE32pvuLT1uD1R2f94A57IHgLlciZycR6b+JSqsqtEXbRR10APZj1RbrwgCyAMAOEA6AJdI0aHs30wB/wBK9XpUmWPeeqKNe8pPTM/TgqyS9ZG0dJ7wUPootiBzjvPksNmnKsmWWIA4NMTgOSIpfSy30UVIYkE0NOTeFN5OEXWavApdpXg0zyxUZ/CKZeh1BBLzGINRVzhnTAYYVpF/mXO0gWW9aJjXlrdYAFTQ4FgCCRQGuIqKGhgnol5KzluE1cMtCX3Xhg2XI2b4wy1IGJrz0oeumHqixJt1lbO6ymnQRXurFWZm20tCv0dXyB2S0G513hHNPSb0oYkUdTUUqKm5tB8qMeh7OUm4veDKRiADUEEYjPCvbGi3aTkTJUxOEXFWHGquNMOVTbAfR91JstwAvGAJoBg4K9XKHZA6CN5gcw3Gu5GJqiFkrTsgk6G+iNafkFpa0pUTBSuWIZTl50Y9Bo6ziHCiqGhDE8ll3qKZmCWmZd6Q9NgDAjDkENn1QH0U5E9KuxBvChIpySd1dm+GwbTqZzeF/VOlMDZ2lwO0dDuRHWFCZakAmkxcBSuKsu0jyoxaAmHhiCrLWW3KUjJkyORzglpwkSSRmGQ44jlr8YG6JtLmeoa7Qq4wBBrgdpPkwoC40rhbLP1SlbAKhrnEh+7gVu1iIEmpNAHTE9NPfA7QE5Wn8Vgfo3yIPjSt0FdOTLsqoFaOmGXjiMGiLRenjiFTwb48U140vaDXujsBPyrhbj5JSwxuqGvL7OG7iiGmz9C3Sn8xYWdXmZLWZQ5D1fsVqd7MIYtYLvA0bkl5dc/LB2Y7IG6HkyTaEaXWoR61L5GgybnIjtM4CleCDnfq0T5Ii6cP2hkLW3oxpj6iZzoR6Qp74A2VKzUH+4p9E3vdBzTdOBYE0vFBXDa674F6PsJE6Wb5YVY0KgZIwzFNpEcpHBsDjfj5KKqpZJpWvbo3XvR+bMCqWOSgk9AFTClPlEVUijELgPKYBW/+l7shn0m9JT9FPSIWnfAmaWmWiWxRVBfYxJ4pab5I54bQu2Gl3vLNOrad0wFhoUfC0wHRCFouzG2W+0Am6gmFmO0IhuCnOQF6K16Xe1zrkt2GaqSOkDDvhN0PKmS7S3EcCYhS8VObqq1JH3hDqC4ZI4a2y8yppi7aAAThYJQWWoACilQBkLxvU6qwBtVvI0pJHirROuYDe9peyGXAcwHcIR3nS3YTrwv3i60bGrG8MBnkBTmhtDHyrnuO8Ed6hrJuRa0dKb7NZrsyc3lzMOgD+8vCt8o2kFl8AGqSeEyFfs4brLKKooJqQMScyxxY9ZJMc/15n35obYC6DoS6D+YtE2Ft5SsBO70sFypeIYQBv/K32H6qX+GnsiL4Vp+mJyMyK1FQlVF1TQKaAVIqcBHjw/P8v8qfCNA6jeSTce+xZoxlNkSFPw/P8v8AKnwieH5/l/lT4Q35KTiPfYucmU2ViEQp+H5/l/lT4RPD8/y/yp8IXyUnEe+xLkymlZCitABXOgpXppnHvcQSCDUEEgg8xHTCn4fn+X+VPhE8Pz/L/KnwjvyUnEe+xO2Xa3TfMtExlKtMYqaVBu7CDndrmN8fJU5kYMtLwrSoqMQQcKjYd8KPh+f5f5U+ETw/P8v8qfCG/IOtbK3voTy6UuDi7MJ2tek5kxLjBM1NReB4rA5Endviqx2oynD3b3FYUqAeMVNccPF74TvD8/y/yp8Inh+f5f5U+ENGGkNLRax61IZZi8SE3IT1pLSomywoRlN5TjdpRTXMMYr0Za1lzKuaLcYVoTjVD4oOwHshJ8Pz/L/KnwieH5/lj0U+EMGFkRmMWsek+ieaiR0olda4XQNM2+XMlhVYNV1NOYAmpB5wIy6AkIs8kKqm42QAJ4ybs4SfD8/y/wAqfCPLacnHNgelEP8ATDW4W5sRiDsj74KQ1T3TCUjTculawn6ICpFXXEYHi1fMebGDQYJnYszAIxxoQKlQMaV2nvhDXTc4ZMB+wn9sfW1mtKcZJpU5YBRUc4pjDW4S9sJjBHWpjWudMH5hvC66Zp6YRJIBoWZRvHKDHCorgpgdouY7zlDXaKGbAEGowGBJwqw27I55K1ytk17rzbwFSBcl55bF3EwU0brHaFZiHFbqjkJlVt6/9pEbcJkjhLSRfPjvy4Kwa15nAabN3jiuh6an3ZD0FSRdAwHLN3bzEnqgVZZwmTEW4Rxqmt00CcbYTtAHXCppXWe0sFBmYXq8hNituWKtHaxWhXJDit2nITaRXxeYQ2HCpGQnMXz3n0Urq14mDG/SdeK6ZbrVwctn8lSRtx2Cm3Gkc71olSbsq6a8upvOKniY0rtiaT1otLIAZmF5fETZU+TvEedFn5ze4fj3KXfFperXk0ryRnuixhuGvgO0493V1KOprM9kNBHSv//Z"},disclaimer:"disclaimer text. orth America, North Africa, central and eastern Europe, Australia, and Asia. Fruit bodies of Ramaria botrytis are edible, and young specimens have a mild, fruity taste. Some authors war!",description:"this is the description: was an English maidservant who claimed to!",validity:{validFrom:1378210000,validUntil:1388210000},totalSlots:10,limits:{punchesPerDay:3,codeAttempts:4,codeAttemptsCoolDown:25000},defaultOverrides:{style:"normal"},overrides:[{at:[2,5,7],icon:"bonus",slotType:"mid-freebie"},{at:[1,10],icon:"bonus2",punchText:"",afterPunchText:"X",slotType:"freebie"}]};var d={id:"9898989898",title:"title",offerTitle:"11+1",upperTitle:"",icons:{"default":{whole:{bg:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcT8nKKpo0BIjRjKbWtafFJxyI6KtDFPc7ucxXwcAC6FIiWYQocW_Q"},punched:{overlay:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBggGBQkIBwgKCQkKDRYODQwMGSQTFBAWHxwtIB8cHh4jJzIqIyUvIykoMTssKTssNjg4Jys9QTctOCo4NjUBCQoKDQsNGQ4OGTUkHiQ1NTU1NTU1NTU1NTU1LTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTUvNTU1NTA1NTY2Nf/AABEIADIAMgMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAAABgUHAQMEAgj/xAA4EAABAwMCAwUFBAsAAAAAAAABAgMEAAUGERIHITETQVFhgRQiMnGRFRZCYiMkJTNScpOiscHw/8QAGgEAAwADAQAAAAAAAAAAAAAAAAMGAQQHBf/EACoRAAEEAQIEBAcAAAAAAAAAAAEAAgMRBAUxEiFBURRhofETMoGRscHw/9oADAMBAAIRAxEAPwC7n324zC3n3ENNNpKlrWdEpA6knuFIxyi95i4oYsEWy0glP2tJRvcf82Wzy0/Mr6cqMoKsxyz7tpURabclEi6beXbrVzbY+WnvK9OldmWZJEwvF3ri8zubYCW2mG/d3KPJKR4D/AFeBqepvikGNji3n0v9prGAiyuFXDm1TPfvUm5Xl09VzX1keiUkJA8tKwOGONM+9BiyLe6PhdhvONKT9FaVp4dcRGc9iSv1X2OXFUO0a3bwUq6KB0Hgf+NTeU5FHxXHJV2lpUtEdI0bTyK1E6AepNTMk2eyf4Tnu4+1/wAE4BtWowqyrEh2sWS5k1tR8caTomYhPihwaBw+Shqe402WDIIGTWpE+2PdqyolKgeSm1DqlQ7lDwpH4c8Smc8TKaVE9ilxtFFvdvC0HvB0HQ9fTxrfekfcvIm8nhjZAlLSxeWU/CUk6Jf0/iSTz8QaoMHUpo5/C5m/QpTmAjiarCooB1GooqlSUg8OVe2Y7Iu6+bt3nSJaj5FwpSPkEpFeuI+KO5jhz9virSiSlaXmd/JJUnuPzBNRGKX1rFOFsdyW0tabbLXCkhPVr9OUFR8hqDT9XOcp8sWY6bqHGvofZbbaLaVc8IOH0/DmZ0q8BCJUvahLSDu2ITqdSRy1JPd4edMufYyvLsOl2xhxLb69q2VK+Hek6gHyPT1phopEmZLJkeIPzWD9lkNAFKs+EHDm44g/On3kNtyH0BltpCgrROupJI5czppVhXW3t3a0S4D4BblMraVr4KGldVRDWSxnb7dLf2awLUw27IfOm0FYKtvz2jX1rM082VKZjv5dNggANFKvLPxsXbrHBhyEJW9GjttOKVzJUlIBJ9azSbD4XXa7wmLi3Hc2TG0vp0Hcsbv91mulhaatm7W6PasuuNnuSP2NlYK2ldEolbdriNe4qACgfEHSveI3x63yBi2QL2XSInbGeVyTOZHwrSe9QHJQ68vno5ZBYIWTWd23XFsqZc0IUk6LbUOi0nuUD0NV5e47lvhC2cQIa7hbmTrFv0ZJ1b8C5t95pY5e8OR+tTup6eXkyMFg7gbg9x38wnMf0T/RSRbmMgDAXjGWW69xPwJuKe0UkebrRBUfmK3vs5u60TPvFgtDA+J+M2pxQ/qEJqVOMAa4x6/irTrUtlGURsagpUpKpM6QeziQ2+bj7ncAPDxPdSm5a5cW0N412wdyPKHlPXF5vn2DR/eq8kpR7ifE9KLY5b4tzd+6bT+WZE4NjtzkK3tMfzO/ClP5Ucz0p5xLEvsD2idcJPt95naGXLI0Gg6IQPwoHcPX5UOm6aSQ5wpu/PkXEbcuw357pT3qdixmocRqNHQEMsoDaEjolIGgH0orbRVYkIoI1GhoooQqQ42We3W51D8GBFivLTuU4yhKFE+JIFJ3C6HHvGRMIubDU1G8DbISHB/drRRWKQvpuNFYhx0sRWW2GUDRLbYCUpHkBW2iisoRRRRQhf/Z"}},bonus:{punched:{overlay:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT_YMmhnppQhDz42uNrhqojWzQm10jX7UiB1Fr5WVVB3hZSmDUioQ"}}},images:{header:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBhISERUUExQWFBIVGBwVGBgYFx0cGhwhFBobGR4ZFBsZHSYeGxsvIBkYIjsiJCcpLiwuFx80NTAqNSgrLCkBCQoKDgwOGg8PFCwkHCQpKSwsKSouLykpLCkpKiktLCkpLDU1LCwpKSkpNTUpMiwpNCwsKSwsLCwpKSkpLCksLP/AABEIAFABAAMBIgACEQEDEQH/xAAcAAEAAwADAQEAAAAAAAAAAAAABAUGAgMHAQj/xAA/EAACAQMCBQICBQgJBQAAAAABAgMABBESIQUGEzFBIlEyYQcjcYGRFDNCYnOhsbIVFiU0UnKCg8EkY+Hj8P/EABgBAQEBAQEAAAAAAAAAAAAAAAABAwIE/8QAHxEBAQACAgIDAQAAAAAAAAAAAAECEQMSIjEhQUIT/9oADAMBAAIRAxEAPwD3GvPvpE+kuSwmWCGJWcoJC0mdIDEgBVXGT6Tvn8a9Bry76ReRp72+EiuiRiFVBOS2zOTsPt9xWfJ26+Pt3x9d+Xpl1+m7iKtutuw9tDD94kr1H6Pec/6StmkMfTeN+mwBypOA2VJ3xhhse1ePXX0burEdXJ/Z/wDsr0j6GuDSW9tOrsjK02pdPf4FB1e3YbfL51xxzk35NM+mvF6DSlK3YFKUoFKUoFKUoFKUoFKUoFKUoFKUoFKUoFKUoFKUoFKUoOEsoVSzHAAJJ+Q3NeTcQ+nc5PQtQU8NJJgke+lVOPxNerXgJjfSMtpOB7nBwK/PKfRpe9IM2hNhsWJI286VI/fWPLc/jo245h89mw4Z9PY1AXFroQnd45NWB76WUZ+4/jXranNfmKfke6A9Oh2zgKCRk/aygfvr9NxZ0jVjVjfHbPnHyrrj7fpzydfy51WRPqLyeDsD8l7fvyfvrnxy60RHHdiEH+r/AMZqLLexxr0y2GA7YPyP/I/GtGakdvr2+7+NS+W7np3EsPZXOtft8/u/lqnfiCdZjq8Z7HxvXziV6FkWWNhqXB/Dff7s1R6HSumzuOpGj/4lDfiM13VApSoXGhL+TzdAZm6b9PJwNRU6cnxvjeg4cN4/BcEiF9eBnIVsYzjIJGD9xqwrAty7MLOOFIbn6vQoSSWGRMRIQodGcoYyTuAc5UHxUey4TLLMSYdJimhVJA+lFW0RDIlurNr9UnUXJGCrbk4wQ9GpXn0/KU3QtRpaXKM10EeNi8rgMpPXyjRhmmGPGpSBts/qrOrsFjmZBEYuo0kRnGI1iU2suoEHGpiJBjOT3NB6DUc38YlEWr6woZAuD8KkKT7d2ArPcM4ZcxWE8aLHDdOJTEFCrvpwjSBCUDZ0507dvnVFLyjPl3igaFGMCNGJI2leOJZGcuWJRmMki51H1CPf2oN3d8ViiYK7aWZWcDB+GMqGOw8F0H+oVLrBQcozB4goIjQQr65F1qpuHuZhhMDGVgQKu2FI3Ar5PyzeC3cFzlZTHGqyDJgafqNhn9PVZSq4OwVAufU2Q31KxnB+UykkZkV1t40lk0SOu0ksinBSLEYVVjyANh1TTl3hEptcyq0wkHQjQuyabdpDhzn1CQoQxGx9KLtig1d9fpCmuQ4XIGcE9/koJqHw7ma2nZVikDlwWXCthgmnLKSMEetN/wBYV2cfhla1mSDHWaNlj3wAzKQDnxgnP3VmONcmPISqKNEcEFtAdWCoEoaaQDwwRIsfNKDb1A4lx2CAgSPhiMhQrM2B3bSgJC/rYx86zvC+XZvy5ppxLqWSR0cPF0yjZVE2HVwFI9Bwupc77ZniG4hu7iRYDMs/T0OJFXQETQUkDHIUNqfKhvzjbZ7hfwzK6hlOVYBgR2IIyCKj3/FooRmVwoxq7HsGVfA/xOo++sJfcsX800spQRu0c8WVdFB6rJEhVl+sYCLW/rOzKMAVM45yvL1G6cWq2DW46YlwSsTvNI3rYeov0V3OcJQbqlec3HKF0yGPpApIknSUSjTayTysdeMgkqhj0lM4ZHAwGzVvY8JuzdDqKREt1LcM5kBDKIunEqqDkdwSCAAV85oNfSlKCPfz6UOPiPpX7T/9n7qqOKwqsOkAbDHb2GKkXNyGn0k4WIaj7ZPv9gqDxy/jKHDr2x3oKOW0V7c+kZADdvbvW14RfdaFH8kb/aNj++shw25QrgsuCp8+3f8AjUnk/iBSVoDurZZftXvj7Rj8KtF5zJ+aX/Ov/NQ+LcLd8sJCudPvsACDjBxvnOamcyfml/zr/wA1F5qlRbKbWwVTGUJP64042381BjLe01ys0c5ddRGck4KMwZdj38f6ak8TtWjRdTaift8A+5+z8Peslb8We1kkRbKSHVIzJLGpEBBUBQySBc79yNJydq23MAPTj1D1YOcds43x8s105xy22nBf7vD+zX+UVNqFwT+7w/s1/lFTa5dFQOPXckVtNJCmuVI2ZFwTlgCQMDc7+Buan1H4hcGOKR1ALKjMAexKqSAcfZQYq84rIAgS4u3idJGMiwetpYwgSKMdIaQxdm3GPq8ZxqquvuAXN05a419WR7a0bTGNKokay3DIWQ4QuZFyDhtgc7AWR+kslWZYQQITcg6u8axZ1DbuZ8RAedz4rlw3iU73SRGVyOuUO4xos7dVk8b5nkAP2DtQVtpxW/RJWT0mJXXodJ8J9YqKwUQBcquXOgvr3wCMCtJwO9uVs7iVmNyw1vCoDajoQYjy0aFsuGwdPZgMnFdt/wA1FJpY1QHRLbQKSTu9wcvn/LGVb579qrTztOCytCBOzrGsOltadTqMGck6ZV0xOcoRkqRt3oK22NzJcJJHJO7FYIRK0JAUzsZrgxqyABNMMS7g4LYzmpbTXQeTBnVNdw7SLH9Y0dpGkaKDoI1NIxYYGSFONs1dXHHZ04bJcSxiOdUkwnuwJWPycajp2JONWN6obDmK5gaaKV3acdJURwspzoZ5XzFpAGMHSxGnCnPrAoPnBmvTextOroGiggeZY8lnij6zpjTiONnlcGTtmLT6Tg1J53tppJw0auwtoGkjHTDoZ536UTYKkEph2ON1BB2B3hLzRcXTQFWMXVS1Uqh21XMhnc7jORBD9wmNXjcUuIbtYXOUlk2kdWKsX1HoxFCREVRB8edRJO2aCBf3d2lwYVlmMitD0vqholDsDK8rKmkIq6lwCCNOdyy10TXl8w6nUuVVorucosQyFjcCCNMxkiUg5xuTg1I5x4vcLcFYnKxwwq7KrFWaW6lMMIJAOwKsdPnO/ipMnM910mlSJGiErxKw1SMFhZkMzouCwyhGFP6QOcZoO7jpmFnbibUwLRC7MYOdOn17J6tJcAHT2Unxmqu/uooios0ktoJElZnt7Yq0kkWgRxqpjwM63OogaunjOM1acu8YuLi5kbVE1qkcI9Ibd5I+sWQt4KyR7HsAPOaqrjm+SOeVsl06smhSwC4h6Fqqk4OFaeYkt40E74xQc4+O3CdRrhp/yiBV+oii+rf6pNb6umwKmRnOQdgmACQQZfK91ftHMTpf64LH1mcegRqWKt0EZxrJxlAO+DUO75ju3mEAaFHS4w0i6ghWGAzSawcnSC8SnBGST8NcIecrple5xGIYrOGaSM6sh5wZCAcZGECnfw4oO23WFmlM9u01+JZWQPExIEbMYRFIV0ohRYzlSASxzk5qB+U3NwioTNPDKbbq6oSuHV2mmSNSqkR6I1XByMuoySWqwb6Q3JkCQatBAAycn8odEtvGxcF3I8Kg8sKXHOVxHo60WhwZG050B1DRQxawdRjBkuFzknAjJ37UHfybxS6uLiV31rbmJHVXDbPI7nSpaGPBVVAKjUAWHqJ3OxrCXfMd28wgDQo6XGGkXUEKwwGaTWDk6QXiU4IySfhqbyzx+6u51Y9NIRbQSSJuSJLhWkwDjwoTY+H96DXUpSgoGjJuJwuAxTAz2yVwM1Q8c4ZKoP1iqPSFzg5JxnJx8jjv3/HRw/3uX7B/AVifpYkjwNYLmNNYRZdDA9RcSBQ2WYBDjY/F43NPtLdR2cM4fMQu6nbfPnYasenbJH7/ADgYm8uDF8gONg429wviqvk/mdLqTEIcxAMcyJodcaQAcZVwc9xggg5z3q24Cf7QH+5/CuiXbSc1TKkIZiFVXBJJwABncmuXE0Elu4HqDxkbHGQ6kbHtvnvUHn+WEWhWdwkbsFJ+4nbY77Z+6qODn60SDpqHxE0cILlQCH7SagT6cDPYeBtWdsnt3MbZ8KCRZjKySyStGO4YGTVg/pAKqkbb7EdqvePIFjjC7KBgDfsFwBvv296zlxzoReNpAlhLFE6fxkquonfvjf5e3vXdzDx6S4tYZbZQFy3ULEEpoAJGOzZHt7ir3lScevp6pwY/9PD+zT+UVMqt5auRJZ27jIDxIwz33UHerKqhXCVgFJbGkAk57Y85zXOonFeGpcQvDJnRIpVsHB39jQZSPmi2lULBDHnqw2pBEbpowZsBomZCqoHIGfSfFTo+arRRHIkLapI45VCxqHxfSYUd9mZkLEZ/Qye1TF5Pt9y3UdizuWaQkkyRdAk4/wC36RjtnauNjyZbxFWzI7IY2BdyT9QjIg9sAOxx7nPegqX5ksjIZpbQo4E2ZXijJzZq3UXUpLHC6gCNu4z4r7ZXdlhbZrNAryLG+IUEPVEIlxpJ1bAEZwdOnGat5OTbZkCEOVCSJ8Z3FxIssmT5JZRv7EjsTXOTlO3buH+KaTZ2HquVZXbv3wzAe2dqCssuYrSW1CNErRFYMRiIaCt25EKBG2zp0MRjABB+Qgzcc4esekWGqFFmnQCGEJi2bRLIikgL8QwSBqB2zV4nJdssiuOoArRuEDnp6oEEaMV8kKF+XpBxmuX9Tbbp9PS2joC1xrP5sHJGc9z5Pc+aDp41dpBFDJDAjSSSwrGOmM+oBSQNsMIQ4zkYA9tqgnmWyDG5Fq3WQEzuIk6kQV2hJlbOTujgBSxKoT2rQcW4Klx09TSI0TF0ZG0kEqyZ7EHZm7jzUH+pVtlcawoCKyBzpk6TM6mYHdjqZmJz6snOaCouOasu2LIyE3gtlbCZfoamL7nOpSkmM9ttxviJPzXY6NFzBE6rJIY4xGh0xiVodYVz6mZkk2QEkA7e+kj5RiVkIeYGOd7lPX2aXVrUbfAdbbH/ABHBFLTlGGJkMTSx6ESMhZDhxGzMvUzkscu++xOo5zQWkXDolkaVY0ErAKzhQGIXsGbGSNh+FRr7gMUkbIFCagVJVEzhm1spDKVKkkkgg5yfNWNKCr4XyzbwR6EjUj15LKpJ6uNecAAA6VGAAMKBjau88FtyWYwxanTpMdC5KdtDbbp+qdqm0oI03DIXDq8aMsmNYKAhtIAGsEerAA7+1RLnlyBojEiLEpXR6I0+EtqK4ZSpUnOQRg5NWlKCr4XyzbwR6EjUj15LKpJ6uNecAAA6VGAAMKBjapcXDIVk6ixIsmkJrCgNpXsuQM6flUmlApSlBSQsPyuUecD+Aqi51EkbLNESjhWViEQ6gShAZmOxBG2x7tXVxm7toOIm6ll0mJNBRRqYhvOAchRnfb27V95i5tg6c5jIZokRvUdIbqDKgZ9WcEbY+VTeqtw3PSs5XYyS9WRw0pX9E4OPZwFVWG+e2QfNWXAT/aA/3P4VScvc6QkqkoMcmrQdvQCfds7dx95rv5Z4q/8AS/TkQxqxkWPI3YouWOe2nGDV7SnSz40t/pcVDb26yMVje5RGI7gMj7gAHOO+MV52BNa6yjRrN1TCVcIdkXWr6SCue2+diQMbivauY+Ex3EBjkj6m4K+CrDsynuCPeslffRshGV6yNkvhJAQGYbsAw2J871nljbdxrhnJNV5M7OzlyMJMzEKoPpYlSSVGSB3GxyfuxUy4t5XgkmWX6lcDGNJJXSfzY2DAHOf0vvNa5+QbjVjXdFR23A39/h79qmWf0bK0qdWF2Re41ac52JIXAJPnff2qdKv9I3/Ko/6K27fmY+wwN1HYeB8qta4QQqiqqgKqgKoHYADAA+WK51qwKUpQKUpQKUpQKUpQKUpQKUpQKUpQKUpQKUpQKUpQKUpQeGc6Weu+vpAQWjdFZAMnS6D6zK7gA4Bz7996q+OysqvbtDEWUiNZQB1CY8MPUrYI0nt27ZORXqXMHJEU1xIydVDMB1dHwkoQVODsTtuOxyKy/FeQZYyzLKxLNrbVbr3PkYOB7/jWNwu3onJNMNaztuCydQFgVbt1CSNSBdtWw9WwyMdsVruR1uP6XhFyQ0gjdvUfUPSy5221Y7++c+K6oOUJXz1GLg7kdELk74IIO3f5g43rYch8nLFKbiUyvOMhDIcgB/ixjb7t8ZPvtZjZXOWcsf/Z"},disclaimer:"disclaimer text",validity:{},totalSlots:5,limits:{},defaultOverrides:{},overrides:[{at:[5],icon:"bonus",slotType:"freebie"}]};var c={id:"1111222333",title:"this is a very long title. it will end with '9': Itsik-Bitsik-Coffee loyalty card 123 123123 32432453 5464565 6576767867 787878 78888 88888 9",offerTitle:"12+1",icons:{"default":{whole:{bg:"bad_url_fall_to_default.svg"}},bonus:{whole:{bg:"bad_url_fall_to_default.svg"},punched:{bg:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT_YMmhnppQhDz42uNrhqojWzQm10jX7UiB1Fr5WVVB3hZSmDUioQ"}}},images:{background:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTOHgmzjqmHmLpDhZCxLR4PLEelnTB2wmFbrboARGN2u5QPim8N"},description:"this is the description. it can be a very long text. it will end with 9: 1111111 1212121112 2131231 3453453 56565465 67676767677 77778888 888888 9",validity:{validFrom:1178210000,validUntil:1188210000},totalSlots:13,limits:{punchesPerDay:20,codeAttempts:2,codeAttemptsCoolDown:5000},defaultOverrides:{},overrides:[{at:[10],icon:"bonus",slotType:"freebie"}]};b.push({key:"CMS_LOYALTYCARDS_GET",result:function(){var f=[];if(Math.random()>0){f.push(e)}if(Math.random()>0){f.push(d)}if(Math.random()>0){f.push(c)}return{items:f}}})}if(TEST_LOYALTY||false){b.push({key:"CONTENTHOST_LOYALTYCARDS_VALIDATE_POST",result:function(f,g){if(g.code==="111"){return false}else{return true}}})}this.createOverride=function(h){var g=null;if(typeof(h.result)==="object"){var f=h.result;h.result=function(){return f}}g=function(j,l,i,k,m){setTimeout(function(){var n=h.result(l,m);i(n)},1000);return true};ServiceOverrideManager.registerOverride(h.key,"1",g);ServiceOverrideManager.overrideServices([{version:1,key:h.key,params:{}}])};for(var a=b.length-1;a>=0;a--){this.createOverride(b[a])}}()); var EventsTemplateHelper={updateTemplateItems:function(g){var f=[];var c=g.items;var b=0;for(var e=0;e<c.length;e++){var a=c[e].views;if(a){for(var d=0;d<a.length;d++){f[b]=a[d];$.extend(true,f[b],c[e].params,f[b]);f[b].title=Utils.String.translateIfNeed(f[b].title);f[b].layoutId=g.pageLayout||0;b++}}}g.items=f},formatTime:function(b,d,c){if(!b){return null}var a=b.format("shortTime",true);if(d&&(d.getTime()!=b.getTime())){if(d.format("d/m/yyyy",true)===b.format("d/m/yyyy",true)){a+=" - "+d.format("shortTime",true)}else{a=b.format("shortDate",true)+" "+a+" - "+d.format("shortDate",true)+" "+d.format("shortTime",true)}}a+=" (GMT";if(c){a+=(c>0?"+":"")+c}a+=")";return a},formatVenueString:function(a){return[a.street?a.street+"</br>":"",a.city?a.city+",":"",a.state?a.state+"</br>":"",a.country?a.country+"</br>":""].join("")}}; AppInit=(function(){var b=_.extend({},Backbone.Events),c,a;b.init=function(e,d){b.step("appinit.start");c=e;a=d;var h=when.defer();DeviceInfo.init();DeviceSupport.init();var g=when(Device.init()).then(b.onDeviceReady).then(Config.init).then(b.onConfigReady).then(UserManager.init).then(b.onUserMgrReady).then(ServiceMap.init).then(b.onServiceMapReady).then(AmsLoader.init);g=g.then(function(){return when.all([LocalizationManager.updateLocalization(),LayoutTemplate.init()])});g=g.then(b.onAmsReady);g=g.then(function i(){b.step("appinit.ready.env.start");if(PLATFORM===platformEnum.webApp){UsageManager.addEvent(analytics.usageEventTypeEnum.UserLoggedIn,null,true)}b.step("appinit.complete")},function f(j){b.trigger("appinit.failed",j);j=(j&&j.stack)||j;console.error(j)});return g};b.step=function(d){if(DEBUG){console.log(d)}b.trigger.apply(b,_.toArray(arguments))};b.onDeviceReady=function(){b.step("appinit.ready.device")};b.onConfigReady=function(){b.step("appinit.ready.config");window.appDriver=new AppDriver;window.socialDriver=new SocialDriver;window.geoDriver=new GeoDriver;UrlGenerator.emptyAppParams();DataDumper.init();LocalizationManager.init();AppConfiguration.init()};b.onUserMgrReady=function(){b.step("appinit.ready.usermgr");ProfileManager.init();var d;if(PLATFORM===platformEnum.simulator||window.top!==window.self){d=HashManagerFake.init()}else{d=HashManager.init()}UN.init(d)};b.onServiceMapReady=function(){b.step("appinit.ready.servicemap");UsageManager.init();UserManager.login()};b.onAmsReady=function(){b.step("appinit.ready.ams");var d=AmsLoader.getValue();var f=AppSettingsManager.createSettings(d.settings);var h=AppManager.createApp(d,c,a);LocalizationManager.addOverrideTranslation(d.overrideTranslation);ServiceOverrideManager.overrideServices(f.get("overrideServices"));ErrPagesManager.init(d.errPages);CodeRunner.runCode(f.getJsCode());FacebookLib.init(d);var h=AppManager.app();h.setLayout(LayoutTemplate.getValue());try{LayoutApplier.apply(h)}catch(g){console.error(g);throw g}};b.destroy=function(){b.trigger("appinit.destroy")};_.bindAll(b);return b}()); var ImagesLoader=(function(){var a={};a.init=function(){var c;if(window.devicePixelRatio>=2){c="@2/"}else{if(window.devicePixelRatio>=1.5){c="@2/"}else{c="@1/"}}var b=["app/interface/web/img/"+c+"sprite.png","app/interface/web/img/"+c+"blackSprite.png","app/interface/web/img/ajax-loader.png","pages/common/controls/photoswipe/loader.gif"];if(!DeviceSupport.isMaskSupported){b[b.length]="app/interface/web/img/"+c+"whiteSprite.png"}Utils.Html.preloadImages(b)};AppInit.on("appinit.start",_.once(a.init));return a}()); var Main=(function(){var a={};a.onAppInitFailed=function(b){AppInitView.showFailureDialog(b);AppManager.trigger("app.launched",false,b)};a.onResourcesLoaded=function(){try{var c=AppManager.app();AppInitView.showApp(c);AppManager.trigger("app.launched",true)}catch(b){AppManager.trigger("app.launch.failed");b=(b&&b.stack)||b;console.error(b)}};a.onAppInitSuccess=function(){$(document).ready(function(){try{var h=AppManager.app();var f={};var b=h.get("pages");for(var e=b.length-1;e>-1;e--){var g=pageTypes[b[e].get("type")];var c=g&&g.packageName;f[c]=true}ResourceLoader.loadResources(window.__resources,f,a.onResourcesLoaded)}catch(d){AppManager.trigger("app.launch.failed");d=(d&&d.stack)||d;console.error(d)}})};a.start=function(c,b){AppInit.init(c,b);AppInit.off(null,null,a);AppInit.on("appinit.complete",a.onAppInitSuccess);AppInit.on("appinit.failed",a.onAppInitFailed)};AppInitView.on("retry",a.start);window.setTimeout(a.start,0);return a}()); 